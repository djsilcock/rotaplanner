import{y as Wt,z as gt,c as Oe,j as g,A as de,D as qt,n as w,b as E,q as W,w as be,v as ze,B as It,e as De,C as Fn,d as ee,a as Bt,m as Rt,F as ke,x as M,E as Vn,t as An,I as We,l as Sn,S as Cn}from"./index-C54x-Mf0.js";import{t as I,c as H,b as Je,n as Yn,d as Nn,e as Ht,m as Ln,a as Wn,f as qn,g as jt,s as In}from"./differenceInCalendarDays-UI_6T4ZZ.js";let Bn={};function we(){return Bn}function G(r,t){const s=we(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,a=I(r,t?.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function ye(r,t){return G(r,{...t,weekStartsOn:1})}function Qt(r,t){const s=I(r,t?.in),n=s.getFullYear(),a=H(s,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=ye(a),o=H(s,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=ye(o);return s.getTime()>=i.getTime()?n+1:s.getTime()>=l.getTime()?n:n-1}function Rn(r,t){const s=Qt(r,t),n=H(r,0);return n.setFullYear(s,0,4),n.setHours(0,0,0,0),ye(n)}function Hn(r,t,s){return Je(r,t*7,s)}function jn(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Gt(r){return!(!jn(r)&&typeof r!="number"||isNaN(+I(r)))}function Qn(r,t){const[s,n]=Yn(r,t.start,t.end);return{start:s,end:n}}function Gn(r,t){const{start:s,end:n}=Qn(t?.in,r);let a=+s>+n;const i=G(a?n:s,t),o=G(a?s:n,t);i.setHours(15),o.setHours(15);const l=+o.getTime();let c=i,d=1;const u=[];for(;+c<=l;)c.setHours(0),u.push(H(s,c)),c=Hn(c,d),c.setHours(15);return a?u.reverse():u}function Xn(r,t){const s=I(r,t?.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const Kn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Un=(r,t,s)=>{let n;const a=Kn[r];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function tt(r){return(t={})=>{const s=t.width?String(t.width):r.defaultWidth;return r.formats[s]||r.formats[r.defaultWidth]}}const zn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Zn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},er={date:tt({formats:zn,defaultWidth:"full"}),time:tt({formats:Jn,defaultWidth:"full"}),dateTime:tt({formats:Zn,defaultWidth:"full"})},tr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nr=(r,t,s,n)=>tr[r];function Me(r){return(t,s)=>{const n=s?.context?String(s.context):"standalone";let a;if(n==="formatting"&&r.formattingValues){const o=r.defaultFormattingWidth||r.defaultWidth,l=s?.width?String(s.width):o;a=r.formattingValues[l]||r.formattingValues[o]}else{const o=r.defaultWidth,l=s?.width?String(s.width):r.defaultWidth;a=r.values[l]||r.values[o]}const i=r.argumentCallback?r.argumentCallback(t):t;return a[i]}}const rr={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sr={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ar={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ir={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},or={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ur=(r,t)=>{const s=Number(r),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},cr={ordinalNumber:ur,era:Me({values:rr,defaultWidth:"wide"}),quarter:Me({values:sr,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Me({values:ar,defaultWidth:"wide"}),day:Me({values:ir,defaultWidth:"wide"}),dayPeriod:Me({values:or,defaultWidth:"wide",formattingValues:lr,defaultFormattingWidth:"wide"})};function _e(r){return(t,s={})=>{const n=s.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],c=Array.isArray(l)?fr(l,f=>f.test(o)):dr(l,f=>f.test(o));let d;d=r.valueCallback?r.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function dr(r,t){for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&t(r[s]))return s}function fr(r,t){for(let s=0;s<r.length;s++)if(t(r[s]))return s}function hr(r){return(t,s={})=>{const n=t.match(r.matchPattern);if(!n)return null;const a=n[0],i=t.match(r.parsePattern);if(!i)return null;let o=r.valueCallback?r.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const mr=/^(\d+)(th|st|nd|rd)?/i,vr=/\d+/i,pr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yr={any:[/^b/i,/^(a|c)/i]},gr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},br={any:[/1/i,/2/i,/3/i,/4/i]},wr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_r={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kr={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tr={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Pr={ordinalNumber:hr({matchPattern:mr,parsePattern:vr,valueCallback:r=>parseInt(r,10)}),era:_e({matchPatterns:pr,defaultMatchWidth:"wide",parsePatterns:yr,defaultParseWidth:"any"}),quarter:_e({matchPatterns:gr,defaultMatchWidth:"wide",parsePatterns:br,defaultParseWidth:"any",valueCallback:r=>r+1}),month:_e({matchPatterns:wr,defaultMatchWidth:"wide",parsePatterns:Mr,defaultParseWidth:"any"}),day:_e({matchPatterns:_r,defaultMatchWidth:"wide",parsePatterns:xr,defaultParseWidth:"any"}),dayPeriod:_e({matchPatterns:kr,defaultMatchWidth:"any",parsePatterns:Tr,defaultParseWidth:"any"})},Xt={code:"en-US",formatDistance:Un,formatLong:er,formatRelative:nr,localize:cr,match:Pr,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Dr(r,t){const s=I(r,t?.in);return Nn(s,Xn(s))+1}function Kt(r,t){const s=I(r,t?.in),n=+ye(s)-+Rn(s);return Math.round(n/Ht)+1}function bt(r,t){const s=I(r,t?.in),n=s.getFullYear(),a=we(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=H(t?.in||r,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=G(o,t),c=H(t?.in||r,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=G(c,t);return+s>=+l?n+1:+s>=+d?n:n-1}function $r(r,t){const s=we(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,a=bt(r,t),i=H(t?.in||r,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),G(i,t)}function Ut(r,t){const s=I(r,t?.in),n=+G(s,t)-+$r(s,t);return Math.round(n/Ht)+1}function D(r,t){const s=r<0?"-":"",n=Math.abs(r).toString().padStart(t,"0");return s+n}const se={y(r,t){const s=r.getFullYear(),n=s>0?s:1-s;return D(t==="yy"?n%100:n,t.length)},M(r,t){const s=r.getMonth();return t==="M"?String(s+1):D(s+1,2)},d(r,t){return D(r.getDate(),t.length)},a(r,t){const s=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(r,t){return D(r.getHours()%12||12,t.length)},H(r,t){return D(r.getHours(),t.length)},m(r,t){return D(r.getMinutes(),t.length)},s(r,t){return D(r.getSeconds(),t.length)},S(r,t){const s=t.length,n=r.getMilliseconds(),a=Math.trunc(n*Math.pow(10,s-3));return D(a,t.length)}},fe={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$t={G:function(r,t,s){const n=r.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(r,t,s){if(t==="yo"){const n=r.getFullYear(),a=n>0?n:1-n;return s.ordinalNumber(a,{unit:"year"})}return se.y(r,t)},Y:function(r,t,s,n){const a=bt(r,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return D(o,2)}return t==="Yo"?s.ordinalNumber(i,{unit:"year"}):D(i,t.length)},R:function(r,t){const s=Qt(r);return D(s,t.length)},u:function(r,t){const s=r.getFullYear();return D(s,t.length)},Q:function(r,t,s){const n=Math.ceil((r.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return D(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,t,s){const n=Math.ceil((r.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return D(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,t,s){const n=r.getMonth();switch(t){case"M":case"MM":return se.M(r,t);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(r,t,s){const n=r.getMonth();switch(t){case"L":return String(n+1);case"LL":return D(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(r,t,s,n){const a=Ut(r,n);return t==="wo"?s.ordinalNumber(a,{unit:"week"}):D(a,t.length)},I:function(r,t,s){const n=Kt(r);return t==="Io"?s.ordinalNumber(n,{unit:"week"}):D(n,t.length)},d:function(r,t,s){return t==="do"?s.ordinalNumber(r.getDate(),{unit:"date"}):se.d(r,t)},D:function(r,t,s){const n=Dr(r);return t==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):D(n,t.length)},E:function(r,t,s){const n=r.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(r,t,s,n){const a=r.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return D(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});case"eeee":default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(r,t,s,n){const a=r.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return D(i,t.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});case"cccc":default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(r,t,s){const n=r.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return D(a,t.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(r,t,s){const a=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,t,s){const n=r.getHours();let a;switch(n===12?a=fe.noon:n===0?a=fe.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,t,s){const n=r.getHours();let a;switch(n>=17?a=fe.evening:n>=12?a=fe.afternoon:n>=4?a=fe.morning:a=fe.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,t,s){if(t==="ho"){let n=r.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return se.h(r,t)},H:function(r,t,s){return t==="Ho"?s.ordinalNumber(r.getHours(),{unit:"hour"}):se.H(r,t)},K:function(r,t,s){const n=r.getHours()%12;return t==="Ko"?s.ordinalNumber(n,{unit:"hour"}):D(n,t.length)},k:function(r,t,s){let n=r.getHours();return n===0&&(n=24),t==="ko"?s.ordinalNumber(n,{unit:"hour"}):D(n,t.length)},m:function(r,t,s){return t==="mo"?s.ordinalNumber(r.getMinutes(),{unit:"minute"}):se.m(r,t)},s:function(r,t,s){return t==="so"?s.ordinalNumber(r.getSeconds(),{unit:"second"}):se.s(r,t)},S:function(r,t){return se.S(r,t)},X:function(r,t,s){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Et(n);case"XXXX":case"XX":return ue(n);case"XXXXX":case"XXX":default:return ue(n,":")}},x:function(r,t,s){const n=r.getTimezoneOffset();switch(t){case"x":return Et(n);case"xxxx":case"xx":return ue(n);case"xxxxx":case"xxx":default:return ue(n,":")}},O:function(r,t,s){const n=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ot(n,":");case"OOOO":default:return"GMT"+ue(n,":")}},z:function(r,t,s){const n=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ot(n,":");case"zzzz":default:return"GMT"+ue(n,":")}},t:function(r,t,s){const n=Math.trunc(+r/1e3);return D(n,t.length)},T:function(r,t,s){return D(+r,t.length)}};function Ot(r,t=""){const s=r>0?"-":"+",n=Math.abs(r),a=Math.trunc(n/60),i=n%60;return i===0?s+String(a):s+String(a)+t+D(i,2)}function Et(r,t){return r%60===0?(r>0?"-":"+")+D(Math.abs(r)/60,2):ue(r,t)}function ue(r,t=""){const s=r>0?"-":"+",n=Math.abs(r),a=D(Math.trunc(n/60),2),i=D(n%60,2);return s+a+t+i}const Ft=(r,t)=>{switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},zt=(r,t)=>{switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Or=(r,t)=>{const s=r.match(/(P+)(p+)?/)||[],n=s[1],a=s[2];if(!a)return Ft(r,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Ft(n,t)).replace("{{time}}",zt(a,t))},ot={p:zt,P:Or},Er=/^D+$/,Fr=/^Y+$/,Vr=["D","DD","YY","YYYY"];function Jt(r){return Er.test(r)}function Zt(r){return Fr.test(r)}function lt(r,t,s){const n=Ar(r,t,s);if(console.warn(n),Vr.includes(r))throw new RangeError(n)}function Ar(r,t,s){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${t}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Sr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yr=/^'([^]*?)'?$/,Nr=/''/g,Lr=/[a-zA-Z]/;function Vt(r,t,s){const n=we(),a=n.locale??Xt,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=I(r,s?.in);if(!Gt(l))throw new RangeError("Invalid time value");let c=t.match(Cr).map(u=>{const f=u[0];if(f==="p"||f==="P"){const h=ot[f];return h(u,a.formatLong)}return u}).join("").match(Sr).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const f=u[0];if(f==="'")return{isToken:!1,value:Wr(u)};if($t[f])return{isToken:!0,value:u};if(f.match(Lr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:u}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(u=>{if(!u.isToken)return u.value;const f=u.value;(Zt(f)||Jt(f))&&lt(f,t,String(r));const h=$t[f[0]];return h(l,f,a.localize,d)}).join("")}function Wr(r){const t=r.match(Yr);return t?t[1].replace(Nr,"'"):r}function qr(){return Object.assign({},we())}function Ir(r,t){const s=I(r,t?.in).getDay();return s===0?7:s}function Br(r,t){const s=I(r,t?.in),n=s.getMonth();return s.setFullYear(s.getFullYear(),n+1,0),s.setHours(0,0,0,0),I(s,t?.in)}function Rr(r,t){const s=Hr(t)?new t(0):H(t,0);return s.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),s.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),s}function Hr(r){return typeof r=="function"&&r.prototype?.constructor===r}const jr=10;class en{subPriority=0;validate(t,s){return!0}}class Qr extends en{constructor(t,s,n,a,i){super(),this.value=t,this.validateValue=s,this.setValue=n,this.priority=a,i&&(this.subPriority=i)}validate(t,s){return this.validateValue(t,this.value,s)}set(t,s,n){return this.setValue(t,s,this.value,n)}}class Gr extends en{priority=jr;subPriority=-1;constructor(t,s){super(),this.context=t||(n=>H(s,n))}set(t,s){return s.timestampIsSet?t:H(t,Rr(t,this.context))}}class T{run(t,s,n,a){const i=this.parse(t,s,n,a);return i?{setter:new Qr(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,s,n){return!0}}class Xr extends T{priority=140;parse(t,s,n){switch(s){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});case"GGGG":default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}set(t,s,n){return s.era=n,t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const Y={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},K={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function N(r,t){return r&&{value:t(r.value),rest:r.rest}}function F(r,t){const s=t.match(r);return s?{value:parseInt(s[0],10),rest:t.slice(s[0].length)}:null}function U(r,t){const s=t.match(r);if(!s)return null;if(s[0]==="Z")return{value:0,rest:t.slice(1)};const n=s[1]==="+"?1:-1,a=s[2]?parseInt(s[2],10):0,i=s[3]?parseInt(s[3],10):0,o=s[5]?parseInt(s[5],10):0;return{value:n*(a*Ln+i*Wn+o*qn),rest:t.slice(s[0].length)}}function tn(r){return F(Y.anyDigitsSigned,r)}function A(r,t){switch(r){case 1:return F(Y.singleDigit,t);case 2:return F(Y.twoDigits,t);case 3:return F(Y.threeDigits,t);case 4:return F(Y.fourDigits,t);default:return F(new RegExp("^\\d{1,"+r+"}"),t)}}function qe(r,t){switch(r){case 1:return F(Y.singleDigitSigned,t);case 2:return F(Y.twoDigitsSigned,t);case 3:return F(Y.threeDigitsSigned,t);case 4:return F(Y.fourDigitsSigned,t);default:return F(new RegExp("^-?\\d{1,"+r+"}"),t)}}function wt(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function nn(r,t){const s=t>0,n=s?t:1-t;let a;if(n<=50)a=r||100;else{const i=n+50,o=Math.trunc(i/100)*100,l=r>=i%100;a=r+o-(l?100:0)}return s?a:1-a}function rn(r){return r%400===0||r%4===0&&r%100!==0}class Kr extends T{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,s,n){const a=i=>({year:i,isTwoDigitYear:s==="yy"});switch(s){case"y":return N(A(4,t),a);case"yo":return N(n.ordinalNumber(t,{unit:"year"}),a);default:return N(A(s.length,t),a)}}validate(t,s){return s.isTwoDigitYear||s.year>0}set(t,s,n){const a=t.getFullYear();if(n.isTwoDigitYear){const o=nn(n.year,a);return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}const i=!("era"in s)||s.era===1?n.year:1-n.year;return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class Ur extends T{priority=130;parse(t,s,n){const a=i=>({year:i,isTwoDigitYear:s==="YY"});switch(s){case"Y":return N(A(4,t),a);case"Yo":return N(n.ordinalNumber(t,{unit:"year"}),a);default:return N(A(s.length,t),a)}}validate(t,s){return s.isTwoDigitYear||s.year>0}set(t,s,n,a){const i=bt(t,a);if(n.isTwoDigitYear){const l=nn(n.year,i);return t.setFullYear(l,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),G(t,a)}const o=!("era"in s)||s.era===1?n.year:1-n.year;return t.setFullYear(o,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),G(t,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class zr extends T{priority=130;parse(t,s){return qe(s==="R"?4:s.length,t)}set(t,s,n){const a=H(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),ye(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Jr extends T{priority=130;parse(t,s){return qe(s==="u"?4:s.length,t)}set(t,s,n){return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class Zr extends T{priority=120;parse(t,s,n){switch(s){case"Q":case"QQ":return A(s.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=1&&s<=4}set(t,s,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class es extends T{priority=120;parse(t,s,n){switch(s){case"q":case"qq":return A(s.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=1&&s<=4}set(t,s,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class ts extends T{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,s,n){const a=i=>i-1;switch(s){case"M":return N(F(Y.month,t),a);case"MM":return N(A(2,t),a);case"Mo":return N(n.ordinalNumber(t,{unit:"month"}),a);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=11}set(t,s,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}}class ns extends T{priority=110;parse(t,s,n){const a=i=>i-1;switch(s){case"L":return N(F(Y.month,t),a);case"LL":return N(A(2,t),a);case"Lo":return N(n.ordinalNumber(t,{unit:"month"}),a);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=0&&s<=11}set(t,s,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function rs(r,t,s){const n=I(r,s?.in),a=Ut(n,s)-t;return n.setDate(n.getDate()-a*7),I(n,s?.in)}class ss extends T{priority=100;parse(t,s,n){switch(s){case"w":return F(Y.week,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return A(s.length,t)}}validate(t,s){return s>=1&&s<=53}set(t,s,n,a){return G(rs(t,n,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function as(r,t,s){const n=I(r,s?.in),a=Kt(n,s)-t;return n.setDate(n.getDate()-a*7),n}class is extends T{priority=100;parse(t,s,n){switch(s){case"I":return F(Y.week,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return A(s.length,t)}}validate(t,s){return s>=1&&s<=53}set(t,s,n){return ye(as(t,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const os=[31,28,31,30,31,30,31,31,30,31,30,31],ls=[31,29,31,30,31,30,31,31,30,31,30,31];class us extends T{priority=90;subPriority=1;parse(t,s,n){switch(s){case"d":return F(Y.date,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return A(s.length,t)}}validate(t,s){const n=t.getFullYear(),a=rn(n),i=t.getMonth();return a?s>=1&&s<=ls[i]:s>=1&&s<=os[i]}set(t,s,n){return t.setDate(n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class cs extends T{priority=90;subpriority=1;parse(t,s,n){switch(s){case"D":case"DD":return F(Y.dayOfYear,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return A(s.length,t)}}validate(t,s){const n=t.getFullYear();return rn(n)?s>=1&&s<=366:s>=1&&s<=365}set(t,s,n){return t.setMonth(0,n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Mt(r,t,s){const n=we(),a=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=I(r,s?.in),o=i.getDay(),c=(t%7+7)%7,d=7-a,u=t<0||t>6?t-(o+d)%7:(c+d)%7-(o+d)%7;return Je(i,u,s)}class ds extends T{priority=90;parse(t,s,n){switch(s){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=6}set(t,s,n,a){return t=Mt(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class fs extends T{priority=90;parse(t,s,n,a){const i=o=>{const l=Math.floor((o-1)/7)*7;return(o+a.weekStartsOn+6)%7+l};switch(s){case"e":case"ee":return N(A(s.length,t),i);case"eo":return N(n.ordinalNumber(t,{unit:"day"}),i);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,s){return s>=0&&s<=6}set(t,s,n,a){return t=Mt(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class hs extends T{priority=90;parse(t,s,n,a){const i=o=>{const l=Math.floor((o-1)/7)*7;return(o+a.weekStartsOn+6)%7+l};switch(s){case"c":case"cc":return N(A(s.length,t),i);case"co":return N(n.ordinalNumber(t,{unit:"day"}),i);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}validate(t,s){return s>=0&&s<=6}set(t,s,n,a){return t=Mt(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function ms(r,t,s){const n=I(r,s?.in),a=Ir(n,s),i=t-a;return Je(n,i,s)}class vs extends T{priority=90;parse(t,s,n){const a=i=>i===0?7:i;switch(s){case"i":case"ii":return A(s.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return N(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return N(n.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return N(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return N(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,s){return s>=1&&s<=7}set(t,s,n){return t=ms(t,n),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class ps extends T{priority=80;parse(t,s,n){switch(s){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,n){return t.setHours(wt(n),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class ys extends T{priority=80;parse(t,s,n){switch(s){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,n){return t.setHours(wt(n),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class gs extends T{priority=80;parse(t,s,n){switch(s){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,s,n){return t.setHours(wt(n),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class bs extends T{priority=70;parse(t,s,n){switch(s){case"h":return F(Y.hour12h,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return A(s.length,t)}}validate(t,s){return s>=1&&s<=12}set(t,s,n){const a=t.getHours()>=12;return a&&n<12?t.setHours(n+12,0,0,0):!a&&n===12?t.setHours(0,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class ws extends T{priority=70;parse(t,s,n){switch(s){case"H":return F(Y.hour23h,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return A(s.length,t)}}validate(t,s){return s>=0&&s<=23}set(t,s,n){return t.setHours(n,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class Ms extends T{priority=70;parse(t,s,n){switch(s){case"K":return F(Y.hour11h,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return A(s.length,t)}}validate(t,s){return s>=0&&s<=11}set(t,s,n){return t.getHours()>=12&&n<12?t.setHours(n+12,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class _s extends T{priority=70;parse(t,s,n){switch(s){case"k":return F(Y.hour24h,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return A(s.length,t)}}validate(t,s){return s>=1&&s<=24}set(t,s,n){const a=n<=24?n%24:n;return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class xs extends T{priority=60;parse(t,s,n){switch(s){case"m":return F(Y.minute,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return A(s.length,t)}}validate(t,s){return s>=0&&s<=59}set(t,s,n){return t.setMinutes(n,0,0),t}incompatibleTokens=["t","T"]}class ks extends T{priority=50;parse(t,s,n){switch(s){case"s":return F(Y.second,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return A(s.length,t)}}validate(t,s){return s>=0&&s<=59}set(t,s,n){return t.setSeconds(n,0),t}incompatibleTokens=["t","T"]}class Ts extends T{priority=30;parse(t,s){const n=a=>Math.trunc(a*Math.pow(10,-s.length+3));return N(A(s.length,t),n)}set(t,s,n){return t.setMilliseconds(n),t}incompatibleTokens=["t","T"]}class Ps extends T{priority=10;parse(t,s){switch(s){case"X":return U(K.basicOptionalMinutes,t);case"XX":return U(K.basic,t);case"XXXX":return U(K.basicOptionalSeconds,t);case"XXXXX":return U(K.extendedOptionalSeconds,t);case"XXX":default:return U(K.extended,t)}}set(t,s,n){return s.timestampIsSet?t:H(t,t.getTime()-jt(t)-n)}incompatibleTokens=["t","T","x"]}class Ds extends T{priority=10;parse(t,s){switch(s){case"x":return U(K.basicOptionalMinutes,t);case"xx":return U(K.basic,t);case"xxxx":return U(K.basicOptionalSeconds,t);case"xxxxx":return U(K.extendedOptionalSeconds,t);case"xxx":default:return U(K.extended,t)}}set(t,s,n){return s.timestampIsSet?t:H(t,t.getTime()-jt(t)-n)}incompatibleTokens=["t","T","X"]}class $s extends T{priority=40;parse(t){return tn(t)}set(t,s,n){return[H(t,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Os extends T{priority=20;parse(t){return tn(t)}set(t,s,n){return[H(t,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const Es={G:new Xr,y:new Kr,Y:new Ur,R:new zr,u:new Jr,Q:new Zr,q:new es,M:new ts,L:new ns,w:new ss,I:new is,d:new us,D:new cs,E:new ds,e:new fs,c:new hs,i:new vs,a:new ps,b:new ys,B:new gs,h:new bs,H:new ws,K:new Ms,k:new _s,m:new xs,s:new ks,S:new Ts,X:new Ps,x:new Ds,t:new $s,T:new Os},Fs=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vs=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,As=/^'([^]*?)'?$/,Ss=/''/g,Cs=/\S/,Ys=/[a-zA-Z]/;function Ns(r,t,s,n){const a=()=>H(s,NaN),i=qr(),o=i.locale??Xt,l=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=i.weekStartsOn??i.locale?.options?.weekStartsOn??0;if(!t)return r?a():I(s,n?.in);const d={firstWeekContainsDate:l,weekStartsOn:c,locale:o},u=[new Gr(n?.in,s)],f=t.match(Vs).map(v=>{const p=v[0];if(p in ot){const b=ot[p];return b(v,o.formatLong)}return v}).join("").match(Fs),h=[];for(let v of f){Zt(v)&&lt(v,t,r),Jt(v)&&lt(v,t,r);const p=v[0],b=Es[p];if(b){const{incompatibleTokens:$}=b;if(Array.isArray($)){const L=h.find(O=>$.includes(O.token)||O.token===p);if(L)throw new RangeError(`The format string mustn't contain \`${L.fullToken}\` and \`${v}\` at the same time`)}else if(b.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${v}\` and any other token at the same time`);h.push({token:p,fullToken:v});const _=b.run(r,v,o.match,d);if(!_)return a();u.push(_.setter),r=_.rest}else{if(p.match(Ys))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");if(v==="''"?v="'":p==="'"&&(v=Ls(v)),r.indexOf(v)===0)r=r.slice(v.length);else return a()}}if(r.length>0&&Cs.test(r))return a();const m=u.map(v=>v.priority).sort((v,p)=>p-v).filter((v,p,b)=>b.indexOf(v)===p).map(v=>u.filter(p=>p.priority===v).sort((p,b)=>b.subPriority-p.subPriority)).map(v=>v[0]);let y=I(s,n?.in);if(isNaN(+y))return a();const x={};for(const v of m){if(!v.validate(y,d))return a();const p=v.set(y,x,d);Array.isArray(p)?(y=p[0],Object.assign(x,p[1])):y=p}return y}function Ls(r){return r.match(As)[1].replace(Ss,"'")}const ve=new WeakMap,Le=new WeakMap,Ie={current:[]};let nt=!1,$e=0;const Te=new Set,Ae=new Map;function sn(r){const t=Array.from(r).sort((s,n)=>s instanceof te&&s.options.deps.includes(n)?1:n instanceof te&&n.options.deps.includes(s)?-1:0);for(const s of t){if(Ie.current.includes(s))continue;Ie.current.push(s),s.recompute();const n=Le.get(s);if(n)for(const a of n){const i=ve.get(a);i&&sn(i)}}}function Ws(r){r.listeners.forEach(t=>t({prevVal:r.prevState,currentVal:r.state}))}function qs(r){r.listeners.forEach(t=>t({prevVal:r.prevState,currentVal:r.state}))}function an(r){if($e>0&&!Ae.has(r)&&Ae.set(r,r.prevState),Te.add(r),!($e>0)&&!nt)try{for(nt=!0;Te.size>0;){const t=Array.from(Te);Te.clear();for(const s of t){const n=Ae.get(s)??s.prevState;s.prevState=n,Ws(s)}for(const s of t){const n=ve.get(s);n&&(Ie.current.push(s),sn(n))}for(const s of t){const n=ve.get(s);if(n)for(const a of n)qs(a)}}}finally{nt=!1,Ie.current=[],Ae.clear()}}function ae(r){$e++;try{r()}finally{if($e--,$e===0){const t=Array.from(Te)[0];t&&an(t)}}}class ut{constructor(t,s){this.listeners=new Set,this.subscribe=n=>{var a,i;this.listeners.add(n);const o=(i=(a=this.options)==null?void 0:a.onSubscribe)==null?void 0:i.call(a,n,this);return()=>{this.listeners.delete(n),o?.()}},this.setState=n=>{var a,i,o;this.prevState=this.state,this.state=(a=this.options)!=null&&a.updateFn?this.options.updateFn(this.prevState)(n):n(this.prevState),(o=(i=this.options)==null?void 0:i.onUpdate)==null||o.call(i),an(this)},this.prevState=t,this.state=t,this.options=s}}class te{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const s=[],n=[];for(const a of this.options.deps)s.push(a.prevState),n.push(a.state);return this.lastSeenDepValues=n,{prevDepVals:s,currDepVals:n,prevVal:this.prevState??void 0}},this.recompute=()=>{var s,n;this.prevState=this.state;const{prevDepVals:a,currDepVals:i,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:a,currDepVals:i,prevVal:o}),(n=(s=this.options).onUpdate)==null||n.call(s)},this.checkIfRecalculationNeededDeeply=()=>{for(const i of this.options.deps)i instanceof te&&i.checkIfRecalculationNeededDeeply();let s=!1;const n=this.lastSeenDepValues,{currDepVals:a}=this.getDepVals();for(let i=0;i<a.length;i++)if(a[i]!==n[i]){s=!0;break}s&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const s of this._subscriptions)s()}),this.subscribe=s=>{var n,a;this.listeners.add(s);const i=(a=(n=this.options).onSubscribe)==null?void 0:a.call(n,s,this);return()=>{this.listeners.delete(s),i?.()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const s of t)if(s instanceof te)s.registerOnGraph(),this.registerOnGraph(s.options.deps);else if(s instanceof ut){let n=ve.get(s);n||(n=new Set,ve.set(s,n)),n.add(this);let a=Le.get(this);a||(a=new Set,Le.set(this,a)),a.add(s)}}unregisterFromGraph(t=this.options.deps){for(const s of t)if(s instanceof te)this.unregisterFromGraph(s.options.deps);else if(s instanceof ut){const n=ve.get(s);n&&n.delete(this);const a=Le.get(this);a&&a.delete(s)}}}function _t(r,t){return typeof r=="function"?r(t):r}function Be(r,t){return xt(t).reduce((n,a)=>{if(n===null)return null;if(typeof n<"u")return n[a]},r)}function rt(r,t,s){const n=xt(t);function a(i){if(!n.length)return _t(s,i);const o=n.shift();if(typeof o=="string"||typeof o=="number"&&!Array.isArray(i))return typeof i=="object"?(i===null&&(i={}),{...i,[o]:a(i[o])}):{[o]:a()};if(Array.isArray(i)&&typeof o=="number"){const l=i.slice(0,o);return[...l.length?l:new Array(o),a(i[o]),...i.slice(o+1)]}return[...new Array(o),a()]}return a(r)}function Is(r,t){const s=xt(t);function n(a){if(!a)return;if(s.length===1){const o=s[0];if(Array.isArray(a)&&typeof o=="number")return a.filter((d,u)=>u!==o);const{[o]:l,...c}=a;return c}const i=s.shift();if(typeof i=="string"&&typeof a=="object")return{...a,[i]:n(a[i])};if(typeof i=="number"&&Array.isArray(a)){if(i>=a.length)return a;const o=a.slice(0,i);return[...o.length?o:new Array(i),n(a[i]),...a.slice(i+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return n(r)}const Bs=/^(\d*)$/gm,Rs=/\.(\d*)\./gm,Hs=/^(\d*)\./gm,js=/\.(\d*$)/gm,Qs=/\.{2,}/gm,ct="__int__",Se=`${ct}$1`;function xt(r){if(Array.isArray(r))return[...r];if(typeof r!="string")throw new Error("Path must be a string.");return r.replaceAll("[",".").replaceAll("]","").replace(Bs,Se).replace(Rs,`.${Se}.`).replace(Hs,`${Se}.`).replace(js,`.${Se}`).replace(Qs,".").split(".").map(t=>t.indexOf(ct)===0?parseInt(t.substring(ct.length),10):t)}function Gs(r){return!(Array.isArray(r)&&r.length===0)}function dt(r,t){const{asyncDebounceMs:s}=t,{onChangeAsync:n,onBlurAsync:a,onSubmitAsync:i,onBlurAsyncDebounceMs:o,onChangeAsyncDebounceMs:l}=t.validators||{},c=s??0,d={cause:"change",validate:n,debounceMs:l??c},u={cause:"blur",validate:a,debounceMs:o??c},f={cause:"submit",validate:i,debounceMs:0},h=m=>({...m,debounceMs:0});switch(r){case"submit":return[h(d),h(u),f];case"blur":return[u];case"change":return[d];case"server":default:return[]}}function ft(r,t){const{onChange:s,onBlur:n,onSubmit:a,onMount:i}=t.validators||{},o={cause:"change",validate:s},l={cause:"blur",validate:n},c={cause:"submit",validate:a},d={cause:"mount",validate:i},u={cause:"server",validate:()=>{}};switch(r){case"mount":return[d];case"submit":return[o,l,c,u];case"server":return[u];case"blur":return[l,u];case"change":default:return[o,u]}}function Xs(r,t){const s=new Map;for(const a of r){const i=[...a.path??[]].map(o=>{const l=typeof o=="object"?o.key:o;return typeof l=="number"?`[${l}]`:l}).join(".").replace(/\.\[/g,"[");s.set(i,(s.get(i)??[]).concat(a))}const n={};return s.forEach((a,i)=>{n[i]=t(a)}),n}function Ks(r){return t=>({form:r(t),fields:Xs(t,r)})}const on=(r={})=>()=>{const t=r.transformErrors??(n=>n.map(a=>a.message).join(", ")),s=n=>n==="form"?Ks(t):t;return{validate({value:n,validationSource:a},i){const o=i["~standard"].validate(n);if(o instanceof Promise)throw new Error("async function passed to sync validator");return o.issues?s(a)(o.issues):void 0},async validateAsync({value:n,validationSource:a},i){const o=await i["~standard"].validate(n);return o.issues?s(a)(o.issues):void 0}}},ln=r=>!!r&&"~standard"in r;function st(r){return{values:r.values??{},errorMap:r.errorMap??{},fieldMetaBase:r.fieldMetaBase??{},isSubmitted:r.isSubmitted??!1,isSubmitting:r.isSubmitting??!1,isValidating:r.isValidating??!1,submissionAttempts:r.submissionAttempts??0,validationMetaMap:r.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}}}const Us=r=>typeof r=="object";class zs{constructor(t){var s;this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{const n=this.fieldMetaDerived.mount(),a=this.store.mount(),i=()=>{n(),a()},{onMount:o}=this.options.validators||{};return o&&this.validateSync("mount"),i},this.update=n=>{if(!n)return;const a=this.options;this.options=n,ae(()=>{const i=n.defaultValues&&n.defaultValues!==a.defaultValues&&!this.state.isTouched,o=n.defaultState!==a.defaultState&&!this.state.isTouched;this.baseStore.setState(()=>st(Object.assign({},this.state,o?n.defaultState:{},i?{values:n.defaultValues}:{})))})},this.reset=(n,a)=>{const{fieldMeta:i}=this.state,o=this.resetFieldMeta(i);n&&!a?.keepDefaultValues&&(this.options={...this.options,defaultValues:n}),this.baseStore.setState(()=>{var l;return st({...this.options.defaultState,values:n??this.options.defaultValues??((l=this.options.defaultState)==null?void 0:l.values),fieldMetaBase:o})})},this.validateAllFields=async n=>{const a=[];return ae(()=>{Object.values(this.fieldInfo).forEach(o=>{if(!o.instance)return;const l=o.instance;a.push(Promise.resolve().then(()=>l.validate(n))),o.instance.state.meta.isTouched||o.instance.setMeta(c=>({...c,isTouched:!0}))})}),(await Promise.all(a)).flat()},this.validateArrayFieldsStartingFrom=async(n,a,i)=>{const o=this.getFieldValue(n),l=Array.isArray(o)?Math.max(o.length-1,0):null,c=[`${n}[${a}]`];for(let h=a+1;h<=(l??0);h++)c.push(`${n}[${h}]`);const d=Object.keys(this.fieldInfo).filter(h=>c.some(m=>h.startsWith(m))),u=[];return ae(()=>{d.forEach(h=>{u.push(Promise.resolve().then(()=>this.validateField(h,i)))})}),(await Promise.all(u)).flat()},this.validateField=(n,a)=>{var i;const o=(i=this.fieldInfo[n])==null?void 0:i.instance;return o?(o.state.meta.isTouched||o.setMeta(l=>({...l,isTouched:!0})),o.validate(a)):[]},this.validateSync=n=>{const a=ft(n,this.options);let i=!1;const o={};ae(()=>{for(const c of a){if(!c.validate)continue;const d=this.runValidator({validate:c.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"}),{formError:u,fieldErrors:f}=ht(d),h=Ce(c.cause);if(f)for(const[m,y]of Object.entries(f)){const v={...o[m]||{},[h]:y};o[m]=v;const p=this.getFieldMeta(m);p&&p.errorMap[h]!==y&&this.setFieldMeta(m,b=>({...b,errorMap:{...b.errorMap,[h]:y}}))}this.state.errorMap[h]!==u&&this.baseStore.setState(m=>({...m,errorMap:{...m.errorMap,[h]:u}})),(u||f)&&(i=!0)}});const l=Ce("submit");return this.state.errorMap[l]&&n!=="submit"&&!i&&this.baseStore.setState(c=>({...c,errorMap:{...c.errorMap,[l]:void 0}})),{hasErrored:i,fieldsErrorMap:o}},this.validateAsync=async n=>{const a=dt(n,this.options);this.state.isFormValidating||this.baseStore.setState(d=>({...d,isFormValidating:!0}));const i=[];let o;for(const d of a){if(!d.validate)continue;const u=Ce(d.cause),f=this.state.validationMetaMap[u];f?.lastAbortController.abort();const h=new AbortController;this.state.validationMetaMap[u]={lastAbortController:h},i.push(new Promise(async m=>{let y;try{y=await new Promise((b,$)=>{setTimeout(async()=>{if(h.signal.aborted)return b(void 0);try{b(await this.runValidator({validate:d.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:h.signal},type:"validateAsync"}))}catch(_){$(_)}},d.debounceMs)})}catch(b){y=b}const{formError:x,fieldErrors:v}=ht(y);v&&(o=o?{...o,...v}:v);const p=Ce(d.cause);if(o)for(const[b,$]of Object.entries(o)){const _=this.getFieldMeta(b);_&&_.errorMap[p]!==$&&this.setFieldMeta(b,L=>({...L,errorMap:{...L.errorMap,[p]:$}}))}this.baseStore.setState(b=>({...b,errorMap:{...b.errorMap,[p]:x}})),m(o?{fieldErrors:o,errorMapKey:p}:void 0)}))}let l=[];const c={};if(i.length){l=await Promise.all(i);for(const d of l)if(d?.fieldErrors){const{errorMapKey:u}=d;for(const[f,h]of Object.entries(d.fieldErrors)){const y={...c[f]||{},[u]:h};c[f]=y}}}return this.baseStore.setState(d=>({...d,isFormValidating:!1})),c},this.validate=n=>{const{hasErrored:a,fieldsErrorMap:i}=this.validateSync(n);return a&&!this.options.asyncAlways?i:this.validateAsync(n)},this.handleSubmit=async()=>{var n,a,i,o;if(this.baseStore.setState(c=>({...c,isSubmitted:!1,submissionAttempts:c.submissionAttempts+1})),!this.state.canSubmit)return;this.baseStore.setState(c=>({...c,isSubmitting:!0}));const l=()=>{this.baseStore.setState(c=>({...c,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isValid){l(),(a=(n=this.options).onSubmitInvalid)==null||a.call(n,{value:this.state.values,formApi:this});return}ae(()=>{Object.values(this.fieldInfo).forEach(c=>{var d,u,f;(f=(u=(d=c.instance)==null?void 0:d.options.listeners)==null?void 0:u.onSubmit)==null||f.call(u,{value:c.instance.state.value,fieldApi:c.instance})})});try{await((o=(i=this.options).onSubmit)==null?void 0:o.call(i,{value:this.state.values,formApi:this})),ae(()=>{this.baseStore.setState(c=>({...c,isSubmitted:!0})),l()})}catch(c){throw l(),c}},this.getFieldValue=n=>Be(this.state.values,n),this.getFieldMeta=n=>this.state.fieldMeta[n],this.getFieldInfo=n=>{var a;return(a=this.fieldInfo)[n]||(a[n]={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}})},this.setFieldMeta=(n,a)=>{this.baseStore.setState(i=>({...i,fieldMetaBase:{...i.fieldMetaBase,[n]:_t(a,i.fieldMetaBase[n])}}))},this.resetFieldMeta=n=>Object.keys(n).reduce((a,i)=>{const o=i;return a[o]={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,errors:[],errorMap:{}},a},{}),this.setFieldValue=(n,a,i)=>{const o=i?.dontUpdateMeta??!1;ae(()=>{o||this.setFieldMeta(n,l=>({...l,isTouched:!0,isDirty:!0,errorMap:{...l?.errorMap,onMount:void 0}})),this.baseStore.setState(l=>({...l,values:rt(l.values,n,a)}))})},this.deleteField=n=>{this.baseStore.setState(a=>{const i={...a};return i.values=Is(i.values,n),delete i.fieldMetaBase[n],i}),delete this.fieldInfo[n]},this.pushFieldValue=(n,a,i)=>{this.setFieldValue(n,o=>[...Array.isArray(o)?o:[],a],i),this.validateField(n,"change")},this.insertFieldValue=async(n,a,i,o)=>{this.setFieldValue(n,l=>[...l.slice(0,a),i,...l.slice(a)],o),await this.validateField(n,"change")},this.replaceFieldValue=async(n,a,i,o)=>{this.setFieldValue(n,l=>l.map((c,d)=>d===a?i:c),o),await this.validateField(n,"change"),await this.validateArrayFieldsStartingFrom(n,a,"change")},this.removeFieldValue=async(n,a,i)=>{const o=this.getFieldValue(n),l=Array.isArray(o)?Math.max(o.length-1,0):null;if(this.setFieldValue(n,c=>c.filter((d,u)=>u!==a),i),l!==null){const c=`${n}[${l}]`;Object.keys(this.fieldInfo).filter(u=>u.startsWith(c)).forEach(u=>this.deleteField(u))}await this.validateField(n,"change"),await this.validateArrayFieldsStartingFrom(n,a,"change")},this.swapFieldValues=(n,a,i,o)=>{this.setFieldValue(n,l=>{const c=l[a],d=l[i];return rt(rt(l,`${a}`,d),`${i}`,c)},o),this.validateField(n,"change"),this.validateField(`${n}[${a}]`,"change"),this.validateField(`${n}[${i}]`,"change")},this.moveFieldValues=(n,a,i,o)=>{this.setFieldValue(n,l=>(l.splice(i,0,l.splice(a,1)[0]),l),o),this.validateField(n,"change"),this.validateField(`${n}[${a}]`,"change"),this.validateField(`${n}[${i}]`,"change")},this.baseStore=new ut(st({...t?.defaultState,values:t?.defaultValues??((s=t?.defaultState)==null?void 0:s.values),isFormValid:!0})),this.fieldMetaDerived=new te({deps:[this.baseStore],fn:({prevDepVals:n,currDepVals:a,prevVal:i})=>{const o=i,l=n?.[0],c=a[0],d={};for(const u of Object.keys(c.fieldMetaBase)){const f=c.fieldMetaBase[u],h=l?.fieldMetaBase[u],m=o?.[u];let y=m?.errors;(!h||f.errorMap!==h.errorMap)&&(y=Object.values(f.errorMap??{}).filter(v=>v!==void 0));const x=!f.isDirty;if(m&&m.isPristine===x&&m.errors===y&&f===h){d[u]=m;continue}d[u]={...f,errors:y,isPristine:x}}return d}}),this.store=new te({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:n,currDepVals:a,prevVal:i})=>{var o,l,c,d;const u=i,f=n?.[0],h=a[0],m=Object.values(h.fieldMetaBase),y=m.some(k=>k?.isValidating),x=!m.some(k=>k?.errorMap&&Gs(Object.values(k.errorMap).filter(Boolean))),v=m.some(k=>k?.isTouched),p=m.some(k=>k?.isBlurred),b=v&&((o=h?.errorMap)==null?void 0:o.onMount),$=m.some(k=>k?.isDirty),_=!$,L=!!((l=h.errorMap)!=null&&l.onMount||m.some(k=>{var X;return(X=k?.errorMap)==null?void 0:X.onMount})),O=!!y;let S=u?.errors??[];(!f||h.errorMap!==f.errorMap)&&(S=Object.values(h.errorMap).reduce((k,X)=>X===void 0?k:typeof X=="string"?(k.push(X),k):(X&&Us(X)&&k.push(X.form),k),[]));const P=S.length===0,C=x&&P,j=h.submissionAttempts===0&&!v&&!L||!O&&!h.isSubmitting&&C;let re=h.errorMap;b&&(S=S.filter(k=>k!==h.errorMap.onMount),re=Object.assign(re,{onMount:void 0}));let J={...h,errorMap:re,fieldMeta:this.fieldMetaDerived.state,errors:S,isFieldsValidating:y,isFieldsValid:x,isFormValid:P,isValid:C,canSubmit:j,isTouched:v,isBlurred:p,isPristine:_,isDirty:$};const et=((c=this.options.transform)==null?void 0:c.deps)??[];if(et.length!==this.prevTransformArray.length||et.some((k,X)=>k!==this.prevTransformArray[X])){const k=Object.assign({},this,{state:J});(d=this.options.transform)==null||d.fn(k),J=k.state,this.prevTransformArray=et}return J}}),this.update(t||{})}get state(){return this.store.state}runValidator(t){const s=this.options.validatorAdapter;return s&&(typeof t.validate!="function"||"~standard"in t.validate)?s()[t.type](t.value,t.validate):ln(t.validate)?on()()[t.type](t.value,t.validate):t.validate(t.value)}setErrorMap(t){this.baseStore.setState(s=>({...s,errorMap:{...s.errorMap,...t}}))}}function ht(r){if(r){if(typeof r=="object"){const t=ht(r.form).formError,s=r.fields;return{formError:t,fieldErrors:s}}return typeof r!="string"?{formError:"Invalid Form Values"}:{formError:r}}return{formError:void 0}}function Ce(r){switch(r){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}class Js{constructor(t){this.options={},this.mount=()=>{var s,n;const a=this.store.mount(),i=this.getInfo();i.instance=this,this.update(this.options);const{onMount:o}=this.options.validators||{};if(o){const l=this.runValidator({validate:o,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});l&&this.setMeta(c=>({...c,errorMap:{...c?.errorMap,onMount:l}}))}return(n=(s=this.options.listeners)==null?void 0:s.onMount)==null||n.call(s,{value:this.state.value,fieldApi:this}),a},this.update=s=>{if(this.state.value===void 0){const n=Be(s.form.options.defaultValues,s.name);s.defaultValue!==void 0?this.setValue(s.defaultValue,{dontUpdateMeta:!0}):n!==void 0&&this.setValue(n,{dontUpdateMeta:!0})}this.form.getFieldMeta(this.name)===void 0&&this.setMeta(this.state.meta),this.options=s,this.name=s.name},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(s,n)=>{var a,i;this.form.setFieldValue(this.name,s,n),(i=(a=this.options.listeners)==null?void 0:a.onChange)==null||i.call(a,{value:this.state.value,fieldApi:this}),this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=s=>this.form.setFieldMeta(this.name,s),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(s,n)=>this.form.pushFieldValue(this.name,s,n),this.insertValue=(s,n,a)=>this.form.insertFieldValue(this.name,s,n,a),this.replaceValue=(s,n,a)=>this.form.replaceFieldValue(this.name,s,n,a),this.removeValue=(s,n)=>this.form.removeFieldValue(this.name,s,n),this.swapValues=(s,n,a)=>this.form.swapFieldValues(this.name,s,n,a),this.moveValue=(s,n,a)=>this.form.moveFieldValues(this.name,s,n,a),this.getLinkedFields=s=>{const n=Object.values(this.form.fieldInfo),a=[];for(const i of n){if(!i.instance)continue;const{onChangeListenTo:o,onBlurListenTo:l}=i.instance.options.validators||{};s==="change"&&o?.includes(this.name)&&a.push(i.instance),s==="blur"&&l?.includes(this.name)&&a.push(i.instance)}return a},this.validateSync=(s,n)=>{const a=ft(s,this.options),o=this.getLinkedFields(s).reduce((d,u)=>{const f=ft(s,u.options);return f.forEach(h=>{h.field=u}),d.concat(f)},[]);let l=!1;ae(()=>{const d=(u,f)=>{const h=xe(f.cause),m=f.validate?At(u.runValidator({validate:f.validate,value:{value:u.store.state.value,validationSource:"field",fieldApi:u},type:"validate"})):n[h];u.state.meta.errorMap[h]!==m&&u.setMeta(y=>({...y,errorMap:{...y.errorMap,[xe(f.cause)]:m||n[h]}})),(m||n[h])&&(l=!0)};for(const u of a)d(this,u);for(const u of o)u.validate&&d(u.field,u)});const c=xe("submit");return this.state.meta.errorMap[c]&&s!=="submit"&&!l&&this.setMeta(d=>({...d,errorMap:{...d.errorMap,[c]:void 0}})),{hasErrored:l}},this.validateAsync=async(s,n)=>{const a=dt(s,this.options),i=await n,o=this.getLinkedFields(s),l=o.reduce((h,m)=>{const y=dt(s,m.options);return y.forEach(x=>{x.field=m}),h.concat(y)},[]);this.state.meta.isValidating||this.setMeta(h=>({...h,isValidating:!0}));for(const h of o)h.setMeta(m=>({...m,isValidating:!0}));const c=[],d=[],u=(h,m,y)=>{const x=xe(m.cause),v=h.getInfo().validationMetaMap[x];v?.lastAbortController.abort();const p=new AbortController;this.getInfo().validationMetaMap[x]={lastAbortController:p},y.push(new Promise(async b=>{var $;let _;try{_=await new Promise((P,C)=>{this.timeoutIds[m.cause]&&clearTimeout(this.timeoutIds[m.cause]),this.timeoutIds[m.cause]=setTimeout(async()=>{if(p.signal.aborted)return P(void 0);try{P(await this.runValidator({validate:m.validate,value:{value:h.store.state.value,fieldApi:h,signal:p.signal,validationSource:"field"},type:"validateAsync"}))}catch(j){C(j)}},m.debounceMs)})}catch(P){_=P}if(p.signal.aborted)return b(void 0);const L=At(_),O=($=i[this.name])==null?void 0:$[x],S=L||O;h.setMeta(P=>({...P,errorMap:{...P?.errorMap,[x]:S}})),b(S)}))};for(const h of a)h.validate&&u(this,h,c);for(const h of l)h.validate&&u(h.field,h,d);let f=[];(c.length||d.length)&&(f=await Promise.all(c),await Promise.all(d)),this.setMeta(h=>({...h,isValidating:!1}));for(const h of o)h.setMeta(m=>({...m,isValidating:!1}));return f.filter(Boolean)},this.validate=s=>{var n;if(!this.state.meta.isTouched)return[];const{fieldsErrorMap:a}=this.form.validateSync(s),{hasErrored:i}=this.validateSync(s,a[this.name]??{});if(i&&!this.options.asyncAlways)return(n=this.getInfo().validationMetaMap[xe(s)])==null||n.lastAbortController.abort(),this.state.meta.errors;const o=this.form.validateAsync(s);return this.validateAsync(s,o)},this.handleChange=s=>{this.setValue(s)},this.handleBlur=()=>{var s,n;this.state.meta.isTouched||(this.setMeta(i=>({...i,isTouched:!0})),this.validate("change")),this.state.meta.isBlurred||this.setMeta(i=>({...i,isBlurred:!0})),this.validate("blur"),(n=(s=this.options.listeners)==null?void 0:s.onBlur)==null||n.call(s,{value:this.state.value,fieldApi:this})},this.form=t.form,this.name=t.name,this.timeoutIds={},t.defaultValue!==void 0&&this.form.setFieldValue(this.name,t.defaultValue,{dontUpdateMeta:!0}),this.store=new te({deps:[this.form.store],fn:()=>{const s=this.form.getFieldValue(this.name),n=this.form.getFieldMeta(this.name)??{isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,errors:[],errorMap:{},...t.defaultMeta};return{value:s,meta:n}}}),this.options=t}get state(){return this.store.state}runValidator(t){const s=[this.form.options.validatorAdapter,this.options.validatorAdapter];for(const n of s)if(n&&(typeof t.validate!="function"||"~standard"in t.validate))return n()[t.type](t.value,t.validate);return ln(t.validate)?on()()[t.type](t.value,t.validate):t.validate(t.value)}setErrorMap(t){this.setMeta(s=>({...s,errorMap:{...s.errorMap,...t}}))}}function At(r){if(r)return typeof r!="string"?"Invalid Form Values":r}function xe(r){switch(r){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}const Zs=(r,t)=>r===t,z=Symbol("solid-proxy"),ea=typeof Proxy=="function",St=Symbol("solid-track"),Re={equals:Zs};let un=vn;const le=1,He=2,ta={owned:null,cleanups:null,context:null,owner:null};var q=null;let at=null,na=null,B=null,R=null,ne=null,Ze=0;function cn(r,t){t=t?Object.assign({},Re,t):Re;const s={value:r,observers:null,observerSlots:null,comparator:t.equals||void 0},n=a=>(typeof a=="function"&&(a=a(s.value)),mn(s,a));return[hn.bind(s),n]}function dn(r,t,s){const n=Dt(r,t,!0,le);Fe(n)}function ra(r,t,s){un=la;const n=Dt(r,t,!1,le),a=Ct&&aa(Ct);a&&(n.suspense=a),n.user=!0,ne?ne.push(n):Fe(n)}function kt(r,t,s){s=s?Object.assign({},Re,s):Re;const n=Dt(r,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=s.equals||void 0,Fe(n),hn.bind(n)}function sa(r){return Ve(r)}function Tt(r){if(B===null)return r();const t=B;B=null;try{return r()}finally{B=t}}function fn(r){ra(()=>Tt(r))}function Pt(r){return q===null||(q.cleanups===null?q.cleanups=[r]:q.cleanups.push(r)),r}function mt(){return B}function aa(r){let t;return q&&q.context&&(t=q.context[r.id])!==void 0?t:r.defaultValue}let Ct;function hn(){if(this.sources&&this.state)if(this.state===le)Fe(this);else{const r=R;R=null,Ve(()=>Qe(this)),R=r}if(B){const r=this.observers?this.observers.length:0;B.sources?(B.sources.push(this),B.sourceSlots.push(r)):(B.sources=[this],B.sourceSlots=[r]),this.observers?(this.observers.push(B),this.observerSlots.push(B.sources.length-1)):(this.observers=[B],this.observerSlots=[B.sources.length-1])}return this.value}function mn(r,t,s){let n=r.value;return(!r.comparator||!r.comparator(n,t))&&(r.value=t,r.observers&&r.observers.length&&Ve(()=>{for(let a=0;a<r.observers.length;a+=1){const i=r.observers[a],o=at&&at.running;o&&at.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?R.push(i):ne.push(i),i.observers&&pn(i)),o||(i.state=le)}if(R.length>1e6)throw R=[],new Error})),t}function Fe(r){if(!r.fn)return;Ge(r);const t=Ze;ia(r,r.value,t)}function ia(r,t,s){let n;const a=q,i=B;B=q=r;try{n=r.fn(t)}catch(o){return r.pure&&(r.state=le,r.owned&&r.owned.forEach(Ge),r.owned=null),r.updatedAt=s+1,yn(o)}finally{B=i,q=a}(!r.updatedAt||r.updatedAt<=s)&&(r.updatedAt!=null&&"observers"in r?mn(r,n):r.value=n,r.updatedAt=s)}function Dt(r,t,s,n=le,a){const i={fn:r,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:q,context:q?q.context:null,pure:s};return q===null||q!==ta&&(q.owned?q.owned.push(i):q.owned=[i]),i}function je(r){if(r.state===0)return;if(r.state===He)return Qe(r);if(r.suspense&&Tt(r.suspense.inFallback))return r.suspense.effects.push(r);const t=[r];for(;(r=r.owner)&&(!r.updatedAt||r.updatedAt<Ze);)r.state&&t.push(r);for(let s=t.length-1;s>=0;s--)if(r=t[s],r.state===le)Fe(r);else if(r.state===He){const n=R;R=null,Ve(()=>Qe(r,t[0])),R=n}}function Ve(r,t){if(R)return r();let s=!1;R=[],ne?s=!0:ne=[],Ze++;try{const n=r();return oa(s),n}catch(n){s||(ne=null),R=null,yn(n)}}function oa(r){if(R&&(vn(R),R=null),r)return;const t=ne;ne=null,t.length&&Ve(()=>un(t))}function vn(r){for(let t=0;t<r.length;t++)je(r[t])}function la(r){let t,s=0;for(t=0;t<r.length;t++){const n=r[t];n.user?r[s++]=n:je(n)}for(t=0;t<s;t++)je(r[t])}function Qe(r,t){r.state=0;for(let s=0;s<r.sources.length;s+=1){const n=r.sources[s];if(n.sources){const a=n.state;a===le?n!==t&&(!n.updatedAt||n.updatedAt<Ze)&&je(n):a===He&&Qe(n,t)}}}function pn(r){for(let t=0;t<r.observers.length;t+=1){const s=r.observers[t];s.state||(s.state=He,s.pure?R.push(s):ne.push(s),s.observers&&pn(s))}}function Ge(r){let t;if(r.sources)for(;r.sources.length;){const s=r.sources.pop(),n=r.sourceSlots.pop(),a=s.observers;if(a&&a.length){const i=a.pop(),o=s.observerSlots.pop();n<a.length&&(i.sourceSlots[o]=n,a[n]=i,s.observerSlots[n]=o)}}if(r.tOwned){for(t=r.tOwned.length-1;t>=0;t--)Ge(r.tOwned[t]);delete r.tOwned}if(r.owned){for(t=r.owned.length-1;t>=0;t--)Ge(r.owned[t]);r.owned=null}if(r.cleanups){for(t=r.cleanups.length-1;t>=0;t--)r.cleanups[t]();r.cleanups=null}r.state=0}function ua(r){return r instanceof Error?r:new Error(typeof r=="string"?r:"Unknown error",{cause:r})}function yn(r,t=q){throw ua(r)}function gn(r,t){return Tt(()=>r(t||{}))}function Ye(){return!0}const ca={get(r,t,s){return t===z?s:r.get(t)},has(r,t){return t===z?!0:r.has(t)},set:Ye,deleteProperty:Ye,getOwnPropertyDescriptor(r,t){return{configurable:!0,enumerable:!0,get(){return r.get(t)},set:Ye,deleteProperty:Ye}},ownKeys(r){return r.keys()}};function it(r){return(r=typeof r=="function"?r():r)?r:{}}function da(){for(let r=0,t=this.length;r<t;++r){const s=this[r]();if(s!==void 0)return s}}function fa(...r){let t=!1;for(let o=0;o<r.length;o++){const l=r[o];t=t||!!l&&z in l,r[o]=typeof l=="function"?(t=!0,kt(l)):l}if(ea&&t)return new Proxy({get(o){for(let l=r.length-1;l>=0;l--){const c=it(r[l])[o];if(c!==void 0)return c}},has(o){for(let l=r.length-1;l>=0;l--)if(o in it(r[l]))return!0;return!1},keys(){const o=[];for(let l=0;l<r.length;l++)o.push(...Object.keys(it(r[l])));return[...new Set(o)]}},ca);const s={},n=Object.create(null);for(let o=r.length-1;o>=0;o--){const l=r[o];if(!l)continue;const c=Object.getOwnPropertyNames(l);for(let d=c.length-1;d>=0;d--){const u=c[d];if(u==="__proto__"||u==="constructor")continue;const f=Object.getOwnPropertyDescriptor(l,u);if(!n[u])n[u]=f.get?{enumerable:!0,configurable:!0,get:da.bind(s[u]=[f.get.bind(l)])}:f.value!==void 0?f:void 0;else{const h=s[u];h&&(f.get?h.push(f.get.bind(l)):f.value!==void 0&&h.push(()=>f.value))}}}const a={},i=Object.keys(n);for(let o=i.length-1;o>=0;o--){const l=i[o],c=n[l];c&&c.get?Object.defineProperty(a,l,c):a[l]=c?c.value:void 0}return a}const vt=Symbol("store-raw"),pe=Symbol("store-node"),Z=Symbol("store-has"),bn=Symbol("store-self");function wn(r){let t=r[z];if(!t&&(Object.defineProperty(r,z,{value:t=new Proxy(r,va)}),!Array.isArray(r))){const s=Object.keys(r),n=Object.getOwnPropertyDescriptors(r);for(let a=0,i=s.length;a<i;a++){const o=s[a];n[o].get&&Object.defineProperty(r,o,{enumerable:n[o].enumerable,get:n[o].get.bind(t)})}}return t}function oe(r){let t;return r!=null&&typeof r=="object"&&(r[z]||!(t=Object.getPrototypeOf(r))||t===Object.prototype||Array.isArray(r))}function ge(r,t=new Set){let s,n,a,i;if(s=r!=null&&r[vt])return s;if(!oe(r)||t.has(r))return r;if(Array.isArray(r)){Object.isFrozen(r)?r=r.slice(0):t.add(r);for(let o=0,l=r.length;o<l;o++)a=r[o],(n=ge(a,t))!==a&&(r[o]=n)}else{Object.isFrozen(r)?r=Object.assign({},r):t.add(r);const o=Object.keys(r),l=Object.getOwnPropertyDescriptors(r);for(let c=0,d=o.length;c<d;c++)i=o[c],!l[i].get&&(a=r[i],(n=ge(a,t))!==a&&(r[i]=n))}return r}function Xe(r,t){let s=r[t];return s||Object.defineProperty(r,t,{value:s=Object.create(null)}),s}function Ee(r,t,s){if(r[t])return r[t];const[n,a]=cn(s,{equals:!1,internal:!0});return n.$=a,r[t]=n}function ha(r,t){const s=Reflect.getOwnPropertyDescriptor(r,t);return!s||s.get||!s.configurable||t===z||t===pe||(delete s.value,delete s.writable,s.get=()=>r[z][t]),s}function Mn(r){mt()&&Ee(Xe(r,pe),bn)()}function ma(r){return Mn(r),Reflect.ownKeys(r)}const va={get(r,t,s){if(t===vt)return r;if(t===z)return s;if(t===St)return Mn(r),s;const n=Xe(r,pe),a=n[t];let i=a?a():r[t];if(t===pe||t===Z||t==="__proto__")return i;if(!a){const o=Object.getOwnPropertyDescriptor(r,t);mt()&&(typeof i!="function"||r.hasOwnProperty(t))&&!(o&&o.get)&&(i=Ee(n,t,i)())}return oe(i)?wn(i):i},has(r,t){return t===vt||t===z||t===St||t===pe||t===Z||t==="__proto__"?!0:(mt()&&Ee(Xe(r,Z),t)(),t in r)},set(){return!0},deleteProperty(){return!0},ownKeys:ma,getOwnPropertyDescriptor:ha};function Q(r,t,s,n=!1){if(!n&&r[t]===s)return;const a=r[t],i=r.length;s===void 0?(delete r[t],r[Z]&&r[Z][t]&&a!==void 0&&r[Z][t].$()):(r[t]=s,r[Z]&&r[Z][t]&&a===void 0&&r[Z][t].$());let o=Xe(r,pe),l;if((l=Ee(o,t,a))&&l.$(()=>s),Array.isArray(r)&&r.length!==i){for(let c=r.length;c<i;c++)(l=o[c])&&l.$();(l=Ee(o,"length",i))&&l.$(r.length)}(l=o[bn])&&l.$()}function _n(r,t){const s=Object.keys(t);for(let n=0;n<s.length;n+=1){const a=s[n];Q(r,a,t[a])}}function pa(r,t){if(typeof t=="function"&&(t=t(r)),t=ge(t),Array.isArray(t)){if(r===t)return;let s=0,n=t.length;for(;s<n;s++){const a=t[s];r[s]!==a&&Q(r,s,a)}Q(r,"length",n)}else _n(r,t)}function Pe(r,t,s=[]){let n,a=r;if(t.length>1){n=t.shift();const o=typeof n,l=Array.isArray(r);if(Array.isArray(n)){for(let c=0;c<n.length;c++)Pe(r,[n[c]].concat(t),s);return}else if(l&&o==="function"){for(let c=0;c<r.length;c++)n(r[c],c)&&Pe(r,[c].concat(t),s);return}else if(l&&o==="object"){const{from:c=0,to:d=r.length-1,by:u=1}=n;for(let f=c;f<=d;f+=u)Pe(r,[f].concat(t),s);return}else if(t.length>1){Pe(r[n],t,[n].concat(s));return}a=r[n],s=[n].concat(s)}let i=t[0];typeof i=="function"&&(i=i(a,s),i===a)||n===void 0&&i==null||(i=ge(i),n===void 0||oe(a)&&oe(i)&&!Array.isArray(i)?_n(a,i):Q(r,n,i))}function ya(...[r,t]){const s=ge(r||{}),n=Array.isArray(s),a=wn(s);function i(...o){sa(()=>{n&&o.length===1?pa(s,o[0]):Pe(s,o)})}return[a,i]}const pt=Symbol("store-root");function me(r,t,s,n,a){const i=t[s];if(r===i)return;const o=Array.isArray(r);if(s!==pt&&(!oe(r)||!oe(i)||o!==Array.isArray(i)||a&&r[a]!==i[a])){Q(t,s,r);return}if(o){if(r.length&&i.length&&(!n||a&&r[0]&&r[0][a]!=null)){let d,u,f,h,m,y,x,v;for(f=0,h=Math.min(i.length,r.length);f<h&&(i[f]===r[f]||a&&i[f]&&r[f]&&i[f][a]===r[f][a]);f++)me(r[f],i,f,n,a);const p=new Array(r.length),b=new Map;for(h=i.length-1,m=r.length-1;h>=f&&m>=f&&(i[h]===r[m]||a&&i[f]&&r[f]&&i[h][a]===r[m][a]);h--,m--)p[m]=i[h];if(f>m||f>h){for(u=f;u<=m;u++)Q(i,u,r[u]);for(;u<r.length;u++)Q(i,u,p[u]),me(r[u],i,u,n,a);i.length>r.length&&Q(i,"length",r.length);return}for(x=new Array(m+1),u=m;u>=f;u--)y=r[u],v=a&&y?y[a]:y,d=b.get(v),x[u]=d===void 0?-1:d,b.set(v,u);for(d=f;d<=h;d++)y=i[d],v=a&&y?y[a]:y,u=b.get(v),u!==void 0&&u!==-1&&(p[u]=i[d],u=x[u],b.set(v,u));for(u=f;u<r.length;u++)u in p?(Q(i,u,p[u]),me(r[u],i,u,n,a)):Q(i,u,r[u])}else for(let d=0,u=r.length;d<u;d++)me(r[d],i,d,n,a);i.length>r.length&&Q(i,"length",r.length);return}const l=Object.keys(r);for(let d=0,u=l.length;d<u;d++)me(r[l[d]],i,l[d],n,a);const c=Object.keys(i);for(let d=0,u=c.length;d<u;d++)r[c[d]]===void 0&&Q(i,c[d],void 0)}function ga(r,t={}){const{merge:s,key:n="id"}=t,a=ge(r);return i=>{if(!oe(i)||!oe(a))return a;const o=me(a,{[pt]:i},pt,s,n);return o===void 0?i:o}}function Yt(r,t=s=>s){const[s,n]=ya({value:t(r.state)}),a=r.subscribe(()=>{const i=t(r.state);n("value",ga(i))});return Pt(()=>{a()}),()=>s.value}function ba(r){const[t,s]=cn(!1),n=kt(()=>[t(),r]),a=r.store.subscribe(()=>s(i=>!i));return Pt(a),()=>n()[1]}function xn(r){const t=r(),s=new Js(t),n=s;n.Field=kn;let a=!1;return fn(()=>{const i=s.mount();a=!0,Pt(()=>{i(),a=!1})}),dn(()=>{a&&s.update(r())}),ba(n)}function kn(r){const t=xn(()=>{const{children:s,...n}=r;return n});return kt(()=>gn(()=>r.children(t),{}))}function Tn(r){const t=r?.(),s=new zs(t),n=s;return n.Field=a=>gn(kn,fa(a,{form:s})),n.createField=a=>xn(()=>({...a(),form:s})),n.useStore=a=>Yt(s.store,a),n.Subscribe=a=>_t(a.children,Yt(s.store,a.selector)),fn(s.mount),dn(()=>s.update(r?.())),n}const wa="_formRow_1ipms_23",Ma="_fieldLabel_1ipms_25",_a="_notThisMonth_1ipms_43",xa="_isToday_1ipms_49",ka="_dateCell_1ipms_55",Ta="_dateDropdown_1ipms_61",Pa="_example_1ipms_1",Da="_dropdownContainer_1ipms_87",$a="_dropdownOption_1ipms_93",Oa="_optionChip_1ipms_111",Ea="_closeButton_1ipms_135",Fa="_multiselectcontainer_1ipms_147",V={formRow:wa,fieldLabel:Ma,notThisMonth:_a,isToday:xa,dateCell:ka,dateDropdown:Ta,example:Pa,dropdownContainer:Da,dropdownOption:$a,optionChip:Oa,closeButton:Ea,multiselectcontainer:Fa};var Va=M("<div><label><div>"),Pn=M("<div>"),Aa=M("<div><label><input>"),yt=M("<option>"),Sa=M("<div><label><select>"),Ca=M("<form>"),Ya=M("<div><div><select></select><select></select></div><table>"),Na=M("<div><div><label><input type=text>"),La=M("<tr>"),Wa=M("<td>"),qa=M("<span><a> X"),Ia=M("<span> "),Ba=M("<div><div>"),Ra=M("<div><label><div><div><input><div>"),Ha=M("<div tabindex=-1>");function ie(r){const[t,s]=gt(r,["form"]);return Oe(()=>console.log(t.form,s.form,Ke()?.Field)),g(qt,de({get component(){return(t.form||Ke()).Field}},s))}function he(r){return g(Dn,de({type:"text"},r))}function Nt(r){return g(Dn,de({type:"time"},r))}function Lt(r){return(()=>{var t=Va(),s=t.firstChild,n=s.firstChild;return w(s,()=>r.label,n),w(n,()=>r.children),E(a=>{var i=V.formRow,o=V.fieldLabel;return i!==a.e&&W(t,a.e=i),o!==a.t&&W(s,a.t=o),a},{e:void 0,t:void 0}),t})()}function Dn(r){return g(ie,de(r,{children:t=>(()=>{var s=Aa(),n=s.firstChild,a=n.firstChild;return w(n,()=>r.label,a),a.addEventListener("change",i=>t().handleChange(i.target.value)),a.addEventListener("blur",i=>t().handleBlur(i.target.value)),w(s,g(be,{get when(){return t().state.meta.errors?.length>0},get children(){var i=Pn();return w(i,()=>t().state.meta.errors.join(",")),E(()=>W(i,V.fieldError)),i}}),null),E(i=>{var o=V.formRow,l=V.fieldLabel,c=r.type;return o!==i.e&&W(s,i.e=o),l!==i.t&&W(n,i.t=l),c!==i.a&&ze(a,"type",i.a=c),i},{e:void 0,t:void 0,a:void 0}),E(()=>a.value=t().state.value),s})()}))}function ce(r){const[t,s]=gt(r,["multiple"]);return g(be,{get when(){return t.multiple},get fallback(){return g(ja,s)},get children(){return g(On,s)}})}function ja(r){const t=It(()=>r.children),s=De(()=>r.options?.map(n=>(()=>{var a=yt();return w(a,()=>n.label),E(()=>a.value=n.value),a})())??t);return g(ie,de(r,{children:n=>(()=>{var a=Sa(),i=a.firstChild,o=i.firstChild;return w(i,()=>r.label,o),o.addEventListener("change",l=>n().handleChange(l.target.value)),o.addEventListener("blur",l=>n().handleBlur(l.target.value)),w(o,s),w(a,g(be,{get when(){return n().state.meta.errors.length>0},get children(){var l=Pn();return w(l,()=>n().state.meta.errors.join(",")),E(()=>W(l,V.fieldError)),l}}),null),E(l=>{var c=V.formRow,d=V.fieldLabel,u=r.type;return c!==l.e&&W(a,l.e=c),d!==l.t&&W(i,l.t=d),u!==l.a&&ze(o,"type",l.a=u),l},{e:void 0,t:void 0,a:void 0}),E(()=>o.value=n().state.value),a})()}))}const $n=Vn();function Ke(){return Fn($n)}function Qa(r){const[t,s]=gt(r,["children"]),n=Tn(()=>s);return(()=>{var a=Ca();return w(a,g($n.Provider,{value:n,get children(){return t.children}})),a})()}function Ga(r){const[t,s]=ee(!1),[n,a]=ee(0),[i,o]=ee(0),[l,c]=ee(null),[d,u]=ee(r.value||In(new Date)),f=h=>{const y=h.target.value.replace(/\W/g,"-");s(!1);for(let x of["yyyy-M-d","d-M-yyyy","d-M-yy","d-MMM-yyyy","d-MMM-yy","do-MMM-yyyy","do-MMM-yy"]){const v=Ns(y,x,new Date);if(Gt(v)){u(v);return}}h.target.value=Vt(d(),"d/M/yyyy")};return Oe(()=>{const h=m=>{l()&&l().contains(m.target)?t()||(a(d().getFullYear()),o(d().getMonth()),s(!0)):s(!1)};document.addEventListener("click",h),Bt(()=>document.removeEventListener("click",e))}),g(ie,de(r,{children:h=>(()=>{var m=Na(),y=m.firstChild,x=y.firstChild,v=x.firstChild;return Rt(c,m),w(x,()=>r.label,v),v.addEventListener("change",f),w(y,g(be,{get when(){return t()},get children(){var p=Ya(),b=p.firstChild,$=b.firstChild,_=$.nextSibling,L=b.nextSibling;return $.addEventListener("change",O=>o(O.target.value)),w($,g(ke,{each:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],children:(O,S)=>(()=>{var P=yt();return w(P,O),E(()=>P.value=S()),P})()})),_.addEventListener("change",O=>a(O.target.value)),w(_,g(ke,{each:[2020,2021,2022,2023,2024,2025,2026,2027],children:O=>(()=>{var S=yt();return S.value=O,w(S,O),S})()})),w(L,g(ke,{get each(){return Gn({start:new Date(n(),i(),1),end:Br(new Date(n(),i(),1))})},children:O=>(()=>{var S=La();return w(S,g(ke,{get each(){return[0,1,2,3,4,5,6].map(P=>Je(O,P))},children:P=>(()=>{var C=Wa();return C.$$click=j=>{j.stopPropagation(),s(!1),u(P)},w(C,()=>P.getDate()),E(j=>{var re={[V.dateCell]:!0,[V.notThisMonth]:i()!=P.getMonth(),[V.isToday]:P.valueOf()==d().valueOf()},J=`${d()} ${P}`;return j.e=An(C,re,j.e),J!==j.t&&ze(C,"title",j.t=J),j},{e:void 0,t:void 0}),C})()})),S})()})),E(()=>W(p,V.dateDropdown)),E(()=>$.value=i()),E(()=>_.value=n()),p}}),null),E(p=>{var b=V.formRow,$=V.dropdownContainer,_=V.fieldLabel;return b!==p.e&&W(m,p.e=b),$!==p.t&&W(y,p.t=$),_!==p.a&&W(x,p.a=_),p},{e:void 0,t:void 0,a:void 0}),E(()=>v.value=Vt(d(),"d/M/yyyy")),m})()}))}function On(r){const t=It(()=>r.children),s=De(()=>r.options??t()),[n,a]=ee(!1),[i,o]=ee(0),[l,c]=ee();Oe(()=>{const f=h=>{l()&&l().contains(h.target)?n()||(o(-1),a(!0)):a(!1)};document.addEventListener("click",f),Bt(()=>document.removeEventListener("click",f))});const[d,u]=ee("");return g(ie,de(r,{type:"array",children:f=>{Oe(y=>{if(l(),i(),y)return!1;if(l()){if(i()==-1){l().querySelector("input").focus();return}l().querySelector(`[data-value="${m()[i()]?.value}"]`)?.focus()}},!0);const h=De(()=>s().filter(y=>f().state.value?.includes(y.value)).map((y,x)=>[(()=>{var v=qa(),p=v.firstChild;return w(v,()=>y.innerText??y.label,p),p.$$click=()=>f().removeValue(x),E(b=>{var $=V.optionChip,_=V.closeButton;return $!==b.e&&W(v,b.e=$),_!==b.t&&W(p,b.t=_),b},{e:void 0,t:void 0}),v})(),Ia()])),m=De(()=>s().filter(y=>!f().state.value?.includes(y.value)).filter(y=>y.label?.toLowerCase().includes(d()?.toLowerCase())));return(()=>{var y=Ra(),x=y.firstChild,v=x.firstChild,p=v.firstChild,b=p.firstChild,$=b.nextSibling;return Rt(c,x),w(x,()=>r.label,v),v.$$keydown=_=>{_.key=="ArrowDown"&&i()<=m().length&&o(L=>L+1),_.key=="ArrowUp"&&i()>=0&&o(L=>L-1)},w(p,h,b),b.$$input=_=>{u(_.target.value)},b.$$keydown=_=>{_.key=="Backspace"&&_.target.selectionStart==0&&f().removeValue(f().state.value.length-1)},w($,g(be,{get when(){return n()},get children(){var _=Ba(),L=_.firstChild;return w(L,g(ke,{get each(){return m()},children:(O,S)=>(()=>{var P=Ha();return P.$$keydown=C=>{(C.key==" "||C.key=="Enter")&&(f().pushValue(O.value),u(""),l().querySelector("input").focus())},P.$$click=()=>{f().pushValue(O.value),u("")},E(C=>{var j=V.dropdownOption,re=O.value,J=O.innerHTML??O.label;return j!==C.e&&W(P,C.e=j),re!==C.t&&ze(P,"data-value",C.t=re),J!==C.a&&(P.innerHTML=C.a=J),C},{e:void 0,t:void 0,a:void 0}),P})()})),E(()=>W(_,V.dateDropdown)),_}})),E(_=>{var L=V.formRow,O=V.fieldLabel,S=V.multiselectcontainer;return L!==_.e&&W(y,_.e=L),O!==_.t&&W(x,_.t=O),S!==_.a&&W(p,_.a=S),_},{e:void 0,t:void 0,a:void 0}),E(()=>b.value=d()),y})()}}))}Wt(["click","keydown","input"]);const Xa="_ruleBox_1xyfn_7",Ka="_linklike_1xyfn_61",Ua="_formContainer_1xyfn_77",za="_formRow_1xyfn_89",Ja="_fieldLabel_1xyfn_91",Za="_notThisMonth_1xyfn_101",ei="_isToday_1xyfn_107",ti="_dateCell_1xyfn_113",ni="_dateDropdown_1xyfn_119",ri="_requirement_1xyfn_125",Ue={ruleBox:Xa,linklike:Ka,formContainer:Ua,formRow:za,fieldLabel:Ja,notThisMonth:Za,isToday:ei,dateCell:ti,dateDropdown:ni,requirement:ri};var si=M("<div>"),ai=M("<option value=and>All of these rule must match"),ii=M("<option value=or>Any of these rules must match"),oi=M("<option value=not>None of these rules may match"),li=M("<div>⚠️ This group has no members"),ui=M("<div><div>Groups</div><div>Rules</div><div>"),ci=M("<div><button type=button>Add group"),di=M("<div><button type=button>Add rule"),fi=M("<option value=DAILY>Every n days"),hi=M("<option value=WEEKLY>Days in week (eg every 3rd Monday; 1st Monday of month)"),mi=M("<option value=MONTHLY>Day in month (eg 1st of every month)"),vi=M("<option value=DATETAG>Tagged days"),pi=M("<option value=0>Monday"),yi=M("<option value=1>Tuesday"),gi=M("<option value=2>Wednesday"),bi=M("<option value=3>Thursday"),wi=M("<option value=4>Friday"),Mi=M("<option value=5>Saturday"),_i=M("<option value=6>Sunday"),xi=M("<div><details class=rule-definition name=rule-definition-box><summary class=description></summary><div><div></div><div>bla</div><div>bla</div><div>bla</div><button type=button>Delete this rule"),ki=M("<option>"),Ti=M("<h4>Edit activity"),Pi=M("<div id=ruleset-container>"),Di=M("<option value=URO>Urology"),$i=M("<option value=ENT>ENT"),Ne=M("<option>Theatre 1"),Oi=M("<div id=template-editor-settings>"),Ei=M("<button type=submit>Save template"),Fi=M("<a>Cancel"),Vi=M("<main>"),Ai=M("<div><button type=button>Add requirement"),Si=M("<div>⚠️ No requirements have been set"),Ci=M("<div><div><div></div><div><label class=linklike>Delete rule");const Yi=r=>{const t=["th","st","nd","rd"],s=r%100;return r+(t[(s-20)%10]||t[s]||t[0])};function En(r){return(()=>{var t=si();return w(t,g(ie,{get name(){return r.groupName},children:s=>(()=>{var n=ui(),a=n.firstChild,i=a.nextSibling,o=i.nextSibling;return w(n,g(ce,{get form(){return r.form},get name(){return`${r.groupName}.groupType`},label:"Type",get children(){return[ai(),ii(),oi()]}}),a),w(n,g(ie,{get name(){return`${r.groupName}.groups`},mode:"array",children:l=>(()=>{var c=ci(),d=c.firstChild;return w(c,g(We,{get each(){return l().state.value},fallback:"No sub-groups",children:(u,f)=>g(En,{get groupName(){return`${r.groupName}.groups[${f}]`},index:f,get form(){return r.form}})}),d),d.$$click=()=>s().form.pushFieldValue(`${r.groupName}.groups`,{groupType:"and",groups:[],rules:[]}),c})()}),i),w(n,g(ie,{get name(){return`${r.groupName}.rules`},label:"rules",mode:"array",children:l=>(()=>{var c=di(),d=c.firstChild;return w(c,g(We,{get each(){return l().state.value},fallback:"No rules declared",children:(u,f)=>g(Ni,{get ruleName(){return`${r.groupName}.rules[${f}]`},index:f,get form(){return r.form}})}),d),d.$$click=()=>l().pushValue({ruleType:"WEEKLY",weekdays:[],weekNumbers:[],months:[0,1,2,3,4,5,6,7,8,9,10,11]}),c})()}),o),w(o,g(be,{get when(){return s().state.value?.groups?.length+s().state.value?.rules?.length==0},get children(){return li()}})),E(()=>n.className=Ue.ruleBox),n})()})),t})()}function Ni(r){const t=De(()=>{const s=Ke().useStore(n=>(console.log(n,r.ruleName,Be(n.values,r.ruleName)),Be(n.values,r.ruleName)));return console.log(s().ruleType),s()});return g(qt,{get component(){return Ke().Subscribe}}),(()=>{var s=xi(),n=s.firstChild,a=n.firstChild,i=a.nextSibling,o=i.firstChild;return w(a,()=>t().ruleType),w(i,g(ce,{label:"Type",get name(){return`${r.ruleName}.ruleType`},get children(){return[fi(),hi(),mi(),vi()]}}),o),w(i,g(Cn,{get children(){return g(Sn,{get when(){return t().ruleType=="WEEKLY"},get children(){return[g(ce,{multiple:!0,get name(){return`${r.ruleName}.weekdays`},label:"Weekdays",get children(){return[pi(),yi(),gi(),bi(),wi(),Mi(),_i()]}}),g(ce,{get form(){return r.form},get name(){return`${r.ruleName}.cycleLength`},label:"Cycle Length",options:[{value:0,label:"weeks of month"},{value:1,label:"every week"},{value:2,label:"every 2 weeks"},{value:3,label:"every 3 weeks"},{value:4,label:"every 4 weeks"},{value:5,label:"every 5 weeks"},{value:6,label:"every 6 weeks"},{value:7,label:"every 7 weeks"},{value:8,label:"every 8 weeks"}]}),g(ce,{get form(){return r.form},multiple:!0,get name(){return`${r.ruleName}.weekNumbers`},label:"Week Numbers",get children(){return g(We,{get each(){return Array.from({length:Number(t().cycleLength)||5},(l,c)=>c+1)},children:(l,c)=>(()=>{var d=ki();return d.value=c+1,w(d,()=>Yi(c+1)),d})()})}}),g(ce,{get form(){return r.form},multiple:!0,get name(){return`${r.ruleName}.months`},label:"Months",options:[{value:0,label:"January"},{value:1,label:"February"},{value:2,label:"March"},{value:3,label:"April"},{value:4,label:"May"},{value:5,label:"June"},{value:6,label:"July"},{value:7,label:"August"},{value:8,label:"September"},{value:9,label:"October"},{value:10,label:"November"},{value:11,label:"December"}]})]}})}}),o),w(o,g(Ga,{name:"fred"})),E(()=>i.className=Ue.ruleBox),s})()}function Ii(r){const t=Tn(()=>({defaultValues:{ruleset:{groupType:"and",groups:[],rules:[]},activity_tags:[]},validators:{onChange(s){console.log(s)}}}));return Oe(()=>console.log(t.state)),(()=>{var s=Vi();return w(s,g(Qa,{method:"post",id:"edit-activity-form","data-up-submit":!0,get children(){return[Ti(),(()=>{var n=Oi();return w(n,g(he,{name:"activity_name",label:"Activity Name"}),null),w(n,g(Lt,{label:"This activity occurs:",get children(){var a=Pi();return w(a,g(En,{groupName:"ruleset"})),a}}),null),w(n,g(Nt,{label:"Start time",name:"start_time"}),null),w(n,g(Nt,{label:"Finish time",name:"finish_time"}),null),w(n,g(On,{name:"activity_tags",label:"Tags",get children(){return[Di(),$i()]}}),null),w(n,g(ce,{name:"location",label:"Location",get children(){return[Ne(),Ne(),Ne(),Ne()]}}),null),w(n,g(Lt,{label:"Requirements",get children(){return g(ie,{name:"requirements",label:"Requirements",children:a=>(()=>{var i=Ai(),o=i.firstChild;return w(i,g(We,{get each(){return a().state.value},get fallback(){return Si()},children:(l,c)=>(()=>{var d=Ci(),u=d.firstChild;return w(d,g(he,{name:`requirements[${c}].skills`,label:"Skills"}),u),w(d,g(he,{name:`requirements[${c}].required`,label:"Requirement"}),u),w(d,g(he,{name:`requirements[${c}].optional`,label:"Optional"}),u),w(d,g(he,{name:`requirements[${c}].attendance`,label:"Attendance"}),u),w(d,g(he,{name:`requirements[${c}].geofence`,label:"Geofence"}),u),E(()=>d.className=Ue.requirement),d})()}),o),o.$$click=()=>{a().pushValue({skills:[],required:1,optional:0,attendance:100,geofence:"local"})},i})()})}}),null),E(()=>W(n,Ue.formContainer)),n})(),Ei(),Fi()]}})),s})()}Wt(["click"]);export{Ii as default};
