import{o as G_,a as sa,c as Mn,b as Xt,d as hr,u as Is,e as ta,f as na,g as Ss,h as as,i as os,p as Rn,j as ie,M as H_,k as ra,F as ln,S as z_,l as fs,m as wi,n as rt,q as Kt,r as Rs,s as ia,t as Cs,v as _i,w as mi,x as Jt}from"./index-C54x-Mf0.js";import{t as ss,m as Ls,a as Ns,c as Z_,d as Y_,b as cr}from"./differenceInCalendarDays-UI_6T4ZZ.js";function ls(u,f){const i=()=>Z_(f?.in,NaN),v=k_(u);let p;if(v.date){const R=J_(v.date,2);p=Q_(R.restDateString,R.year)}if(!p||isNaN(+p))return i();const E=+p;let A=0,O;if(v.time&&(A=V_(v.time),isNaN(A)))return i();if(v.timezone){if(O=j_(v.timezone),isNaN(O))return i()}else{const R=new Date(E+A),D=ss(0,f?.in);return D.setFullYear(R.getUTCFullYear(),R.getUTCMonth(),R.getUTCDate()),D.setHours(R.getUTCHours(),R.getUTCMinutes(),R.getUTCSeconds(),R.getUTCMilliseconds()),D}return ss(E+A+O,f?.in)}const gi={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},K_=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,q_=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,X_=/^([+-])(\d{2})(?::?(\d{2}))?$/;function k_(u){const f={},i=u.split(gi.dateTimeDelimiter);let c;if(i.length>2)return f;if(/:/.test(i[0])?c=i[0]:(f.date=i[0],c=i[1],gi.timeZoneDelimiter.test(f.date)&&(f.date=u.split(gi.timeZoneDelimiter)[0],c=u.substr(f.date.length,u.length))),c){const v=gi.timezone.exec(c);v?(f.time=c.replace(v[1],""),f.timezone=v[1]):f.time=c}return f}function J_(u,f){const i=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+f)+"})|(\\d{2}|[+-]\\d{"+(2+f)+"})$)"),c=u.match(i);if(!c)return{year:NaN,restDateString:""};const v=c[1]?parseInt(c[1]):null,p=c[2]?parseInt(c[2]):null;return{year:p===null?v:p*100,restDateString:u.slice((c[1]||c[2]).length)}}function Q_(u,f){if(f===null)return new Date(NaN);const i=u.match(K_);if(!i)return new Date(NaN);const c=!!i[4],v=fr(i[1]),p=fr(i[2])-1,E=fr(i[3]),A=fr(i[4]),O=fr(i[5])-1;if(c)return i0(f,A,O)?e0(f,A,O):new Date(NaN);{const R=new Date(0);return!n0(f,p,E)||!r0(f,v)?new Date(NaN):(R.setUTCFullYear(f,p,Math.max(v,E)),R)}}function fr(u){return u?parseInt(u):1}function V_(u){const f=u.match(q_);if(!f)return NaN;const i=ua(f[1]),c=ua(f[2]),v=ua(f[3]);return u0(i,c,v)?i*Ls+c*Ns+v*1e3:NaN}function ua(u){return u&&parseFloat(u.replace(",","."))||0}function j_(u){if(u==="Z")return 0;const f=u.match(X_);if(!f)return 0;const i=f[1]==="+"?-1:1,c=parseInt(f[2]),v=f[3]&&parseInt(f[3])||0;return a0(c,v)?i*(c*Ls+v*Ns):NaN}function e0(u,f,i){const c=new Date(0);c.setUTCFullYear(u,0,4);const v=c.getUTCDay()||7,p=(f-1)*7+i+1-v;return c.setUTCDate(c.getUTCDate()+p),c}const t0=[31,null,31,30,31,30,31,31,30,31,30,31];function Ps(u){return u%400===0||u%4===0&&u%100!==0}function n0(u,f,i){return f>=0&&f<=11&&i>=1&&i<=(t0[f]||(Ps(u)?29:28))}function r0(u,f){return f>=1&&f<=(Ps(u)?366:365)}function i0(u,f,i){return f>=1&&f<=53&&i>=0&&i<=6}function u0(u,f,i){return u===24?f===0&&i===0:i>=0&&i<60&&f>=0&&f<60&&u>=0&&u<25}function a0(u,f){return f>=0&&f<=59}const o0="_activityName_12ua9_1",f0="_assignment_12ua9_3",s0="_spansAllRows_12ua9_9",l0="_rotaNames_12ua9_29",c0="_rotaTable_12ua9_49",d0="_rotaScrollable_12ua9_73",h0="_rotaGrid_12ua9_91",g0="_floatWrapper_12ua9_107",v0="_rotaSegment_12ua9_123",p0="_activity_12ua9_1",_0="_selected_12ua9_161",m0="_dragover_12ua9_167",y0="_activityCell_12ua9_173",w0="_dragoverValid_12ua9_197",E0="_dragoverInvalid_12ua9_203",D0="_unallocatedActivities_12ua9_209",T0="_weekend_12ua9_217",A0="_rowHeader_12ua9_225",x0="_columnHeader_12ua9_245",O0="_spinner_12ua9_261",b0="_spin_12ua9_261",Ye={activityName:o0,assignment:f0,spansAllRows:s0,rotaNames:l0,rotaTable:c0,rotaScrollable:d0,rotaGrid:h0,floatWrapper:g0,rotaSegment:v0,activity:p0,selected:_0,dragover:m0,activityCell:y0,dragoverValid:w0,dragoverInvalid:E0,unallocatedActivities:D0,weekend:T0,rowHeader:A0,columnHeader:x0,spinner:O0,spin:b0};var vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var I0=dr.exports,cs;function S0(){return cs||(cs=1,function(u,f){(function(){var i,c="4.17.21",v=200,p="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",E="Expected a function",A="Invalid `variable` option passed into `_.template`",O="__lodash_hash_undefined__",R=500,D="__lodash_placeholder__",x=1,b=2,W=4,Z=1,V=2,L=1,B=2,q=4,P=8,pe=16,j=32,de=64,fe=128,dt=256,ht=512,Lt=30,Nt="...",Pt=800,Er=16,Mt=1,ye=2,dn=3,yt=1/0,gt=9007199254740991,Un=17976931348623157e292,hn=NaN,ae=4294967295,wt=ae-1,We=ae>>>1,tl=[["ary",fe],["bind",L],["bindKey",B],["curry",P],["curryRight",pe],["flip",ht],["partial",j],["partialRight",de],["rearg",dt]],gn="[object Arguments]",Dr="[object Array]",nl="[object AsyncFunction]",$n="[object Boolean]",Gn="[object Date]",rl="[object DOMException]",Tr="[object Error]",Ar="[object Function]",ba="[object GeneratorFunction]",it="[object Map]",Hn="[object Number]",il="[object Null]",Et="[object Object]",Ia="[object Promise]",ul="[object Proxy]",zn="[object RegExp]",ut="[object Set]",Zn="[object String]",xr="[object Symbol]",al="[object Undefined]",Yn="[object WeakMap]",ol="[object WeakSet]",Kn="[object ArrayBuffer]",vn="[object DataView]",Pi="[object Float32Array]",Mi="[object Float64Array]",Fi="[object Int8Array]",Wi="[object Int16Array]",Bi="[object Int32Array]",Ui="[object Uint8Array]",$i="[object Uint8ClampedArray]",Gi="[object Uint16Array]",Hi="[object Uint32Array]",fl=/\b__p \+= '';/g,sl=/\b(__p \+=) '' \+/g,ll=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Sa=/&(?:amp|lt|gt|quot|#39);/g,Ra=/[&<>"']/g,cl=RegExp(Sa.source),dl=RegExp(Ra.source),hl=/<%-([\s\S]+?)%>/g,gl=/<%([\s\S]+?)%>/g,Ca=/<%=([\s\S]+?)%>/g,vl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pl=/^\w*$/,_l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zi=/[\\^$.*+?()[\]{}|]/g,ml=RegExp(zi.source),Zi=/^\s+/,yl=/\s/,wl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,El=/\{\n\/\* \[wrapped with (.+)\] \*/,Dl=/,? & /,Tl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Al=/[()=,{}\[\]\/\s]/,xl=/\\(\\)?/g,Ol=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,La=/\w*$/,bl=/^[-+]0x[0-9a-f]+$/i,Il=/^0b[01]+$/i,Sl=/^\[object .+?Constructor\]$/,Rl=/^0o[0-7]+$/i,Cl=/^(?:0|[1-9]\d*)$/,Ll=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Or=/($^)/,Nl=/['\n\r\u2028\u2029\\]/g,br="\\ud800-\\udfff",Pl="\\u0300-\\u036f",Ml="\\ufe20-\\ufe2f",Fl="\\u20d0-\\u20ff",Na=Pl+Ml+Fl,Pa="\\u2700-\\u27bf",Ma="a-z\\xdf-\\xf6\\xf8-\\xff",Wl="\\xac\\xb1\\xd7\\xf7",Bl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ul="\\u2000-\\u206f",$l=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fa="A-Z\\xc0-\\xd6\\xd8-\\xde",Wa="\\ufe0e\\ufe0f",Ba=Wl+Bl+Ul+$l,Yi="['’]",Gl="["+br+"]",Ua="["+Ba+"]",Ir="["+Na+"]",$a="\\d+",Hl="["+Pa+"]",Ga="["+Ma+"]",Ha="[^"+br+Ba+$a+Pa+Ma+Fa+"]",Ki="\\ud83c[\\udffb-\\udfff]",zl="(?:"+Ir+"|"+Ki+")",za="[^"+br+"]",qi="(?:\\ud83c[\\udde6-\\uddff]){2}",Xi="[\\ud800-\\udbff][\\udc00-\\udfff]",pn="["+Fa+"]",Za="\\u200d",Ya="(?:"+Ga+"|"+Ha+")",Zl="(?:"+pn+"|"+Ha+")",Ka="(?:"+Yi+"(?:d|ll|m|re|s|t|ve))?",qa="(?:"+Yi+"(?:D|LL|M|RE|S|T|VE))?",Xa=zl+"?",ka="["+Wa+"]?",Yl="(?:"+Za+"(?:"+[za,qi,Xi].join("|")+")"+ka+Xa+")*",Kl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ql="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ja=ka+Xa+Yl,Xl="(?:"+[Hl,qi,Xi].join("|")+")"+Ja,kl="(?:"+[za+Ir+"?",Ir,qi,Xi,Gl].join("|")+")",Jl=RegExp(Yi,"g"),Ql=RegExp(Ir,"g"),ki=RegExp(Ki+"(?="+Ki+")|"+kl+Ja,"g"),Vl=RegExp([pn+"?"+Ga+"+"+Ka+"(?="+[Ua,pn,"$"].join("|")+")",Zl+"+"+qa+"(?="+[Ua,pn+Ya,"$"].join("|")+")",pn+"?"+Ya+"+"+Ka,pn+"+"+qa,ql,Kl,$a,Xl].join("|"),"g"),jl=RegExp("["+Za+br+Na+Wa+"]"),ec=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nc=-1,ne={};ne[Pi]=ne[Mi]=ne[Fi]=ne[Wi]=ne[Bi]=ne[Ui]=ne[$i]=ne[Gi]=ne[Hi]=!0,ne[gn]=ne[Dr]=ne[Kn]=ne[$n]=ne[vn]=ne[Gn]=ne[Tr]=ne[Ar]=ne[it]=ne[Hn]=ne[Et]=ne[zn]=ne[ut]=ne[Zn]=ne[Yn]=!1;var te={};te[gn]=te[Dr]=te[Kn]=te[vn]=te[$n]=te[Gn]=te[Pi]=te[Mi]=te[Fi]=te[Wi]=te[Bi]=te[it]=te[Hn]=te[Et]=te[zn]=te[ut]=te[Zn]=te[xr]=te[Ui]=te[$i]=te[Gi]=te[Hi]=!0,te[Tr]=te[Ar]=te[Yn]=!1;var rc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ic={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},uc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ac={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},oc=parseFloat,fc=parseInt,Qa=typeof vi=="object"&&vi&&vi.Object===Object&&vi,sc=typeof self=="object"&&self&&self.Object===Object&&self,we=Qa||sc||Function("return this")(),Ji=f&&!f.nodeType&&f,Qt=Ji&&!0&&u&&!u.nodeType&&u,Va=Qt&&Qt.exports===Ji,Qi=Va&&Qa.process,qe=function(){try{var h=Qt&&Qt.require&&Qt.require("util").types;return h||Qi&&Qi.binding&&Qi.binding("util")}catch{}}(),ja=qe&&qe.isArrayBuffer,eo=qe&&qe.isDate,to=qe&&qe.isMap,no=qe&&qe.isRegExp,ro=qe&&qe.isSet,io=qe&&qe.isTypedArray;function Be(h,m,_){switch(_.length){case 0:return h.call(m);case 1:return h.call(m,_[0]);case 2:return h.call(m,_[0],_[1]);case 3:return h.call(m,_[0],_[1],_[2])}return h.apply(m,_)}function lc(h,m,_,S){for(var U=-1,k=h==null?0:h.length;++U<k;){var he=h[U];m(S,he,_(he),h)}return S}function Xe(h,m){for(var _=-1,S=h==null?0:h.length;++_<S&&m(h[_],_,h)!==!1;);return h}function cc(h,m){for(var _=h==null?0:h.length;_--&&m(h[_],_,h)!==!1;);return h}function uo(h,m){for(var _=-1,S=h==null?0:h.length;++_<S;)if(!m(h[_],_,h))return!1;return!0}function Ft(h,m){for(var _=-1,S=h==null?0:h.length,U=0,k=[];++_<S;){var he=h[_];m(he,_,h)&&(k[U++]=he)}return k}function Sr(h,m){var _=h==null?0:h.length;return!!_&&_n(h,m,0)>-1}function Vi(h,m,_){for(var S=-1,U=h==null?0:h.length;++S<U;)if(_(m,h[S]))return!0;return!1}function re(h,m){for(var _=-1,S=h==null?0:h.length,U=Array(S);++_<S;)U[_]=m(h[_],_,h);return U}function Wt(h,m){for(var _=-1,S=m.length,U=h.length;++_<S;)h[U+_]=m[_];return h}function ji(h,m,_,S){var U=-1,k=h==null?0:h.length;for(S&&k&&(_=h[++U]);++U<k;)_=m(_,h[U],U,h);return _}function dc(h,m,_,S){var U=h==null?0:h.length;for(S&&U&&(_=h[--U]);U--;)_=m(_,h[U],U,h);return _}function eu(h,m){for(var _=-1,S=h==null?0:h.length;++_<S;)if(m(h[_],_,h))return!0;return!1}var hc=tu("length");function gc(h){return h.split("")}function vc(h){return h.match(Tl)||[]}function ao(h,m,_){var S;return _(h,function(U,k,he){if(m(U,k,he))return S=k,!1}),S}function Rr(h,m,_,S){for(var U=h.length,k=_+(S?1:-1);S?k--:++k<U;)if(m(h[k],k,h))return k;return-1}function _n(h,m,_){return m===m?bc(h,m,_):Rr(h,oo,_)}function pc(h,m,_,S){for(var U=_-1,k=h.length;++U<k;)if(S(h[U],m))return U;return-1}function oo(h){return h!==h}function fo(h,m){var _=h==null?0:h.length;return _?ru(h,m)/_:hn}function tu(h){return function(m){return m==null?i:m[h]}}function nu(h){return function(m){return h==null?i:h[m]}}function so(h,m,_,S,U){return U(h,function(k,he,ee){_=S?(S=!1,k):m(_,k,he,ee)}),_}function _c(h,m){var _=h.length;for(h.sort(m);_--;)h[_]=h[_].value;return h}function ru(h,m){for(var _,S=-1,U=h.length;++S<U;){var k=m(h[S]);k!==i&&(_=_===i?k:_+k)}return _}function iu(h,m){for(var _=-1,S=Array(h);++_<h;)S[_]=m(_);return S}function mc(h,m){return re(m,function(_){return[_,h[_]]})}function lo(h){return h&&h.slice(0,vo(h)+1).replace(Zi,"")}function Ue(h){return function(m){return h(m)}}function uu(h,m){return re(m,function(_){return h[_]})}function qn(h,m){return h.has(m)}function co(h,m){for(var _=-1,S=h.length;++_<S&&_n(m,h[_],0)>-1;);return _}function ho(h,m){for(var _=h.length;_--&&_n(m,h[_],0)>-1;);return _}function yc(h,m){for(var _=h.length,S=0;_--;)h[_]===m&&++S;return S}var wc=nu(rc),Ec=nu(ic);function Dc(h){return"\\"+ac[h]}function Tc(h,m){return h==null?i:h[m]}function mn(h){return jl.test(h)}function Ac(h){return ec.test(h)}function xc(h){for(var m,_=[];!(m=h.next()).done;)_.push(m.value);return _}function au(h){var m=-1,_=Array(h.size);return h.forEach(function(S,U){_[++m]=[U,S]}),_}function go(h,m){return function(_){return h(m(_))}}function Bt(h,m){for(var _=-1,S=h.length,U=0,k=[];++_<S;){var he=h[_];(he===m||he===D)&&(h[_]=D,k[U++]=_)}return k}function Cr(h){var m=-1,_=Array(h.size);return h.forEach(function(S){_[++m]=S}),_}function Oc(h){var m=-1,_=Array(h.size);return h.forEach(function(S){_[++m]=[S,S]}),_}function bc(h,m,_){for(var S=_-1,U=h.length;++S<U;)if(h[S]===m)return S;return-1}function Ic(h,m,_){for(var S=_+1;S--;)if(h[S]===m)return S;return S}function yn(h){return mn(h)?Rc(h):hc(h)}function at(h){return mn(h)?Cc(h):gc(h)}function vo(h){for(var m=h.length;m--&&yl.test(h.charAt(m)););return m}var Sc=nu(uc);function Rc(h){for(var m=ki.lastIndex=0;ki.test(h);)++m;return m}function Cc(h){return h.match(ki)||[]}function Lc(h){return h.match(Vl)||[]}var Nc=function h(m){m=m==null?we:wn.defaults(we.Object(),m,wn.pick(we,tc));var _=m.Array,S=m.Date,U=m.Error,k=m.Function,he=m.Math,ee=m.Object,ou=m.RegExp,Pc=m.String,ke=m.TypeError,Lr=_.prototype,Mc=k.prototype,En=ee.prototype,Nr=m["__core-js_shared__"],Pr=Mc.toString,Q=En.hasOwnProperty,Fc=0,po=function(){var e=/[^.]+$/.exec(Nr&&Nr.keys&&Nr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Mr=En.toString,Wc=Pr.call(ee),Bc=we._,Uc=ou("^"+Pr.call(Q).replace(zi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fr=Va?m.Buffer:i,Ut=m.Symbol,Wr=m.Uint8Array,_o=Fr?Fr.allocUnsafe:i,Br=go(ee.getPrototypeOf,ee),mo=ee.create,yo=En.propertyIsEnumerable,Ur=Lr.splice,wo=Ut?Ut.isConcatSpreadable:i,Xn=Ut?Ut.iterator:i,Vt=Ut?Ut.toStringTag:i,$r=function(){try{var e=rn(ee,"defineProperty");return e({},"",{}),e}catch{}}(),$c=m.clearTimeout!==we.clearTimeout&&m.clearTimeout,Gc=S&&S.now!==we.Date.now&&S.now,Hc=m.setTimeout!==we.setTimeout&&m.setTimeout,Gr=he.ceil,Hr=he.floor,fu=ee.getOwnPropertySymbols,zc=Fr?Fr.isBuffer:i,Eo=m.isFinite,Zc=Lr.join,Yc=go(ee.keys,ee),ge=he.max,Ae=he.min,Kc=S.now,qc=m.parseInt,Do=he.random,Xc=Lr.reverse,su=rn(m,"DataView"),kn=rn(m,"Map"),lu=rn(m,"Promise"),Dn=rn(m,"Set"),Jn=rn(m,"WeakMap"),Qn=rn(ee,"create"),zr=Jn&&new Jn,Tn={},kc=un(su),Jc=un(kn),Qc=un(lu),Vc=un(Dn),jc=un(Jn),Zr=Ut?Ut.prototype:i,Vn=Zr?Zr.valueOf:i,To=Zr?Zr.toString:i;function o(e){if(oe(e)&&!$(e)&&!(e instanceof K)){if(e instanceof Je)return e;if(Q.call(e,"__wrapped__"))return xf(e)}return new Je(e)}var An=function(){function e(){}return function(t){if(!ue(t))return{};if(mo)return mo(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Yr(){}function Je(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}o.templateSettings={escape:hl,evaluate:gl,interpolate:Ca,variable:"",imports:{_:o}},o.prototype=Yr.prototype,o.prototype.constructor=o,Je.prototype=An(Yr.prototype),Je.prototype.constructor=Je;function K(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ae,this.__views__=[]}function ed(){var e=new K(this.__wrapped__);return e.__actions__=Le(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Le(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Le(this.__views__),e}function td(){if(this.__filtered__){var e=new K(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function nd(){var e=this.__wrapped__.value(),t=this.__dir__,n=$(e),r=t<0,a=n?e.length:0,s=gh(0,a,this.__views__),l=s.start,d=s.end,g=d-l,y=r?d:l-1,w=this.__iteratees__,T=w.length,I=0,C=Ae(g,this.__takeCount__);if(!n||!r&&a==g&&C==g)return qo(e,this.__actions__);var M=[];e:for(;g--&&I<C;){y+=t;for(var H=-1,F=e[y];++H<T;){var Y=w[H],X=Y.iteratee,He=Y.type,Re=X(F);if(He==ye)F=Re;else if(!Re){if(He==Mt)continue e;break e}}M[I++]=F}return M}K.prototype=An(Yr.prototype),K.prototype.constructor=K;function jt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function rd(){this.__data__=Qn?Qn(null):{},this.size=0}function id(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function ud(e){var t=this.__data__;if(Qn){var n=t[e];return n===O?i:n}return Q.call(t,e)?t[e]:i}function ad(e){var t=this.__data__;return Qn?t[e]!==i:Q.call(t,e)}function od(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Qn&&t===i?O:t,this}jt.prototype.clear=rd,jt.prototype.delete=id,jt.prototype.get=ud,jt.prototype.has=ad,jt.prototype.set=od;function Dt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function fd(){this.__data__=[],this.size=0}function sd(e){var t=this.__data__,n=Kr(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Ur.call(t,n,1),--this.size,!0}function ld(e){var t=this.__data__,n=Kr(t,e);return n<0?i:t[n][1]}function cd(e){return Kr(this.__data__,e)>-1}function dd(e,t){var n=this.__data__,r=Kr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}Dt.prototype.clear=fd,Dt.prototype.delete=sd,Dt.prototype.get=ld,Dt.prototype.has=cd,Dt.prototype.set=dd;function Tt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function hd(){this.size=0,this.__data__={hash:new jt,map:new(kn||Dt),string:new jt}}function gd(e){var t=ii(this,e).delete(e);return this.size-=t?1:0,t}function vd(e){return ii(this,e).get(e)}function pd(e){return ii(this,e).has(e)}function _d(e,t){var n=ii(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}Tt.prototype.clear=hd,Tt.prototype.delete=gd,Tt.prototype.get=vd,Tt.prototype.has=pd,Tt.prototype.set=_d;function en(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Tt;++t<n;)this.add(e[t])}function md(e){return this.__data__.set(e,O),this}function yd(e){return this.__data__.has(e)}en.prototype.add=en.prototype.push=md,en.prototype.has=yd;function ot(e){var t=this.__data__=new Dt(e);this.size=t.size}function wd(){this.__data__=new Dt,this.size=0}function Ed(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Dd(e){return this.__data__.get(e)}function Td(e){return this.__data__.has(e)}function Ad(e,t){var n=this.__data__;if(n instanceof Dt){var r=n.__data__;if(!kn||r.length<v-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Tt(r)}return n.set(e,t),this.size=n.size,this}ot.prototype.clear=wd,ot.prototype.delete=Ed,ot.prototype.get=Dd,ot.prototype.has=Td,ot.prototype.set=Ad;function Ao(e,t){var n=$(e),r=!n&&an(e),a=!n&&!r&&Zt(e),s=!n&&!r&&!a&&In(e),l=n||r||a||s,d=l?iu(e.length,Pc):[],g=d.length;for(var y in e)(t||Q.call(e,y))&&!(l&&(y=="length"||a&&(y=="offset"||y=="parent")||s&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||bt(y,g)))&&d.push(y);return d}function xo(e){var t=e.length;return t?e[Eu(0,t-1)]:i}function xd(e,t){return ui(Le(e),tn(t,0,e.length))}function Od(e){return ui(Le(e))}function cu(e,t,n){(n!==i&&!ft(e[t],n)||n===i&&!(t in e))&&At(e,t,n)}function jn(e,t,n){var r=e[t];(!(Q.call(e,t)&&ft(r,n))||n===i&&!(t in e))&&At(e,t,n)}function Kr(e,t){for(var n=e.length;n--;)if(ft(e[n][0],t))return n;return-1}function bd(e,t,n,r){return $t(e,function(a,s,l){t(r,a,n(a),l)}),r}function Oo(e,t){return e&&pt(t,_e(t),e)}function Id(e,t){return e&&pt(t,Pe(t),e)}function At(e,t,n){t=="__proto__"&&$r?$r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function du(e,t){for(var n=-1,r=t.length,a=_(r),s=e==null;++n<r;)a[n]=s?i:Ku(e,t[n]);return a}function tn(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function Qe(e,t,n,r,a,s){var l,d=t&x,g=t&b,y=t&W;if(n&&(l=a?n(e,r,a,s):n(e)),l!==i)return l;if(!ue(e))return e;var w=$(e);if(w){if(l=ph(e),!d)return Le(e,l)}else{var T=xe(e),I=T==Ar||T==ba;if(Zt(e))return Jo(e,d);if(T==Et||T==gn||I&&!a){if(l=g||I?{}:pf(e),!d)return g?uh(e,Id(l,e)):ih(e,Oo(l,e))}else{if(!te[T])return a?e:{};l=_h(e,T,d)}}s||(s=new ot);var C=s.get(e);if(C)return C;s.set(e,l),Yf(e)?e.forEach(function(F){l.add(Qe(F,t,n,F,e,s))}):zf(e)&&e.forEach(function(F,Y){l.set(Y,Qe(F,t,n,Y,e,s))});var M=y?g?Lu:Cu:g?Pe:_e,H=w?i:M(e);return Xe(H||e,function(F,Y){H&&(Y=F,F=e[Y]),jn(l,Y,Qe(F,t,n,Y,e,s))}),l}function Sd(e){var t=_e(e);return function(n){return bo(n,e,t)}}function bo(e,t,n){var r=n.length;if(e==null)return!r;for(e=ee(e);r--;){var a=n[r],s=t[a],l=e[a];if(l===i&&!(a in e)||!s(l))return!1}return!0}function Io(e,t,n){if(typeof e!="function")throw new ke(E);return ar(function(){e.apply(i,n)},t)}function er(e,t,n,r){var a=-1,s=Sr,l=!0,d=e.length,g=[],y=t.length;if(!d)return g;n&&(t=re(t,Ue(n))),r?(s=Vi,l=!1):t.length>=v&&(s=qn,l=!1,t=new en(t));e:for(;++a<d;){var w=e[a],T=n==null?w:n(w);if(w=r||w!==0?w:0,l&&T===T){for(var I=y;I--;)if(t[I]===T)continue e;g.push(w)}else s(t,T,r)||g.push(w)}return g}var $t=tf(vt),So=tf(gu,!0);function Rd(e,t){var n=!0;return $t(e,function(r,a,s){return n=!!t(r,a,s),n}),n}function qr(e,t,n){for(var r=-1,a=e.length;++r<a;){var s=e[r],l=t(s);if(l!=null&&(d===i?l===l&&!Ge(l):n(l,d)))var d=l,g=s}return g}function Cd(e,t,n,r){var a=e.length;for(n=G(n),n<0&&(n=-n>a?0:a+n),r=r===i||r>a?a:G(r),r<0&&(r+=a),r=n>r?0:qf(r);n<r;)e[n++]=t;return e}function Ro(e,t){var n=[];return $t(e,function(r,a,s){t(r,a,s)&&n.push(r)}),n}function Ee(e,t,n,r,a){var s=-1,l=e.length;for(n||(n=yh),a||(a=[]);++s<l;){var d=e[s];t>0&&n(d)?t>1?Ee(d,t-1,n,r,a):Wt(a,d):r||(a[a.length]=d)}return a}var hu=nf(),Co=nf(!0);function vt(e,t){return e&&hu(e,t,_e)}function gu(e,t){return e&&Co(e,t,_e)}function Xr(e,t){return Ft(t,function(n){return It(e[n])})}function nn(e,t){t=Ht(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[_t(t[n++])];return n&&n==r?e:i}function Lo(e,t,n){var r=t(e);return $(e)?r:Wt(r,n(e))}function Ie(e){return e==null?e===i?al:il:Vt&&Vt in ee(e)?hh(e):Oh(e)}function vu(e,t){return e>t}function Ld(e,t){return e!=null&&Q.call(e,t)}function Nd(e,t){return e!=null&&t in ee(e)}function Pd(e,t,n){return e>=Ae(t,n)&&e<ge(t,n)}function pu(e,t,n){for(var r=n?Vi:Sr,a=e[0].length,s=e.length,l=s,d=_(s),g=1/0,y=[];l--;){var w=e[l];l&&t&&(w=re(w,Ue(t))),g=Ae(w.length,g),d[l]=!n&&(t||a>=120&&w.length>=120)?new en(l&&w):i}w=e[0];var T=-1,I=d[0];e:for(;++T<a&&y.length<g;){var C=w[T],M=t?t(C):C;if(C=n||C!==0?C:0,!(I?qn(I,M):r(y,M,n))){for(l=s;--l;){var H=d[l];if(!(H?qn(H,M):r(e[l],M,n)))continue e}I&&I.push(M),y.push(C)}}return y}function Md(e,t,n,r){return vt(e,function(a,s,l){t(r,n(a),s,l)}),r}function tr(e,t,n){t=Ht(t,e),e=wf(e,t);var r=e==null?e:e[_t(je(t))];return r==null?i:Be(r,e,n)}function No(e){return oe(e)&&Ie(e)==gn}function Fd(e){return oe(e)&&Ie(e)==Kn}function Wd(e){return oe(e)&&Ie(e)==Gn}function nr(e,t,n,r,a){return e===t?!0:e==null||t==null||!oe(e)&&!oe(t)?e!==e&&t!==t:Bd(e,t,n,r,nr,a)}function Bd(e,t,n,r,a,s){var l=$(e),d=$(t),g=l?Dr:xe(e),y=d?Dr:xe(t);g=g==gn?Et:g,y=y==gn?Et:y;var w=g==Et,T=y==Et,I=g==y;if(I&&Zt(e)){if(!Zt(t))return!1;l=!0,w=!1}if(I&&!w)return s||(s=new ot),l||In(e)?hf(e,t,n,r,a,s):ch(e,t,g,n,r,a,s);if(!(n&Z)){var C=w&&Q.call(e,"__wrapped__"),M=T&&Q.call(t,"__wrapped__");if(C||M){var H=C?e.value():e,F=M?t.value():t;return s||(s=new ot),a(H,F,n,r,s)}}return I?(s||(s=new ot),dh(e,t,n,r,a,s)):!1}function Ud(e){return oe(e)&&xe(e)==it}function _u(e,t,n,r){var a=n.length,s=a,l=!r;if(e==null)return!s;for(e=ee(e);a--;){var d=n[a];if(l&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++a<s;){d=n[a];var g=d[0],y=e[g],w=d[1];if(l&&d[2]){if(y===i&&!(g in e))return!1}else{var T=new ot;if(r)var I=r(y,w,g,e,t,T);if(!(I===i?nr(w,y,Z|V,r,T):I))return!1}}return!0}function Po(e){if(!ue(e)||Eh(e))return!1;var t=It(e)?Uc:Sl;return t.test(un(e))}function $d(e){return oe(e)&&Ie(e)==zn}function Gd(e){return oe(e)&&xe(e)==ut}function Hd(e){return oe(e)&&ci(e.length)&&!!ne[Ie(e)]}function Mo(e){return typeof e=="function"?e:e==null?Me:typeof e=="object"?$(e)?Bo(e[0],e[1]):Wo(e):is(e)}function mu(e){if(!ur(e))return Yc(e);var t=[];for(var n in ee(e))Q.call(e,n)&&n!="constructor"&&t.push(n);return t}function zd(e){if(!ue(e))return xh(e);var t=ur(e),n=[];for(var r in e)r=="constructor"&&(t||!Q.call(e,r))||n.push(r);return n}function yu(e,t){return e<t}function Fo(e,t){var n=-1,r=Ne(e)?_(e.length):[];return $t(e,function(a,s,l){r[++n]=t(a,s,l)}),r}function Wo(e){var t=Pu(e);return t.length==1&&t[0][2]?mf(t[0][0],t[0][1]):function(n){return n===e||_u(n,e,t)}}function Bo(e,t){return Fu(e)&&_f(t)?mf(_t(e),t):function(n){var r=Ku(n,e);return r===i&&r===t?qu(n,e):nr(t,r,Z|V)}}function kr(e,t,n,r,a){e!==t&&hu(t,function(s,l){if(a||(a=new ot),ue(s))Zd(e,t,l,n,kr,r,a);else{var d=r?r(Bu(e,l),s,l+"",e,t,a):i;d===i&&(d=s),cu(e,l,d)}},Pe)}function Zd(e,t,n,r,a,s,l){var d=Bu(e,n),g=Bu(t,n),y=l.get(g);if(y){cu(e,n,y);return}var w=s?s(d,g,n+"",e,t,l):i,T=w===i;if(T){var I=$(g),C=!I&&Zt(g),M=!I&&!C&&In(g);w=g,I||C||M?$(d)?w=d:se(d)?w=Le(d):C?(T=!1,w=Jo(g,!0)):M?(T=!1,w=Qo(g,!0)):w=[]:or(g)||an(g)?(w=d,an(d)?w=Xf(d):(!ue(d)||It(d))&&(w=pf(g))):T=!1}T&&(l.set(g,w),a(w,g,r,s,l),l.delete(g)),cu(e,n,w)}function Uo(e,t){var n=e.length;if(n)return t+=t<0?n:0,bt(t,n)?e[t]:i}function $o(e,t,n){t.length?t=re(t,function(s){return $(s)?function(l){return nn(l,s.length===1?s[0]:s)}:s}):t=[Me];var r=-1;t=re(t,Ue(N()));var a=Fo(e,function(s,l,d){var g=re(t,function(y){return y(s)});return{criteria:g,index:++r,value:s}});return _c(a,function(s,l){return rh(s,l,n)})}function Yd(e,t){return Go(e,t,function(n,r){return qu(e,r)})}function Go(e,t,n){for(var r=-1,a=t.length,s={};++r<a;){var l=t[r],d=nn(e,l);n(d,l)&&rr(s,Ht(l,e),d)}return s}function Kd(e){return function(t){return nn(t,e)}}function wu(e,t,n,r){var a=r?pc:_n,s=-1,l=t.length,d=e;for(e===t&&(t=Le(t)),n&&(d=re(e,Ue(n)));++s<l;)for(var g=0,y=t[s],w=n?n(y):y;(g=a(d,w,g,r))>-1;)d!==e&&Ur.call(d,g,1),Ur.call(e,g,1);return e}function Ho(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(n==r||a!==s){var s=a;bt(a)?Ur.call(e,a,1):Au(e,a)}}return e}function Eu(e,t){return e+Hr(Do()*(t-e+1))}function qd(e,t,n,r){for(var a=-1,s=ge(Gr((t-e)/(n||1)),0),l=_(s);s--;)l[r?s:++a]=e,e+=n;return l}function Du(e,t){var n="";if(!e||t<1||t>gt)return n;do t%2&&(n+=e),t=Hr(t/2),t&&(e+=e);while(t);return n}function z(e,t){return Uu(yf(e,t,Me),e+"")}function Xd(e){return xo(Sn(e))}function kd(e,t){var n=Sn(e);return ui(n,tn(t,0,n.length))}function rr(e,t,n,r){if(!ue(e))return e;t=Ht(t,e);for(var a=-1,s=t.length,l=s-1,d=e;d!=null&&++a<s;){var g=_t(t[a]),y=n;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(a!=l){var w=d[g];y=r?r(w,g,d):i,y===i&&(y=ue(w)?w:bt(t[a+1])?[]:{})}jn(d,g,y),d=d[g]}return e}var zo=zr?function(e,t){return zr.set(e,t),e}:Me,Jd=$r?function(e,t){return $r(e,"toString",{configurable:!0,enumerable:!1,value:ku(t),writable:!0})}:Me;function Qd(e){return ui(Sn(e))}function Ve(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var s=_(a);++r<a;)s[r]=e[r+t];return s}function Vd(e,t){var n;return $t(e,function(r,a,s){return n=t(r,a,s),!n}),!!n}function Jr(e,t,n){var r=0,a=e==null?r:e.length;if(typeof t=="number"&&t===t&&a<=We){for(;r<a;){var s=r+a>>>1,l=e[s];l!==null&&!Ge(l)&&(n?l<=t:l<t)?r=s+1:a=s}return a}return Tu(e,t,Me,n)}function Tu(e,t,n,r){var a=0,s=e==null?0:e.length;if(s===0)return 0;t=n(t);for(var l=t!==t,d=t===null,g=Ge(t),y=t===i;a<s;){var w=Hr((a+s)/2),T=n(e[w]),I=T!==i,C=T===null,M=T===T,H=Ge(T);if(l)var F=r||M;else y?F=M&&(r||I):d?F=M&&I&&(r||!C):g?F=M&&I&&!C&&(r||!H):C||H?F=!1:F=r?T<=t:T<t;F?a=w+1:s=w}return Ae(s,wt)}function Zo(e,t){for(var n=-1,r=e.length,a=0,s=[];++n<r;){var l=e[n],d=t?t(l):l;if(!n||!ft(d,g)){var g=d;s[a++]=l===0?0:l}}return s}function Yo(e){return typeof e=="number"?e:Ge(e)?hn:+e}function $e(e){if(typeof e=="string")return e;if($(e))return re(e,$e)+"";if(Ge(e))return To?To.call(e):"";var t=e+"";return t=="0"&&1/e==-yt?"-0":t}function Gt(e,t,n){var r=-1,a=Sr,s=e.length,l=!0,d=[],g=d;if(n)l=!1,a=Vi;else if(s>=v){var y=t?null:sh(e);if(y)return Cr(y);l=!1,a=qn,g=new en}else g=t?[]:d;e:for(;++r<s;){var w=e[r],T=t?t(w):w;if(w=n||w!==0?w:0,l&&T===T){for(var I=g.length;I--;)if(g[I]===T)continue e;t&&g.push(T),d.push(w)}else a(g,T,n)||(g!==d&&g.push(T),d.push(w))}return d}function Au(e,t){return t=Ht(t,e),e=wf(e,t),e==null||delete e[_t(je(t))]}function Ko(e,t,n,r){return rr(e,t,n(nn(e,t)),r)}function Qr(e,t,n,r){for(var a=e.length,s=r?a:-1;(r?s--:++s<a)&&t(e[s],s,e););return n?Ve(e,r?0:s,r?s+1:a):Ve(e,r?s+1:0,r?a:s)}function qo(e,t){var n=e;return n instanceof K&&(n=n.value()),ji(t,function(r,a){return a.func.apply(a.thisArg,Wt([r],a.args))},n)}function xu(e,t,n){var r=e.length;if(r<2)return r?Gt(e[0]):[];for(var a=-1,s=_(r);++a<r;)for(var l=e[a],d=-1;++d<r;)d!=a&&(s[a]=er(s[a]||l,e[d],t,n));return Gt(Ee(s,1),t,n)}function Xo(e,t,n){for(var r=-1,a=e.length,s=t.length,l={};++r<a;){var d=r<s?t[r]:i;n(l,e[r],d)}return l}function Ou(e){return se(e)?e:[]}function bu(e){return typeof e=="function"?e:Me}function Ht(e,t){return $(e)?e:Fu(e,t)?[e]:Af(J(e))}var jd=z;function zt(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:Ve(e,t,n)}var ko=$c||function(e){return we.clearTimeout(e)};function Jo(e,t){if(t)return e.slice();var n=e.length,r=_o?_o(n):new e.constructor(n);return e.copy(r),r}function Iu(e){var t=new e.constructor(e.byteLength);return new Wr(t).set(new Wr(e)),t}function eh(e,t){var n=t?Iu(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function th(e){var t=new e.constructor(e.source,La.exec(e));return t.lastIndex=e.lastIndex,t}function nh(e){return Vn?ee(Vn.call(e)):{}}function Qo(e,t){var n=t?Iu(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Vo(e,t){if(e!==t){var n=e!==i,r=e===null,a=e===e,s=Ge(e),l=t!==i,d=t===null,g=t===t,y=Ge(t);if(!d&&!y&&!s&&e>t||s&&l&&g&&!d&&!y||r&&l&&g||!n&&g||!a)return 1;if(!r&&!s&&!y&&e<t||y&&n&&a&&!r&&!s||d&&n&&a||!l&&a||!g)return-1}return 0}function rh(e,t,n){for(var r=-1,a=e.criteria,s=t.criteria,l=a.length,d=n.length;++r<l;){var g=Vo(a[r],s[r]);if(g){if(r>=d)return g;var y=n[r];return g*(y=="desc"?-1:1)}}return e.index-t.index}function jo(e,t,n,r){for(var a=-1,s=e.length,l=n.length,d=-1,g=t.length,y=ge(s-l,0),w=_(g+y),T=!r;++d<g;)w[d]=t[d];for(;++a<l;)(T||a<s)&&(w[n[a]]=e[a]);for(;y--;)w[d++]=e[a++];return w}function ef(e,t,n,r){for(var a=-1,s=e.length,l=-1,d=n.length,g=-1,y=t.length,w=ge(s-d,0),T=_(w+y),I=!r;++a<w;)T[a]=e[a];for(var C=a;++g<y;)T[C+g]=t[g];for(;++l<d;)(I||a<s)&&(T[C+n[l]]=e[a++]);return T}function Le(e,t){var n=-1,r=e.length;for(t||(t=_(r));++n<r;)t[n]=e[n];return t}function pt(e,t,n,r){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var d=t[s],g=r?r(n[d],e[d],d,n,e):i;g===i&&(g=e[d]),a?At(n,d,g):jn(n,d,g)}return n}function ih(e,t){return pt(e,Mu(e),t)}function uh(e,t){return pt(e,gf(e),t)}function Vr(e,t){return function(n,r){var a=$(n)?lc:bd,s=t?t():{};return a(n,e,N(r,2),s)}}function xn(e){return z(function(t,n){var r=-1,a=n.length,s=a>1?n[a-1]:i,l=a>2?n[2]:i;for(s=e.length>3&&typeof s=="function"?(a--,s):i,l&&Se(n[0],n[1],l)&&(s=a<3?i:s,a=1),t=ee(t);++r<a;){var d=n[r];d&&e(t,d,r,s)}return t})}function tf(e,t){return function(n,r){if(n==null)return n;if(!Ne(n))return e(n,r);for(var a=n.length,s=t?a:-1,l=ee(n);(t?s--:++s<a)&&r(l[s],s,l)!==!1;);return n}}function nf(e){return function(t,n,r){for(var a=-1,s=ee(t),l=r(t),d=l.length;d--;){var g=l[e?d:++a];if(n(s[g],g,s)===!1)break}return t}}function ah(e,t,n){var r=t&L,a=ir(e);function s(){var l=this&&this!==we&&this instanceof s?a:e;return l.apply(r?n:this,arguments)}return s}function rf(e){return function(t){t=J(t);var n=mn(t)?at(t):i,r=n?n[0]:t.charAt(0),a=n?zt(n,1).join(""):t.slice(1);return r[e]()+a}}function On(e){return function(t){return ji(ns(ts(t).replace(Jl,"")),e,"")}}function ir(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=An(e.prototype),r=e.apply(n,t);return ue(r)?r:n}}function oh(e,t,n){var r=ir(e);function a(){for(var s=arguments.length,l=_(s),d=s,g=bn(a);d--;)l[d]=arguments[d];var y=s<3&&l[0]!==g&&l[s-1]!==g?[]:Bt(l,g);if(s-=y.length,s<n)return sf(e,t,jr,a.placeholder,i,l,y,i,i,n-s);var w=this&&this!==we&&this instanceof a?r:e;return Be(w,this,l)}return a}function uf(e){return function(t,n,r){var a=ee(t);if(!Ne(t)){var s=N(n,3);t=_e(t),n=function(d){return s(a[d],d,a)}}var l=e(t,n,r);return l>-1?a[s?t[l]:l]:i}}function af(e){return Ot(function(t){var n=t.length,r=n,a=Je.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if(typeof s!="function")throw new ke(E);if(a&&!l&&ri(s)=="wrapper")var l=new Je([],!0)}for(r=l?r:n;++r<n;){s=t[r];var d=ri(s),g=d=="wrapper"?Nu(s):i;g&&Wu(g[0])&&g[1]==(fe|P|j|dt)&&!g[4].length&&g[9]==1?l=l[ri(g[0])].apply(l,g[3]):l=s.length==1&&Wu(s)?l[d]():l.thru(s)}return function(){var y=arguments,w=y[0];if(l&&y.length==1&&$(w))return l.plant(w).value();for(var T=0,I=n?t[T].apply(this,y):w;++T<n;)I=t[T].call(this,I);return I}})}function jr(e,t,n,r,a,s,l,d,g,y){var w=t&fe,T=t&L,I=t&B,C=t&(P|pe),M=t&ht,H=I?i:ir(e);function F(){for(var Y=arguments.length,X=_(Y),He=Y;He--;)X[He]=arguments[He];if(C)var Re=bn(F),ze=yc(X,Re);if(r&&(X=jo(X,r,a,C)),s&&(X=ef(X,s,l,C)),Y-=ze,C&&Y<y){var le=Bt(X,Re);return sf(e,t,jr,F.placeholder,n,X,le,d,g,y-Y)}var st=T?n:this,Rt=I?st[e]:e;return Y=X.length,d?X=bh(X,d):M&&Y>1&&X.reverse(),w&&g<Y&&(X.length=g),this&&this!==we&&this instanceof F&&(Rt=H||ir(Rt)),Rt.apply(st,X)}return F}function of(e,t){return function(n,r){return Md(n,e,t(r),{})}}function ei(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;typeof n=="string"||typeof r=="string"?(n=$e(n),r=$e(r)):(n=Yo(n),r=Yo(r)),a=e(n,r)}return a}}function Su(e){return Ot(function(t){return t=re(t,Ue(N())),z(function(n){var r=this;return e(t,function(a){return Be(a,r,n)})})})}function ti(e,t){t=t===i?" ":$e(t);var n=t.length;if(n<2)return n?Du(t,e):t;var r=Du(t,Gr(e/yn(t)));return mn(t)?zt(at(r),0,e).join(""):r.slice(0,e)}function fh(e,t,n,r){var a=t&L,s=ir(e);function l(){for(var d=-1,g=arguments.length,y=-1,w=r.length,T=_(w+g),I=this&&this!==we&&this instanceof l?s:e;++y<w;)T[y]=r[y];for(;g--;)T[y++]=arguments[++d];return Be(I,a?n:this,T)}return l}function ff(e){return function(t,n,r){return r&&typeof r!="number"&&Se(t,n,r)&&(n=r=i),t=St(t),n===i?(n=t,t=0):n=St(n),r=r===i?t<n?1:-1:St(r),qd(t,n,r,e)}}function ni(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=et(t),n=et(n)),e(t,n)}}function sf(e,t,n,r,a,s,l,d,g,y){var w=t&P,T=w?l:i,I=w?i:l,C=w?s:i,M=w?i:s;t|=w?j:de,t&=~(w?de:j),t&q||(t&=~(L|B));var H=[e,t,a,C,T,M,I,d,g,y],F=n.apply(i,H);return Wu(e)&&Ef(F,H),F.placeholder=r,Df(F,e,t)}function Ru(e){var t=he[e];return function(n,r){if(n=et(n),r=r==null?0:Ae(G(r),292),r&&Eo(n)){var a=(J(n)+"e").split("e"),s=t(a[0]+"e"+(+a[1]+r));return a=(J(s)+"e").split("e"),+(a[0]+"e"+(+a[1]-r))}return t(n)}}var sh=Dn&&1/Cr(new Dn([,-0]))[1]==yt?function(e){return new Dn(e)}:Vu;function lf(e){return function(t){var n=xe(t);return n==it?au(t):n==ut?Oc(t):mc(t,e(t))}}function xt(e,t,n,r,a,s,l,d){var g=t&B;if(!g&&typeof e!="function")throw new ke(E);var y=r?r.length:0;if(y||(t&=~(j|de),r=a=i),l=l===i?l:ge(G(l),0),d=d===i?d:G(d),y-=a?a.length:0,t&de){var w=r,T=a;r=a=i}var I=g?i:Nu(e),C=[e,t,n,r,a,w,T,s,l,d];if(I&&Ah(C,I),e=C[0],t=C[1],n=C[2],r=C[3],a=C[4],d=C[9]=C[9]===i?g?0:e.length:ge(C[9]-y,0),!d&&t&(P|pe)&&(t&=~(P|pe)),!t||t==L)var M=ah(e,t,n);else t==P||t==pe?M=oh(e,t,d):(t==j||t==(L|j))&&!a.length?M=fh(e,t,n,r):M=jr.apply(i,C);var H=I?zo:Ef;return Df(H(M,C),e,t)}function cf(e,t,n,r){return e===i||ft(e,En[n])&&!Q.call(r,n)?t:e}function df(e,t,n,r,a,s){return ue(e)&&ue(t)&&(s.set(t,e),kr(e,t,i,df,s),s.delete(t)),e}function lh(e){return or(e)?i:e}function hf(e,t,n,r,a,s){var l=n&Z,d=e.length,g=t.length;if(d!=g&&!(l&&g>d))return!1;var y=s.get(e),w=s.get(t);if(y&&w)return y==t&&w==e;var T=-1,I=!0,C=n&V?new en:i;for(s.set(e,t),s.set(t,e);++T<d;){var M=e[T],H=t[T];if(r)var F=l?r(H,M,T,t,e,s):r(M,H,T,e,t,s);if(F!==i){if(F)continue;I=!1;break}if(C){if(!eu(t,function(Y,X){if(!qn(C,X)&&(M===Y||a(M,Y,n,r,s)))return C.push(X)})){I=!1;break}}else if(!(M===H||a(M,H,n,r,s))){I=!1;break}}return s.delete(e),s.delete(t),I}function ch(e,t,n,r,a,s,l){switch(n){case vn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Kn:return!(e.byteLength!=t.byteLength||!s(new Wr(e),new Wr(t)));case $n:case Gn:case Hn:return ft(+e,+t);case Tr:return e.name==t.name&&e.message==t.message;case zn:case Zn:return e==t+"";case it:var d=au;case ut:var g=r&Z;if(d||(d=Cr),e.size!=t.size&&!g)return!1;var y=l.get(e);if(y)return y==t;r|=V,l.set(e,t);var w=hf(d(e),d(t),r,a,s,l);return l.delete(e),w;case xr:if(Vn)return Vn.call(e)==Vn.call(t)}return!1}function dh(e,t,n,r,a,s){var l=n&Z,d=Cu(e),g=d.length,y=Cu(t),w=y.length;if(g!=w&&!l)return!1;for(var T=g;T--;){var I=d[T];if(!(l?I in t:Q.call(t,I)))return!1}var C=s.get(e),M=s.get(t);if(C&&M)return C==t&&M==e;var H=!0;s.set(e,t),s.set(t,e);for(var F=l;++T<g;){I=d[T];var Y=e[I],X=t[I];if(r)var He=l?r(X,Y,I,t,e,s):r(Y,X,I,e,t,s);if(!(He===i?Y===X||a(Y,X,n,r,s):He)){H=!1;break}F||(F=I=="constructor")}if(H&&!F){var Re=e.constructor,ze=t.constructor;Re!=ze&&"constructor"in e&&"constructor"in t&&!(typeof Re=="function"&&Re instanceof Re&&typeof ze=="function"&&ze instanceof ze)&&(H=!1)}return s.delete(e),s.delete(t),H}function Ot(e){return Uu(yf(e,i,If),e+"")}function Cu(e){return Lo(e,_e,Mu)}function Lu(e){return Lo(e,Pe,gf)}var Nu=zr?function(e){return zr.get(e)}:Vu;function ri(e){for(var t=e.name+"",n=Tn[t],r=Q.call(Tn,t)?n.length:0;r--;){var a=n[r],s=a.func;if(s==null||s==e)return a.name}return t}function bn(e){var t=Q.call(o,"placeholder")?o:e;return t.placeholder}function N(){var e=o.iteratee||Ju;return e=e===Ju?Mo:e,arguments.length?e(arguments[0],arguments[1]):e}function ii(e,t){var n=e.__data__;return wh(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Pu(e){for(var t=_e(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,_f(a)]}return t}function rn(e,t){var n=Tc(e,t);return Po(n)?n:i}function hh(e){var t=Q.call(e,Vt),n=e[Vt];try{e[Vt]=i;var r=!0}catch{}var a=Mr.call(e);return r&&(t?e[Vt]=n:delete e[Vt]),a}var Mu=fu?function(e){return e==null?[]:(e=ee(e),Ft(fu(e),function(t){return yo.call(e,t)}))}:ju,gf=fu?function(e){for(var t=[];e;)Wt(t,Mu(e)),e=Br(e);return t}:ju,xe=Ie;(su&&xe(new su(new ArrayBuffer(1)))!=vn||kn&&xe(new kn)!=it||lu&&xe(lu.resolve())!=Ia||Dn&&xe(new Dn)!=ut||Jn&&xe(new Jn)!=Yn)&&(xe=function(e){var t=Ie(e),n=t==Et?e.constructor:i,r=n?un(n):"";if(r)switch(r){case kc:return vn;case Jc:return it;case Qc:return Ia;case Vc:return ut;case jc:return Yn}return t});function gh(e,t,n){for(var r=-1,a=n.length;++r<a;){var s=n[r],l=s.size;switch(s.type){case"drop":e+=l;break;case"dropRight":t-=l;break;case"take":t=Ae(t,e+l);break;case"takeRight":e=ge(e,t-l);break}}return{start:e,end:t}}function vh(e){var t=e.match(El);return t?t[1].split(Dl):[]}function vf(e,t,n){t=Ht(t,e);for(var r=-1,a=t.length,s=!1;++r<a;){var l=_t(t[r]);if(!(s=e!=null&&n(e,l)))break;e=e[l]}return s||++r!=a?s:(a=e==null?0:e.length,!!a&&ci(a)&&bt(l,a)&&($(e)||an(e)))}function ph(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Q.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function pf(e){return typeof e.constructor=="function"&&!ur(e)?An(Br(e)):{}}function _h(e,t,n){var r=e.constructor;switch(t){case Kn:return Iu(e);case $n:case Gn:return new r(+e);case vn:return eh(e,n);case Pi:case Mi:case Fi:case Wi:case Bi:case Ui:case $i:case Gi:case Hi:return Qo(e,n);case it:return new r;case Hn:case Zn:return new r(e);case zn:return th(e);case ut:return new r;case xr:return nh(e)}}function mh(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(wl,`{
/* [wrapped with `+t+`] */
`)}function yh(e){return $(e)||an(e)||!!(wo&&e&&e[wo])}function bt(e,t){var n=typeof e;return t=t??gt,!!t&&(n=="number"||n!="symbol"&&Cl.test(e))&&e>-1&&e%1==0&&e<t}function Se(e,t,n){if(!ue(n))return!1;var r=typeof t;return(r=="number"?Ne(n)&&bt(t,n.length):r=="string"&&t in n)?ft(n[t],e):!1}function Fu(e,t){if($(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Ge(e)?!0:pl.test(e)||!vl.test(e)||t!=null&&e in ee(t)}function wh(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Wu(e){var t=ri(e),n=o[t];if(typeof n!="function"||!(t in K.prototype))return!1;if(e===n)return!0;var r=Nu(n);return!!r&&e===r[0]}function Eh(e){return!!po&&po in e}var Dh=Nr?It:ea;function ur(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||En;return e===n}function _f(e){return e===e&&!ue(e)}function mf(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==i||e in ee(n))}}function Th(e){var t=si(e,function(r){return n.size===R&&n.clear(),r}),n=t.cache;return t}function Ah(e,t){var n=e[1],r=t[1],a=n|r,s=a<(L|B|fe),l=r==fe&&n==P||r==fe&&n==dt&&e[7].length<=t[8]||r==(fe|dt)&&t[7].length<=t[8]&&n==P;if(!(s||l))return e;r&L&&(e[2]=t[2],a|=n&L?0:q);var d=t[3];if(d){var g=e[3];e[3]=g?jo(g,d,t[4]):d,e[4]=g?Bt(e[3],D):t[4]}return d=t[5],d&&(g=e[5],e[5]=g?ef(g,d,t[6]):d,e[6]=g?Bt(e[5],D):t[6]),d=t[7],d&&(e[7]=d),r&fe&&(e[8]=e[8]==null?t[8]:Ae(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=a,e}function xh(e){var t=[];if(e!=null)for(var n in ee(e))t.push(n);return t}function Oh(e){return Mr.call(e)}function yf(e,t,n){return t=ge(t===i?e.length-1:t,0),function(){for(var r=arguments,a=-1,s=ge(r.length-t,0),l=_(s);++a<s;)l[a]=r[t+a];a=-1;for(var d=_(t+1);++a<t;)d[a]=r[a];return d[t]=n(l),Be(e,this,d)}}function wf(e,t){return t.length<2?e:nn(e,Ve(t,0,-1))}function bh(e,t){for(var n=e.length,r=Ae(t.length,n),a=Le(e);r--;){var s=t[r];e[r]=bt(s,n)?a[s]:i}return e}function Bu(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Ef=Tf(zo),ar=Hc||function(e,t){return we.setTimeout(e,t)},Uu=Tf(Jd);function Df(e,t,n){var r=t+"";return Uu(e,mh(r,Ih(vh(r),n)))}function Tf(e){var t=0,n=0;return function(){var r=Kc(),a=Er-(r-n);if(n=r,a>0){if(++t>=Pt)return arguments[0]}else t=0;return e.apply(i,arguments)}}function ui(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var s=Eu(n,a),l=e[s];e[s]=e[n],e[n]=l}return e.length=t,e}var Af=Th(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(_l,function(n,r,a,s){t.push(a?s.replace(xl,"$1"):r||n)}),t});function _t(e){if(typeof e=="string"||Ge(e))return e;var t=e+"";return t=="0"&&1/e==-yt?"-0":t}function un(e){if(e!=null){try{return Pr.call(e)}catch{}try{return e+""}catch{}}return""}function Ih(e,t){return Xe(tl,function(n){var r="_."+n[0];t&n[1]&&!Sr(e,r)&&e.push(r)}),e.sort()}function xf(e){if(e instanceof K)return e.clone();var t=new Je(e.__wrapped__,e.__chain__);return t.__actions__=Le(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Sh(e,t,n){(n?Se(e,t,n):t===i)?t=1:t=ge(G(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var a=0,s=0,l=_(Gr(r/t));a<r;)l[s++]=Ve(e,a,a+=t);return l}function Rh(e){for(var t=-1,n=e==null?0:e.length,r=0,a=[];++t<n;){var s=e[t];s&&(a[r++]=s)}return a}function Ch(){var e=arguments.length;if(!e)return[];for(var t=_(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Wt($(n)?Le(n):[n],Ee(t,1))}var Lh=z(function(e,t){return se(e)?er(e,Ee(t,1,se,!0)):[]}),Nh=z(function(e,t){var n=je(t);return se(n)&&(n=i),se(e)?er(e,Ee(t,1,se,!0),N(n,2)):[]}),Ph=z(function(e,t){var n=je(t);return se(n)&&(n=i),se(e)?er(e,Ee(t,1,se,!0),i,n):[]});function Mh(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:G(t),Ve(e,t<0?0:t,r)):[]}function Fh(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:G(t),t=r-t,Ve(e,0,t<0?0:t)):[]}function Wh(e,t){return e&&e.length?Qr(e,N(t,3),!0,!0):[]}function Bh(e,t){return e&&e.length?Qr(e,N(t,3),!0):[]}function Uh(e,t,n,r){var a=e==null?0:e.length;return a?(n&&typeof n!="number"&&Se(e,t,n)&&(n=0,r=a),Cd(e,t,n,r)):[]}function Of(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:G(n);return a<0&&(a=ge(r+a,0)),Rr(e,N(t,3),a)}function bf(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=G(n),a=n<0?ge(r+a,0):Ae(a,r-1)),Rr(e,N(t,3),a,!0)}function If(e){var t=e==null?0:e.length;return t?Ee(e,1):[]}function $h(e){var t=e==null?0:e.length;return t?Ee(e,yt):[]}function Gh(e,t){var n=e==null?0:e.length;return n?(t=t===i?1:G(t),Ee(e,t)):[]}function Hh(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r}function Sf(e){return e&&e.length?e[0]:i}function zh(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:G(n);return a<0&&(a=ge(r+a,0)),_n(e,t,a)}function Zh(e){var t=e==null?0:e.length;return t?Ve(e,0,-1):[]}var Yh=z(function(e){var t=re(e,Ou);return t.length&&t[0]===e[0]?pu(t):[]}),Kh=z(function(e){var t=je(e),n=re(e,Ou);return t===je(n)?t=i:n.pop(),n.length&&n[0]===e[0]?pu(n,N(t,2)):[]}),qh=z(function(e){var t=je(e),n=re(e,Ou);return t=typeof t=="function"?t:i,t&&n.pop(),n.length&&n[0]===e[0]?pu(n,i,t):[]});function Xh(e,t){return e==null?"":Zc.call(e,t)}function je(e){var t=e==null?0:e.length;return t?e[t-1]:i}function kh(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=G(n),a=a<0?ge(r+a,0):Ae(a,r-1)),t===t?Ic(e,t,a):Rr(e,oo,a,!0)}function Jh(e,t){return e&&e.length?Uo(e,G(t)):i}var Qh=z(Rf);function Rf(e,t){return e&&e.length&&t&&t.length?wu(e,t):e}function Vh(e,t,n){return e&&e.length&&t&&t.length?wu(e,t,N(n,2)):e}function jh(e,t,n){return e&&e.length&&t&&t.length?wu(e,t,i,n):e}var eg=Ot(function(e,t){var n=e==null?0:e.length,r=du(e,t);return Ho(e,re(t,function(a){return bt(a,n)?+a:a}).sort(Vo)),r});function tg(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,a=[],s=e.length;for(t=N(t,3);++r<s;){var l=e[r];t(l,r,e)&&(n.push(l),a.push(r))}return Ho(e,a),n}function $u(e){return e==null?e:Xc.call(e)}function ng(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&Se(e,t,n)?(t=0,n=r):(t=t==null?0:G(t),n=n===i?r:G(n)),Ve(e,t,n)):[]}function rg(e,t){return Jr(e,t)}function ig(e,t,n){return Tu(e,t,N(n,2))}function ug(e,t){var n=e==null?0:e.length;if(n){var r=Jr(e,t);if(r<n&&ft(e[r],t))return r}return-1}function ag(e,t){return Jr(e,t,!0)}function og(e,t,n){return Tu(e,t,N(n,2),!0)}function fg(e,t){var n=e==null?0:e.length;if(n){var r=Jr(e,t,!0)-1;if(ft(e[r],t))return r}return-1}function sg(e){return e&&e.length?Zo(e):[]}function lg(e,t){return e&&e.length?Zo(e,N(t,2)):[]}function cg(e){var t=e==null?0:e.length;return t?Ve(e,1,t):[]}function dg(e,t,n){return e&&e.length?(t=n||t===i?1:G(t),Ve(e,0,t<0?0:t)):[]}function hg(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:G(t),t=r-t,Ve(e,t<0?0:t,r)):[]}function gg(e,t){return e&&e.length?Qr(e,N(t,3),!1,!0):[]}function vg(e,t){return e&&e.length?Qr(e,N(t,3)):[]}var pg=z(function(e){return Gt(Ee(e,1,se,!0))}),_g=z(function(e){var t=je(e);return se(t)&&(t=i),Gt(Ee(e,1,se,!0),N(t,2))}),mg=z(function(e){var t=je(e);return t=typeof t=="function"?t:i,Gt(Ee(e,1,se,!0),i,t)});function yg(e){return e&&e.length?Gt(e):[]}function wg(e,t){return e&&e.length?Gt(e,N(t,2)):[]}function Eg(e,t){return t=typeof t=="function"?t:i,e&&e.length?Gt(e,i,t):[]}function Gu(e){if(!(e&&e.length))return[];var t=0;return e=Ft(e,function(n){if(se(n))return t=ge(n.length,t),!0}),iu(t,function(n){return re(e,tu(n))})}function Cf(e,t){if(!(e&&e.length))return[];var n=Gu(e);return t==null?n:re(n,function(r){return Be(t,i,r)})}var Dg=z(function(e,t){return se(e)?er(e,t):[]}),Tg=z(function(e){return xu(Ft(e,se))}),Ag=z(function(e){var t=je(e);return se(t)&&(t=i),xu(Ft(e,se),N(t,2))}),xg=z(function(e){var t=je(e);return t=typeof t=="function"?t:i,xu(Ft(e,se),i,t)}),Og=z(Gu);function bg(e,t){return Xo(e||[],t||[],jn)}function Ig(e,t){return Xo(e||[],t||[],rr)}var Sg=z(function(e){var t=e.length,n=t>1?e[t-1]:i;return n=typeof n=="function"?(e.pop(),n):i,Cf(e,n)});function Lf(e){var t=o(e);return t.__chain__=!0,t}function Rg(e,t){return t(e),e}function ai(e,t){return t(e)}var Cg=Ot(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(s){return du(s,e)};return t>1||this.__actions__.length||!(r instanceof K)||!bt(n)?this.thru(a):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:ai,args:[a],thisArg:i}),new Je(r,this.__chain__).thru(function(s){return t&&!s.length&&s.push(i),s}))});function Lg(){return Lf(this)}function Ng(){return new Je(this.value(),this.__chain__)}function Pg(){this.__values__===i&&(this.__values__=Kf(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function Mg(){return this}function Fg(e){for(var t,n=this;n instanceof Yr;){var r=xf(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t}function Wg(){var e=this.__wrapped__;if(e instanceof K){var t=e;return this.__actions__.length&&(t=new K(this)),t=t.reverse(),t.__actions__.push({func:ai,args:[$u],thisArg:i}),new Je(t,this.__chain__)}return this.thru($u)}function Bg(){return qo(this.__wrapped__,this.__actions__)}var Ug=Vr(function(e,t,n){Q.call(e,n)?++e[n]:At(e,n,1)});function $g(e,t,n){var r=$(e)?uo:Rd;return n&&Se(e,t,n)&&(t=i),r(e,N(t,3))}function Gg(e,t){var n=$(e)?Ft:Ro;return n(e,N(t,3))}var Hg=uf(Of),zg=uf(bf);function Zg(e,t){return Ee(oi(e,t),1)}function Yg(e,t){return Ee(oi(e,t),yt)}function Kg(e,t,n){return n=n===i?1:G(n),Ee(oi(e,t),n)}function Nf(e,t){var n=$(e)?Xe:$t;return n(e,N(t,3))}function Pf(e,t){var n=$(e)?cc:So;return n(e,N(t,3))}var qg=Vr(function(e,t,n){Q.call(e,n)?e[n].push(t):At(e,n,[t])});function Xg(e,t,n,r){e=Ne(e)?e:Sn(e),n=n&&!r?G(n):0;var a=e.length;return n<0&&(n=ge(a+n,0)),di(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&_n(e,t,n)>-1}var kg=z(function(e,t,n){var r=-1,a=typeof t=="function",s=Ne(e)?_(e.length):[];return $t(e,function(l){s[++r]=a?Be(t,l,n):tr(l,t,n)}),s}),Jg=Vr(function(e,t,n){At(e,n,t)});function oi(e,t){var n=$(e)?re:Fo;return n(e,N(t,3))}function Qg(e,t,n,r){return e==null?[]:($(t)||(t=t==null?[]:[t]),n=r?i:n,$(n)||(n=n==null?[]:[n]),$o(e,t,n))}var Vg=Vr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function jg(e,t,n){var r=$(e)?ji:so,a=arguments.length<3;return r(e,N(t,4),n,a,$t)}function ev(e,t,n){var r=$(e)?dc:so,a=arguments.length<3;return r(e,N(t,4),n,a,So)}function tv(e,t){var n=$(e)?Ft:Ro;return n(e,li(N(t,3)))}function nv(e){var t=$(e)?xo:Xd;return t(e)}function rv(e,t,n){(n?Se(e,t,n):t===i)?t=1:t=G(t);var r=$(e)?xd:kd;return r(e,t)}function iv(e){var t=$(e)?Od:Qd;return t(e)}function uv(e){if(e==null)return 0;if(Ne(e))return di(e)?yn(e):e.length;var t=xe(e);return t==it||t==ut?e.size:mu(e).length}function av(e,t,n){var r=$(e)?eu:Vd;return n&&Se(e,t,n)&&(t=i),r(e,N(t,3))}var ov=z(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Se(e,t[0],t[1])?t=[]:n>2&&Se(t[0],t[1],t[2])&&(t=[t[0]]),$o(e,Ee(t,1),[])}),fi=Gc||function(){return we.Date.now()};function fv(e,t){if(typeof t!="function")throw new ke(E);return e=G(e),function(){if(--e<1)return t.apply(this,arguments)}}function Mf(e,t,n){return t=n?i:t,t=e&&t==null?e.length:t,xt(e,fe,i,i,i,i,t)}function Ff(e,t){var n;if(typeof t!="function")throw new ke(E);return e=G(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Hu=z(function(e,t,n){var r=L;if(n.length){var a=Bt(n,bn(Hu));r|=j}return xt(e,r,t,n,a)}),Wf=z(function(e,t,n){var r=L|B;if(n.length){var a=Bt(n,bn(Wf));r|=j}return xt(t,r,e,n,a)});function Bf(e,t,n){t=n?i:t;var r=xt(e,P,i,i,i,i,i,t);return r.placeholder=Bf.placeholder,r}function Uf(e,t,n){t=n?i:t;var r=xt(e,pe,i,i,i,i,i,t);return r.placeholder=Uf.placeholder,r}function $f(e,t,n){var r,a,s,l,d,g,y=0,w=!1,T=!1,I=!0;if(typeof e!="function")throw new ke(E);t=et(t)||0,ue(n)&&(w=!!n.leading,T="maxWait"in n,s=T?ge(et(n.maxWait)||0,t):s,I="trailing"in n?!!n.trailing:I);function C(le){var st=r,Rt=a;return r=a=i,y=le,l=e.apply(Rt,st),l}function M(le){return y=le,d=ar(Y,t),w?C(le):l}function H(le){var st=le-g,Rt=le-y,us=t-st;return T?Ae(us,s-Rt):us}function F(le){var st=le-g,Rt=le-y;return g===i||st>=t||st<0||T&&Rt>=s}function Y(){var le=fi();if(F(le))return X(le);d=ar(Y,H(le))}function X(le){return d=i,I&&r?C(le):(r=a=i,l)}function He(){d!==i&&ko(d),y=0,r=g=a=d=i}function Re(){return d===i?l:X(fi())}function ze(){var le=fi(),st=F(le);if(r=arguments,a=this,g=le,st){if(d===i)return M(g);if(T)return ko(d),d=ar(Y,t),C(g)}return d===i&&(d=ar(Y,t)),l}return ze.cancel=He,ze.flush=Re,ze}var sv=z(function(e,t){return Io(e,1,t)}),lv=z(function(e,t,n){return Io(e,et(t)||0,n)});function cv(e){return xt(e,ht)}function si(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new ke(E);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],s=n.cache;if(s.has(a))return s.get(a);var l=e.apply(this,r);return n.cache=s.set(a,l)||s,l};return n.cache=new(si.Cache||Tt),n}si.Cache=Tt;function li(e){if(typeof e!="function")throw new ke(E);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function dv(e){return Ff(2,e)}var hv=jd(function(e,t){t=t.length==1&&$(t[0])?re(t[0],Ue(N())):re(Ee(t,1),Ue(N()));var n=t.length;return z(function(r){for(var a=-1,s=Ae(r.length,n);++a<s;)r[a]=t[a].call(this,r[a]);return Be(e,this,r)})}),zu=z(function(e,t){var n=Bt(t,bn(zu));return xt(e,j,i,t,n)}),Gf=z(function(e,t){var n=Bt(t,bn(Gf));return xt(e,de,i,t,n)}),gv=Ot(function(e,t){return xt(e,dt,i,i,i,t)});function vv(e,t){if(typeof e!="function")throw new ke(E);return t=t===i?t:G(t),z(e,t)}function pv(e,t){if(typeof e!="function")throw new ke(E);return t=t==null?0:ge(G(t),0),z(function(n){var r=n[t],a=zt(n,0,t);return r&&Wt(a,r),Be(e,this,a)})}function _v(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new ke(E);return ue(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),$f(e,t,{leading:r,maxWait:t,trailing:a})}function mv(e){return Mf(e,1)}function yv(e,t){return zu(bu(t),e)}function wv(){if(!arguments.length)return[];var e=arguments[0];return $(e)?e:[e]}function Ev(e){return Qe(e,W)}function Dv(e,t){return t=typeof t=="function"?t:i,Qe(e,W,t)}function Tv(e){return Qe(e,x|W)}function Av(e,t){return t=typeof t=="function"?t:i,Qe(e,x|W,t)}function xv(e,t){return t==null||bo(e,t,_e(t))}function ft(e,t){return e===t||e!==e&&t!==t}var Ov=ni(vu),bv=ni(function(e,t){return e>=t}),an=No(function(){return arguments}())?No:function(e){return oe(e)&&Q.call(e,"callee")&&!yo.call(e,"callee")},$=_.isArray,Iv=ja?Ue(ja):Fd;function Ne(e){return e!=null&&ci(e.length)&&!It(e)}function se(e){return oe(e)&&Ne(e)}function Sv(e){return e===!0||e===!1||oe(e)&&Ie(e)==$n}var Zt=zc||ea,Rv=eo?Ue(eo):Wd;function Cv(e){return oe(e)&&e.nodeType===1&&!or(e)}function Lv(e){if(e==null)return!0;if(Ne(e)&&($(e)||typeof e=="string"||typeof e.splice=="function"||Zt(e)||In(e)||an(e)))return!e.length;var t=xe(e);if(t==it||t==ut)return!e.size;if(ur(e))return!mu(e).length;for(var n in e)if(Q.call(e,n))return!1;return!0}function Nv(e,t){return nr(e,t)}function Pv(e,t,n){n=typeof n=="function"?n:i;var r=n?n(e,t):i;return r===i?nr(e,t,i,n):!!r}function Zu(e){if(!oe(e))return!1;var t=Ie(e);return t==Tr||t==rl||typeof e.message=="string"&&typeof e.name=="string"&&!or(e)}function Mv(e){return typeof e=="number"&&Eo(e)}function It(e){if(!ue(e))return!1;var t=Ie(e);return t==Ar||t==ba||t==nl||t==ul}function Hf(e){return typeof e=="number"&&e==G(e)}function ci(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=gt}function ue(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function oe(e){return e!=null&&typeof e=="object"}var zf=to?Ue(to):Ud;function Fv(e,t){return e===t||_u(e,t,Pu(t))}function Wv(e,t,n){return n=typeof n=="function"?n:i,_u(e,t,Pu(t),n)}function Bv(e){return Zf(e)&&e!=+e}function Uv(e){if(Dh(e))throw new U(p);return Po(e)}function $v(e){return e===null}function Gv(e){return e==null}function Zf(e){return typeof e=="number"||oe(e)&&Ie(e)==Hn}function or(e){if(!oe(e)||Ie(e)!=Et)return!1;var t=Br(e);if(t===null)return!0;var n=Q.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Pr.call(n)==Wc}var Yu=no?Ue(no):$d;function Hv(e){return Hf(e)&&e>=-gt&&e<=gt}var Yf=ro?Ue(ro):Gd;function di(e){return typeof e=="string"||!$(e)&&oe(e)&&Ie(e)==Zn}function Ge(e){return typeof e=="symbol"||oe(e)&&Ie(e)==xr}var In=io?Ue(io):Hd;function zv(e){return e===i}function Zv(e){return oe(e)&&xe(e)==Yn}function Yv(e){return oe(e)&&Ie(e)==ol}var Kv=ni(yu),qv=ni(function(e,t){return e<=t});function Kf(e){if(!e)return[];if(Ne(e))return di(e)?at(e):Le(e);if(Xn&&e[Xn])return xc(e[Xn]());var t=xe(e),n=t==it?au:t==ut?Cr:Sn;return n(e)}function St(e){if(!e)return e===0?e:0;if(e=et(e),e===yt||e===-yt){var t=e<0?-1:1;return t*Un}return e===e?e:0}function G(e){var t=St(e),n=t%1;return t===t?n?t-n:t:0}function qf(e){return e?tn(G(e),0,ae):0}function et(e){if(typeof e=="number")return e;if(Ge(e))return hn;if(ue(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ue(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=lo(e);var n=Il.test(e);return n||Rl.test(e)?fc(e.slice(2),n?2:8):bl.test(e)?hn:+e}function Xf(e){return pt(e,Pe(e))}function Xv(e){return e?tn(G(e),-gt,gt):e===0?e:0}function J(e){return e==null?"":$e(e)}var kv=xn(function(e,t){if(ur(t)||Ne(t)){pt(t,_e(t),e);return}for(var n in t)Q.call(t,n)&&jn(e,n,t[n])}),kf=xn(function(e,t){pt(t,Pe(t),e)}),hi=xn(function(e,t,n,r){pt(t,Pe(t),e,r)}),Jv=xn(function(e,t,n,r){pt(t,_e(t),e,r)}),Qv=Ot(du);function Vv(e,t){var n=An(e);return t==null?n:Oo(n,t)}var jv=z(function(e,t){e=ee(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&Se(t[0],t[1],a)&&(r=1);++n<r;)for(var s=t[n],l=Pe(s),d=-1,g=l.length;++d<g;){var y=l[d],w=e[y];(w===i||ft(w,En[y])&&!Q.call(e,y))&&(e[y]=s[y])}return e}),ep=z(function(e){return e.push(i,df),Be(Jf,i,e)});function tp(e,t){return ao(e,N(t,3),vt)}function np(e,t){return ao(e,N(t,3),gu)}function rp(e,t){return e==null?e:hu(e,N(t,3),Pe)}function ip(e,t){return e==null?e:Co(e,N(t,3),Pe)}function up(e,t){return e&&vt(e,N(t,3))}function ap(e,t){return e&&gu(e,N(t,3))}function op(e){return e==null?[]:Xr(e,_e(e))}function fp(e){return e==null?[]:Xr(e,Pe(e))}function Ku(e,t,n){var r=e==null?i:nn(e,t);return r===i?n:r}function sp(e,t){return e!=null&&vf(e,t,Ld)}function qu(e,t){return e!=null&&vf(e,t,Nd)}var lp=of(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Mr.call(t)),e[t]=n},ku(Me)),cp=of(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Mr.call(t)),Q.call(e,t)?e[t].push(n):e[t]=[n]},N),dp=z(tr);function _e(e){return Ne(e)?Ao(e):mu(e)}function Pe(e){return Ne(e)?Ao(e,!0):zd(e)}function hp(e,t){var n={};return t=N(t,3),vt(e,function(r,a,s){At(n,t(r,a,s),r)}),n}function gp(e,t){var n={};return t=N(t,3),vt(e,function(r,a,s){At(n,a,t(r,a,s))}),n}var vp=xn(function(e,t,n){kr(e,t,n)}),Jf=xn(function(e,t,n,r){kr(e,t,n,r)}),pp=Ot(function(e,t){var n={};if(e==null)return n;var r=!1;t=re(t,function(s){return s=Ht(s,e),r||(r=s.length>1),s}),pt(e,Lu(e),n),r&&(n=Qe(n,x|b|W,lh));for(var a=t.length;a--;)Au(n,t[a]);return n});function _p(e,t){return Qf(e,li(N(t)))}var mp=Ot(function(e,t){return e==null?{}:Yd(e,t)});function Qf(e,t){if(e==null)return{};var n=re(Lu(e),function(r){return[r]});return t=N(t),Go(e,n,function(r,a){return t(r,a[0])})}function yp(e,t,n){t=Ht(t,e);var r=-1,a=t.length;for(a||(a=1,e=i);++r<a;){var s=e==null?i:e[_t(t[r])];s===i&&(r=a,s=n),e=It(s)?s.call(e):s}return e}function wp(e,t,n){return e==null?e:rr(e,t,n)}function Ep(e,t,n,r){return r=typeof r=="function"?r:i,e==null?e:rr(e,t,n,r)}var Vf=lf(_e),jf=lf(Pe);function Dp(e,t,n){var r=$(e),a=r||Zt(e)||In(e);if(t=N(t,4),n==null){var s=e&&e.constructor;a?n=r?new s:[]:ue(e)?n=It(s)?An(Br(e)):{}:n={}}return(a?Xe:vt)(e,function(l,d,g){return t(n,l,d,g)}),n}function Tp(e,t){return e==null?!0:Au(e,t)}function Ap(e,t,n){return e==null?e:Ko(e,t,bu(n))}function xp(e,t,n,r){return r=typeof r=="function"?r:i,e==null?e:Ko(e,t,bu(n),r)}function Sn(e){return e==null?[]:uu(e,_e(e))}function Op(e){return e==null?[]:uu(e,Pe(e))}function bp(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=et(n),n=n===n?n:0),t!==i&&(t=et(t),t=t===t?t:0),tn(et(e),t,n)}function Ip(e,t,n){return t=St(t),n===i?(n=t,t=0):n=St(n),e=et(e),Pd(e,t,n)}function Sp(e,t,n){if(n&&typeof n!="boolean"&&Se(e,t,n)&&(t=n=i),n===i&&(typeof t=="boolean"?(n=t,t=i):typeof e=="boolean"&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=St(e),t===i?(t=e,e=0):t=St(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=Do();return Ae(e+a*(t-e+oc("1e-"+((a+"").length-1))),t)}return Eu(e,t)}var Rp=On(function(e,t,n){return t=t.toLowerCase(),e+(n?es(t):t)});function es(e){return Xu(J(e).toLowerCase())}function ts(e){return e=J(e),e&&e.replace(Ll,wc).replace(Ql,"")}function Cp(e,t,n){e=J(e),t=$e(t);var r=e.length;n=n===i?r:tn(G(n),0,r);var a=n;return n-=t.length,n>=0&&e.slice(n,a)==t}function Lp(e){return e=J(e),e&&dl.test(e)?e.replace(Ra,Ec):e}function Np(e){return e=J(e),e&&ml.test(e)?e.replace(zi,"\\$&"):e}var Pp=On(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Mp=On(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Fp=rf("toLowerCase");function Wp(e,t,n){e=J(e),t=G(t);var r=t?yn(e):0;if(!t||r>=t)return e;var a=(t-r)/2;return ti(Hr(a),n)+e+ti(Gr(a),n)}function Bp(e,t,n){e=J(e),t=G(t);var r=t?yn(e):0;return t&&r<t?e+ti(t-r,n):e}function Up(e,t,n){e=J(e),t=G(t);var r=t?yn(e):0;return t&&r<t?ti(t-r,n)+e:e}function $p(e,t,n){return n||t==null?t=0:t&&(t=+t),qc(J(e).replace(Zi,""),t||0)}function Gp(e,t,n){return(n?Se(e,t,n):t===i)?t=1:t=G(t),Du(J(e),t)}function Hp(){var e=arguments,t=J(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var zp=On(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function Zp(e,t,n){return n&&typeof n!="number"&&Se(e,t,n)&&(t=n=i),n=n===i?ae:n>>>0,n?(e=J(e),e&&(typeof t=="string"||t!=null&&!Yu(t))&&(t=$e(t),!t&&mn(e))?zt(at(e),0,n):e.split(t,n)):[]}var Yp=On(function(e,t,n){return e+(n?" ":"")+Xu(t)});function Kp(e,t,n){return e=J(e),n=n==null?0:tn(G(n),0,e.length),t=$e(t),e.slice(n,n+t.length)==t}function qp(e,t,n){var r=o.templateSettings;n&&Se(e,t,n)&&(t=i),e=J(e),t=hi({},t,r,cf);var a=hi({},t.imports,r.imports,cf),s=_e(a),l=uu(a,s),d,g,y=0,w=t.interpolate||Or,T="__p += '",I=ou((t.escape||Or).source+"|"+w.source+"|"+(w===Ca?Ol:Or).source+"|"+(t.evaluate||Or).source+"|$","g"),C="//# sourceURL="+(Q.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nc+"]")+`
`;e.replace(I,function(F,Y,X,He,Re,ze){return X||(X=He),T+=e.slice(y,ze).replace(Nl,Dc),Y&&(d=!0,T+=`' +
__e(`+Y+`) +
'`),Re&&(g=!0,T+=`';
`+Re+`;
__p += '`),X&&(T+=`' +
((__t = (`+X+`)) == null ? '' : __t) +
'`),y=ze+F.length,F}),T+=`';
`;var M=Q.call(t,"variable")&&t.variable;if(!M)T=`with (obj) {
`+T+`
}
`;else if(Al.test(M))throw new U(A);T=(g?T.replace(fl,""):T).replace(sl,"$1").replace(ll,"$1;"),T="function("+(M||"obj")+`) {
`+(M?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(d?", __e = _.escape":"")+(g?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+T+`return __p
}`;var H=rs(function(){return k(s,C+"return "+T).apply(i,l)});if(H.source=T,Zu(H))throw H;return H}function Xp(e){return J(e).toLowerCase()}function kp(e){return J(e).toUpperCase()}function Jp(e,t,n){if(e=J(e),e&&(n||t===i))return lo(e);if(!e||!(t=$e(t)))return e;var r=at(e),a=at(t),s=co(r,a),l=ho(r,a)+1;return zt(r,s,l).join("")}function Qp(e,t,n){if(e=J(e),e&&(n||t===i))return e.slice(0,vo(e)+1);if(!e||!(t=$e(t)))return e;var r=at(e),a=ho(r,at(t))+1;return zt(r,0,a).join("")}function Vp(e,t,n){if(e=J(e),e&&(n||t===i))return e.replace(Zi,"");if(!e||!(t=$e(t)))return e;var r=at(e),a=co(r,at(t));return zt(r,a).join("")}function jp(e,t){var n=Lt,r=Nt;if(ue(t)){var a="separator"in t?t.separator:a;n="length"in t?G(t.length):n,r="omission"in t?$e(t.omission):r}e=J(e);var s=e.length;if(mn(e)){var l=at(e);s=l.length}if(n>=s)return e;var d=n-yn(r);if(d<1)return r;var g=l?zt(l,0,d).join(""):e.slice(0,d);if(a===i)return g+r;if(l&&(d+=g.length-d),Yu(a)){if(e.slice(d).search(a)){var y,w=g;for(a.global||(a=ou(a.source,J(La.exec(a))+"g")),a.lastIndex=0;y=a.exec(w);)var T=y.index;g=g.slice(0,T===i?d:T)}}else if(e.indexOf($e(a),d)!=d){var I=g.lastIndexOf(a);I>-1&&(g=g.slice(0,I))}return g+r}function e_(e){return e=J(e),e&&cl.test(e)?e.replace(Sa,Sc):e}var t_=On(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Xu=rf("toUpperCase");function ns(e,t,n){return e=J(e),t=n?i:t,t===i?Ac(e)?Lc(e):vc(e):e.match(t)||[]}var rs=z(function(e,t){try{return Be(e,i,t)}catch(n){return Zu(n)?n:new U(n)}}),n_=Ot(function(e,t){return Xe(t,function(n){n=_t(n),At(e,n,Hu(e[n],e))}),e});function r_(e){var t=e==null?0:e.length,n=N();return e=t?re(e,function(r){if(typeof r[1]!="function")throw new ke(E);return[n(r[0]),r[1]]}):[],z(function(r){for(var a=-1;++a<t;){var s=e[a];if(Be(s[0],this,r))return Be(s[1],this,r)}})}function i_(e){return Sd(Qe(e,x))}function ku(e){return function(){return e}}function u_(e,t){return e==null||e!==e?t:e}var a_=af(),o_=af(!0);function Me(e){return e}function Ju(e){return Mo(typeof e=="function"?e:Qe(e,x))}function f_(e){return Wo(Qe(e,x))}function s_(e,t){return Bo(e,Qe(t,x))}var l_=z(function(e,t){return function(n){return tr(n,e,t)}}),c_=z(function(e,t){return function(n){return tr(e,n,t)}});function Qu(e,t,n){var r=_e(t),a=Xr(t,r);n==null&&!(ue(t)&&(a.length||!r.length))&&(n=t,t=e,e=this,a=Xr(t,_e(t)));var s=!(ue(n)&&"chain"in n)||!!n.chain,l=It(e);return Xe(a,function(d){var g=t[d];e[d]=g,l&&(e.prototype[d]=function(){var y=this.__chain__;if(s||y){var w=e(this.__wrapped__),T=w.__actions__=Le(this.__actions__);return T.push({func:g,args:arguments,thisArg:e}),w.__chain__=y,w}return g.apply(e,Wt([this.value()],arguments))})}),e}function d_(){return we._===this&&(we._=Bc),this}function Vu(){}function h_(e){return e=G(e),z(function(t){return Uo(t,e)})}var g_=Su(re),v_=Su(uo),p_=Su(eu);function is(e){return Fu(e)?tu(_t(e)):Kd(e)}function __(e){return function(t){return e==null?i:nn(e,t)}}var m_=ff(),y_=ff(!0);function ju(){return[]}function ea(){return!1}function w_(){return{}}function E_(){return""}function D_(){return!0}function T_(e,t){if(e=G(e),e<1||e>gt)return[];var n=ae,r=Ae(e,ae);t=N(t),e-=ae;for(var a=iu(r,t);++n<e;)t(n);return a}function A_(e){return $(e)?re(e,_t):Ge(e)?[e]:Le(Af(J(e)))}function x_(e){var t=++Fc;return J(e)+t}var O_=ei(function(e,t){return e+t},0),b_=Ru("ceil"),I_=ei(function(e,t){return e/t},1),S_=Ru("floor");function R_(e){return e&&e.length?qr(e,Me,vu):i}function C_(e,t){return e&&e.length?qr(e,N(t,2),vu):i}function L_(e){return fo(e,Me)}function N_(e,t){return fo(e,N(t,2))}function P_(e){return e&&e.length?qr(e,Me,yu):i}function M_(e,t){return e&&e.length?qr(e,N(t,2),yu):i}var F_=ei(function(e,t){return e*t},1),W_=Ru("round"),B_=ei(function(e,t){return e-t},0);function U_(e){return e&&e.length?ru(e,Me):0}function $_(e,t){return e&&e.length?ru(e,N(t,2)):0}return o.after=fv,o.ary=Mf,o.assign=kv,o.assignIn=kf,o.assignInWith=hi,o.assignWith=Jv,o.at=Qv,o.before=Ff,o.bind=Hu,o.bindAll=n_,o.bindKey=Wf,o.castArray=wv,o.chain=Lf,o.chunk=Sh,o.compact=Rh,o.concat=Ch,o.cond=r_,o.conforms=i_,o.constant=ku,o.countBy=Ug,o.create=Vv,o.curry=Bf,o.curryRight=Uf,o.debounce=$f,o.defaults=jv,o.defaultsDeep=ep,o.defer=sv,o.delay=lv,o.difference=Lh,o.differenceBy=Nh,o.differenceWith=Ph,o.drop=Mh,o.dropRight=Fh,o.dropRightWhile=Wh,o.dropWhile=Bh,o.fill=Uh,o.filter=Gg,o.flatMap=Zg,o.flatMapDeep=Yg,o.flatMapDepth=Kg,o.flatten=If,o.flattenDeep=$h,o.flattenDepth=Gh,o.flip=cv,o.flow=a_,o.flowRight=o_,o.fromPairs=Hh,o.functions=op,o.functionsIn=fp,o.groupBy=qg,o.initial=Zh,o.intersection=Yh,o.intersectionBy=Kh,o.intersectionWith=qh,o.invert=lp,o.invertBy=cp,o.invokeMap=kg,o.iteratee=Ju,o.keyBy=Jg,o.keys=_e,o.keysIn=Pe,o.map=oi,o.mapKeys=hp,o.mapValues=gp,o.matches=f_,o.matchesProperty=s_,o.memoize=si,o.merge=vp,o.mergeWith=Jf,o.method=l_,o.methodOf=c_,o.mixin=Qu,o.negate=li,o.nthArg=h_,o.omit=pp,o.omitBy=_p,o.once=dv,o.orderBy=Qg,o.over=g_,o.overArgs=hv,o.overEvery=v_,o.overSome=p_,o.partial=zu,o.partialRight=Gf,o.partition=Vg,o.pick=mp,o.pickBy=Qf,o.property=is,o.propertyOf=__,o.pull=Qh,o.pullAll=Rf,o.pullAllBy=Vh,o.pullAllWith=jh,o.pullAt=eg,o.range=m_,o.rangeRight=y_,o.rearg=gv,o.reject=tv,o.remove=tg,o.rest=vv,o.reverse=$u,o.sampleSize=rv,o.set=wp,o.setWith=Ep,o.shuffle=iv,o.slice=ng,o.sortBy=ov,o.sortedUniq=sg,o.sortedUniqBy=lg,o.split=Zp,o.spread=pv,o.tail=cg,o.take=dg,o.takeRight=hg,o.takeRightWhile=gg,o.takeWhile=vg,o.tap=Rg,o.throttle=_v,o.thru=ai,o.toArray=Kf,o.toPairs=Vf,o.toPairsIn=jf,o.toPath=A_,o.toPlainObject=Xf,o.transform=Dp,o.unary=mv,o.union=pg,o.unionBy=_g,o.unionWith=mg,o.uniq=yg,o.uniqBy=wg,o.uniqWith=Eg,o.unset=Tp,o.unzip=Gu,o.unzipWith=Cf,o.update=Ap,o.updateWith=xp,o.values=Sn,o.valuesIn=Op,o.without=Dg,o.words=ns,o.wrap=yv,o.xor=Tg,o.xorBy=Ag,o.xorWith=xg,o.zip=Og,o.zipObject=bg,o.zipObjectDeep=Ig,o.zipWith=Sg,o.entries=Vf,o.entriesIn=jf,o.extend=kf,o.extendWith=hi,Qu(o,o),o.add=O_,o.attempt=rs,o.camelCase=Rp,o.capitalize=es,o.ceil=b_,o.clamp=bp,o.clone=Ev,o.cloneDeep=Tv,o.cloneDeepWith=Av,o.cloneWith=Dv,o.conformsTo=xv,o.deburr=ts,o.defaultTo=u_,o.divide=I_,o.endsWith=Cp,o.eq=ft,o.escape=Lp,o.escapeRegExp=Np,o.every=$g,o.find=Hg,o.findIndex=Of,o.findKey=tp,o.findLast=zg,o.findLastIndex=bf,o.findLastKey=np,o.floor=S_,o.forEach=Nf,o.forEachRight=Pf,o.forIn=rp,o.forInRight=ip,o.forOwn=up,o.forOwnRight=ap,o.get=Ku,o.gt=Ov,o.gte=bv,o.has=sp,o.hasIn=qu,o.head=Sf,o.identity=Me,o.includes=Xg,o.indexOf=zh,o.inRange=Ip,o.invoke=dp,o.isArguments=an,o.isArray=$,o.isArrayBuffer=Iv,o.isArrayLike=Ne,o.isArrayLikeObject=se,o.isBoolean=Sv,o.isBuffer=Zt,o.isDate=Rv,o.isElement=Cv,o.isEmpty=Lv,o.isEqual=Nv,o.isEqualWith=Pv,o.isError=Zu,o.isFinite=Mv,o.isFunction=It,o.isInteger=Hf,o.isLength=ci,o.isMap=zf,o.isMatch=Fv,o.isMatchWith=Wv,o.isNaN=Bv,o.isNative=Uv,o.isNil=Gv,o.isNull=$v,o.isNumber=Zf,o.isObject=ue,o.isObjectLike=oe,o.isPlainObject=or,o.isRegExp=Yu,o.isSafeInteger=Hv,o.isSet=Yf,o.isString=di,o.isSymbol=Ge,o.isTypedArray=In,o.isUndefined=zv,o.isWeakMap=Zv,o.isWeakSet=Yv,o.join=Xh,o.kebabCase=Pp,o.last=je,o.lastIndexOf=kh,o.lowerCase=Mp,o.lowerFirst=Fp,o.lt=Kv,o.lte=qv,o.max=R_,o.maxBy=C_,o.mean=L_,o.meanBy=N_,o.min=P_,o.minBy=M_,o.stubArray=ju,o.stubFalse=ea,o.stubObject=w_,o.stubString=E_,o.stubTrue=D_,o.multiply=F_,o.nth=Jh,o.noConflict=d_,o.noop=Vu,o.now=fi,o.pad=Wp,o.padEnd=Bp,o.padStart=Up,o.parseInt=$p,o.random=Sp,o.reduce=jg,o.reduceRight=ev,o.repeat=Gp,o.replace=Hp,o.result=yp,o.round=W_,o.runInContext=h,o.sample=nv,o.size=uv,o.snakeCase=zp,o.some=av,o.sortedIndex=rg,o.sortedIndexBy=ig,o.sortedIndexOf=ug,o.sortedLastIndex=ag,o.sortedLastIndexBy=og,o.sortedLastIndexOf=fg,o.startCase=Yp,o.startsWith=Kp,o.subtract=B_,o.sum=U_,o.sumBy=$_,o.template=qp,o.times=T_,o.toFinite=St,o.toInteger=G,o.toLength=qf,o.toLower=Xp,o.toNumber=et,o.toSafeInteger=Xv,o.toString=J,o.toUpper=kp,o.trim=Jp,o.trimEnd=Qp,o.trimStart=Vp,o.truncate=jp,o.unescape=e_,o.uniqueId=x_,o.upperCase=t_,o.upperFirst=Xu,o.each=Nf,o.eachRight=Pf,o.first=Sf,Qu(o,function(){var e={};return vt(o,function(t,n){Q.call(o.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),o.VERSION=c,Xe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){o[e].placeholder=o}),Xe(["drop","take"],function(e,t){K.prototype[e]=function(n){n=n===i?1:ge(G(n),0);var r=this.__filtered__&&!t?new K(this):this.clone();return r.__filtered__?r.__takeCount__=Ae(n,r.__takeCount__):r.__views__.push({size:Ae(n,ae),type:e+(r.__dir__<0?"Right":"")}),r},K.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),Xe(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Mt||n==dn;K.prototype[e]=function(a){var s=this.clone();return s.__iteratees__.push({iteratee:N(a,3),type:n}),s.__filtered__=s.__filtered__||r,s}}),Xe(["head","last"],function(e,t){var n="take"+(t?"Right":"");K.prototype[e]=function(){return this[n](1).value()[0]}}),Xe(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");K.prototype[e]=function(){return this.__filtered__?new K(this):this[n](1)}}),K.prototype.compact=function(){return this.filter(Me)},K.prototype.find=function(e){return this.filter(e).head()},K.prototype.findLast=function(e){return this.reverse().find(e)},K.prototype.invokeMap=z(function(e,t){return typeof e=="function"?new K(this):this.map(function(n){return tr(n,e,t)})}),K.prototype.reject=function(e){return this.filter(li(N(e)))},K.prototype.slice=function(e,t){e=G(e);var n=this;return n.__filtered__&&(e>0||t<0)?new K(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(t=G(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},K.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},K.prototype.toArray=function(){return this.take(ae)},vt(K.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=o[r?"take"+(t=="last"?"Right":""):t],s=r||/^find/.test(t);a&&(o.prototype[t]=function(){var l=this.__wrapped__,d=r?[1]:arguments,g=l instanceof K,y=d[0],w=g||$(l),T=function(Y){var X=a.apply(o,Wt([Y],d));return r&&I?X[0]:X};w&&n&&typeof y=="function"&&y.length!=1&&(g=w=!1);var I=this.__chain__,C=!!this.__actions__.length,M=s&&!I,H=g&&!C;if(!s&&w){l=H?l:new K(this);var F=e.apply(l,d);return F.__actions__.push({func:ai,args:[T],thisArg:i}),new Je(F,I)}return M&&H?e.apply(this,d):(F=this.thru(T),M?r?F.value()[0]:F.value():F)})}),Xe(["pop","push","shift","sort","splice","unshift"],function(e){var t=Lr[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);o.prototype[e]=function(){var a=arguments;if(r&&!this.__chain__){var s=this.value();return t.apply($(s)?s:[],a)}return this[n](function(l){return t.apply($(l)?l:[],a)})}}),vt(K.prototype,function(e,t){var n=o[t];if(n){var r=n.name+"";Q.call(Tn,r)||(Tn[r]=[]),Tn[r].push({name:t,func:n})}}),Tn[jr(i,B).name]=[{name:"wrapper",func:i}],K.prototype.clone=ed,K.prototype.reverse=td,K.prototype.value=nd,o.prototype.at=Cg,o.prototype.chain=Lg,o.prototype.commit=Ng,o.prototype.next=Pg,o.prototype.plant=Fg,o.prototype.reverse=Wg,o.prototype.toJSON=o.prototype.valueOf=o.prototype.value=Bg,o.prototype.first=o.prototype.head,Xn&&(o.prototype[Xn]=Mg),o},wn=Nc();Qt?((Qt.exports=wn)._=wn,Ji._=wn):we._=wn}).call(I0)}(dr,dr.exports)),dr.exports}var Ms=S0();class R0{#r;#n;#i;#u;#a;#o;#e;#t;#f;constructor({fetchFn:f,keySerialiser:i=JSON.stringify,handleAdditionalData:c=()=>{},handleMissingData:v=(A,O)=>{throw`${A} is not in the server response`},processData:p=A=>A.map(O=>[O.id,O]),timeout:E=50}){this.#r=f,this.#n=i,this.#i=c,this.#u=v,this.#a=p,this.#o=E,this.#e=new Map,this.#t=new Set,this.#f=Ms.throttle(this.#s.bind(this),this.#o,{leading:!1,trailing:!0})}async#s(){const f=Array.from(this.#t),i=new Map(this.#e);this.#t.clear(),this.#e.clear();try{const c=await this.#r(f);this.#a(c).forEach(([p,E])=>{const A=this.#n(p);i.has(A)?(console.log("resolving",A,E),i.get(A).resolve(E),i.delete(A)):this.#i(p,E)}),i.forEach(({key:p,resolve:E,reject:A})=>{try{E(this.#u(p,c))}catch(O){console.error(O),A(O)}})}catch(c){console.error(c),i.forEach(({reject:v})=>v(c))}}fetch(f){const i=this.#n(f);if(!this.#e.has(i)){this.#t.add(f);const{resolve:c,reject:v,promise:p}=this.#l();this.#e.set(i,{key:f,resolve:c,reject:v,promise:p})}return this.#f(),this.#e.get(i).promise}#l(){let f,i;const c=new Promise((v,p)=>{f=v,i=p});return{resolve:f,reject:i,promise:c}}}function gr(u){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gr=function(f){return typeof f}:gr=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},gr(u)}function vr(u,f,i){return f in u?Object.defineProperty(u,f,{value:i,enumerable:!0,configurable:!0,writable:!0}):u[f]=i,u}function ds(u,f){var i=Object.keys(u);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(u);f&&(c=c.filter(function(v){return Object.getOwnPropertyDescriptor(u,v).enumerable})),i.push.apply(i,c)}return i}function fn(u){for(var f=1;f<arguments.length;f++){var i=arguments[f]!=null?arguments[f]:{};f%2?ds(Object(i),!0).forEach(function(c){vr(u,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(i)):ds(Object(i)).forEach(function(c){Object.defineProperty(u,c,Object.getOwnPropertyDescriptor(i,c))})}return u}function C0(u,f){if(u==null)return{};var i={},c=Object.keys(u),v,p;for(p=0;p<c.length;p++)v=c[p],!(f.indexOf(v)>=0)&&(i[v]=u[v]);return i}function L0(u,f){if(u==null)return{};var i=C0(u,f),c,v;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(u);for(v=0;v<p.length;v++)c=p[v],!(f.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(u,c)&&(i[c]=u[c])}return i}function N0(u,f){return M0(u)||W0(u,f)||ma(u,f)||U0()}function Ei(u){return P0(u)||F0(u)||ma(u)||B0()}function P0(u){if(Array.isArray(u))return la(u)}function M0(u){if(Array.isArray(u))return u}function F0(u){if(typeof Symbol<"u"&&Symbol.iterator in Object(u))return Array.from(u)}function W0(u,f){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(u)))){var i=[],c=!0,v=!1,p=void 0;try{for(var E=u[Symbol.iterator](),A;!(c=(A=E.next()).done)&&(i.push(A.value),!(f&&i.length===f));c=!0);}catch(O){v=!0,p=O}finally{try{!c&&E.return!=null&&E.return()}finally{if(v)throw p}}return i}}function ma(u,f){if(u){if(typeof u=="string")return la(u,f);var i=Object.prototype.toString.call(u).slice(8,-1);if(i==="Object"&&u.constructor&&(i=u.constructor.name),i==="Map"||i==="Set")return Array.from(u);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return la(u,f)}}function la(u,f){(f==null||f>u.length)&&(f=u.length);for(var i=0,c=new Array(f);i<f;i++)c[i]=u[i];return c}function B0(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ya(u,f){var i;if(typeof Symbol>"u"||u[Symbol.iterator]==null){if(Array.isArray(u)||(i=ma(u))||f){i&&(u=i);var c=0,v=function(){};return{s:v,n:function(){return c>=u.length?{done:!0}:{done:!1,value:u[c++]}},e:function(O){throw O},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,E=!1,A;return{s:function(){i=u[Symbol.iterator]()},n:function(){var O=i.next();return p=O.done,O},e:function(O){E=!0,A=O},f:function(){try{!p&&i.return!=null&&i.return()}finally{if(E)throw A}}}}var $0="finalize",G0="consider";function Fn(u,f,i){u.dispatchEvent(new CustomEvent($0,{detail:{items:f,info:i}}))}function kt(u,f,i){u.dispatchEvent(new CustomEvent(G0,{detail:{items:f,info:i}}))}var Ii="draggedEntered",yr="draggedLeft",Si="draggedOverIndex",wa="draggedLeftDocument",Di={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function H0(u,f,i){u.dispatchEvent(new CustomEvent(Ii,{detail:{indexObj:f,draggedEl:i}}))}function z0(u,f,i){u.dispatchEvent(new CustomEvent(yr,{detail:{draggedEl:f,type:Di.LEFT_FOR_ANOTHER,theOtherDz:i}}))}function Z0(u,f){u.dispatchEvent(new CustomEvent(yr,{detail:{draggedEl:f,type:Di.OUTSIDE_OF_ANY}}))}function Y0(u,f,i){u.dispatchEvent(new CustomEvent(Si,{detail:{indexObj:f,draggedEl:i}}))}function K0(u){window.dispatchEvent(new CustomEvent(wa,{detail:{draggedEl:u}}))}var be={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Ii,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Si,DRAGGED_LEFT:yr,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},Fe={POINTER:"pointer",KEYBOARD:"keyboard"},Ri="isDndShadowItem",Ea="data-is-dnd-shadow-item",Da="id:dnd-shadow-placeholder-0000",q0="dnd-action-dragged-el",me="id",ca=0;function Fs(){ca++}function Ws(){if(ca===0)throw new Error("Bug! trying to decrement when there are no dropzones");ca--}var X0=typeof window>"u";function Bs(u){var f,i=u.getBoundingClientRect(),c=getComputedStyle(u),v=c.transform;if(v){var p,E,A,O;if(v.startsWith("matrix3d("))f=v.slice(9,-1).split(/, /),p=+f[0],E=+f[5],A=+f[12],O=+f[13];else if(v.startsWith("matrix("))f=v.slice(7,-1).split(/, /),p=+f[0],E=+f[3],A=+f[4],O=+f[5];else return i;var R=c.transformOrigin,D=i.x-A-(1-p)*parseFloat(R),x=i.y-O-(1-E)*parseFloat(R.slice(R.indexOf(" ")+1)),b=p?i.width/p:u.offsetWidth,W=E?i.height/E:u.offsetHeight;return{x:D,y:x,width:b,height:W,top:x,right:D+b,bottom:x+W,left:D}}else return i}function Us(u){var f=Bs(u);return{top:f.top+window.scrollY,bottom:f.bottom+window.scrollY,left:f.left+window.scrollX,right:f.right+window.scrollX}}function Ta(u){var f=u.getBoundingClientRect();return{top:f.top+window.scrollY,bottom:f.bottom+window.scrollY,left:f.left+window.scrollX,right:f.right+window.scrollX}}function $s(u){return{x:(u.left+u.right)/2,y:(u.top+u.bottom)/2}}function k0(u,f){return Math.sqrt(Math.pow(u.x-f.x,2)+Math.pow(u.y-f.y,2))}function Aa(u,f){return u.y<=f.bottom&&u.y>=f.top&&u.x>=f.left&&u.x<=f.right}function pr(u){return $s(Ta(u))}function hs(u,f){var i=pr(u),c=Us(f);return Aa(i,c)}function J0(u,f){var i=pr(u),c=pr(f);return k0(i,c)}function Q0(u){var f=Ta(u);return f.right<0||f.left>document.documentElement.scrollWidth||f.bottom<0||f.top>document.documentElement.scrollHeight}function V0(u,f){var i=Ta(f);return Aa(u,i)?{top:u.y-i.top,bottom:i.bottom-u.y,left:u.x-i.left,right:Math.min(i.right,document.documentElement.clientWidth)-u.x}:null}var Nn;function Gs(){Nn=new Map}Gs();function j0(u){var f=Array.from(u.children).findIndex(function(i){return i.getAttribute(Ea)});if(f>=0)return Nn.has(u)||Nn.set(u,new Map),Nn.get(u).set(f,Us(u.children[f])),f}function em(u,f){if(!hs(u,f))return null;var i=f.children;if(i.length===0)return{index:0,isProximityBased:!0};for(var c=j0(f),v=0;v<i.length;v++)if(hs(u,i[v])){var p=Nn.has(f)&&Nn.get(f).get(v);return p&&!Aa(pr(u),p)?{index:c,isProximityBased:!1}:{index:v,isProximityBased:!1}}for(var E=Number.MAX_VALUE,A=void 0,O=0;O<i.length;O++){var R=J0(u,i[O]);R<E&&(E=R,A=O)}return{index:A,isProximityBased:!0}}var sr=25;function Hs(){var u;function f(){u={directionObj:void 0,stepPx:0}}f();function i(p){var E=u,A=E.directionObj,O=E.stepPx;A&&(p.scrollBy(A.x*O,A.y*O),window.requestAnimationFrame(function(){return i(p)}))}function c(p){return sr-p}function v(p,E){if(!E)return!1;var A=V0(p,E);if(A===null)return f(),!1;var O=!!u.directionObj,R=!1,D=!1;return E.scrollHeight>E.clientHeight&&(A.bottom<sr?(R=!0,u.directionObj={x:0,y:1},u.stepPx=c(A.bottom)):A.top<sr&&(R=!0,u.directionObj={x:0,y:-1},u.stepPx=c(A.top)),!O&&R)||E.scrollWidth>E.clientWidth&&(A.right<sr?(D=!0,u.directionObj={x:1,y:0},u.stepPx=c(A.right)):A.left<sr&&(D=!0,u.directionObj={x:-1,y:0},u.stepPx=c(A.left)),!O&&D)?(i(E),!0):(f(),!1)}return{scrollIfNeeded:v,resetScrolling:f}}function aa(u){return JSON.stringify(u,null,2)}function gs(u){if(!u)throw new Error("cannot get depth of a falsy node");return zs(u,0)}function zs(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return u.parentElement?zs(u.parentElement,f+1):f-1}function tm(u,f){if(Object.keys(u).length!==Object.keys(f).length)return!1;for(var i in u)if(!{}.hasOwnProperty.call(f,i)||f[i]!==u[i])return!1;return!0}function nm(u,f){if(u.length!==f.length)return!1;for(var i=0;i<u.length;i++)if(u[i]!==f[i])return!1;return!0}var rm=200,vs=10,Zs=Hs(),im=Zs.scrollIfNeeded,um=Zs.resetScrolling,da;function am(u,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rm,c,v,p=!1,E,A=Array.from(f).sort(function(R,D){return gs(D)-gs(R)});function O(){var R=pr(u),D=im(R,c);if(!D&&E&&Math.abs(E.x-R.x)<vs&&Math.abs(E.y-R.y)<vs){da=window.setTimeout(O,i);return}if(Q0(u)){K0(u);return}E=R;var x=!1,b=ya(A),W;try{for(b.s();!(W=b.n()).done;){var Z=W.value,V=em(u,Z);if(V!==null){var L=V.index;x=!0,Z!==c?(c&&z0(c,u,Z),H0(Z,V,u),c=Z):L!==v&&(Y0(Z,V,u),v=L);break}}}catch(B){b.e(B)}finally{b.f()}!x&&p&&c?(Z0(c,u),c=void 0,v=void 0,p=!1):p=!0,da=window.setTimeout(O,i)}O()}function om(){clearTimeout(da),um(),Gs()}var fm=300,Ti;function Ai(u){var f=u.touches?u.touches[0]:u;Ti={x:f.clientX,y:f.clientY}}var Ys=Hs(),sm=Ys.scrollIfNeeded,lm=Ys.resetScrolling,Ks;function qs(){Ti&&sm(Ti,document.documentElement),Ks=window.setTimeout(qs,fm)}function cm(){window.addEventListener("mousemove",Ai),window.addEventListener("touchmove",Ai),qs()}function dm(){window.removeEventListener("mousemove",Ai),window.removeEventListener("touchmove",Ai),Ti=void 0,window.clearTimeout(Ks),lm()}var hm=.2;function on(u){return"".concat(u," ").concat(hm,"s ease")}function gm(u,f){var i=u.getBoundingClientRect(),c=u.cloneNode(!0);Xs(u,c),c.id=q0,c.style.position="fixed";var v=i.top,p=i.left;if(c.style.top="".concat(v,"px"),c.style.left="".concat(p,"px"),f){var E=$s(i);v-=E.y-f.y,p-=E.x-f.x,window.setTimeout(function(){c.style.top="".concat(v,"px"),c.style.left="".concat(p,"px")},0)}return c.style.margin="0",c.style.boxSizing="border-box",c.style.height="".concat(i.height,"px"),c.style.width="".concat(i.width,"px"),c.style.transition="".concat(on("top"),", ").concat(on("left"),", ").concat(on("background-color"),", ").concat(on("opacity"),", ").concat(on("color")," "),window.setTimeout(function(){return c.style.transition+=", ".concat(on("width"),", ").concat(on("height"))},0),c.style.zIndex="9999",c.style.cursor="grabbing",c}function vm(u){u.style.cursor="grab"}function pm(u,f,i,c,v){var p=f.getBoundingClientRect(),E=u.getBoundingClientRect(),A=p.width-E.width,O=p.height-E.height;if(A||O){var R={left:(i-E.left)/E.width,top:(c-E.top)/E.height};u.style.height="".concat(p.height,"px"),u.style.width="".concat(p.width,"px"),u.style.left="".concat(parseFloat(u.style.left)-R.left*A,"px"),u.style.top="".concat(parseFloat(u.style.top)-R.top*O,"px")}Xs(f,u),v()}function Xs(u,f){var i=window.getComputedStyle(u);Array.from(i).filter(function(c){return c.startsWith("background")||c.startsWith("padding")||c.startsWith("font")||c.startsWith("text")||c.startsWith("align")||c.startsWith("justify")||c.startsWith("display")||c.startsWith("flex")||c.startsWith("border")||c==="opacity"||c==="color"||c==="list-style-type"}).forEach(function(c){return f.style.setProperty(c,i.getPropertyValue(c),i.getPropertyPriority(c))})}function _m(u,f){u.draggable=!1,u.ondragstart=function(){return!1},f?(u.style.userSelect="",u.style.WebkitUserSelect="",u.style.cursor=""):(u.style.userSelect="none",u.style.WebkitUserSelect="none",u.style.cursor="grab")}function mm(u){u.style.display="none",u.style.position="fixed",u.style.zIndex="-5"}function ym(u){u.style.visibility="hidden",u.setAttribute(Ea,"true")}function wm(u){u.style.visibility="",u.removeAttribute(Ea)}function yi(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};u.forEach(function(c){var v=f(c);Object.keys(v).forEach(function(p){c.style[p]=v[p]}),i(c).forEach(function(p){return c.classList.add(p)})})}function xi(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};u.forEach(function(c){var v=f(c);Object.keys(v).forEach(function(p){c.style[p]=""}),i(c).forEach(function(p){return c.classList.contains(p)&&c.classList.remove(p)})})}function Em(u){var f=u.style.minHeight;u.style.minHeight=window.getComputedStyle(u).getPropertyValue("height");var i=u.style.minWidth;return u.style.minWidth=window.getComputedStyle(u).getPropertyValue("width"),function(){u.style.minHeight=f,u.style.minWidth=i}}var Dm="--any--",Tm=100,ps=3,_s={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Ct,Te,Ke,Ci,ce,Li,Wn,Ze,Yt,tt,Ln=!1,xa=!1,Oa,wr=!1,ct=new Map,ve=new Map,oa=new WeakMap;function Am(u,f){ct.has(f)||ct.set(f,new Set),ct.get(f).has(u)||(ct.get(f).add(u),Fs())}function ms(u,f){ct.get(f).delete(u),Ws(),ct.get(f).size===0&&ct.delete(f)}function xm(){cm();var u=ct.get(Ci),f=ya(u),i;try{for(f.s();!(i=f.n()).done;){var c=i.value;c.addEventListener(Ii,ks),c.addEventListener(yr,Js),c.addEventListener(Si,Qs)}}catch(p){f.e(p)}finally{f.f()}window.addEventListener(wa,Bn);var v=Math.max.apply(Math,[Tm].concat(Ei(Array.from(u.keys()).map(function(p){return ve.get(p).dropAnimationDurationMs}))));am(Te,u,v*1.07)}function Om(){dm();var u=ct.get(Ci),f=ya(u),i;try{for(f.s();!(i=f.n()).done;){var c=i.value;c.removeEventListener(Ii,ks),c.removeEventListener(yr,Js),c.removeEventListener(Si,Qs)}}catch(v){f.e(v)}finally{f.f()}window.removeEventListener(wa,Bn),om()}function bm(u){return u.findIndex(function(f){return f[me]===Da})}function Ni(u){return u.findIndex(function(f){return!!f[Ri]&&f[me]!==Da})}function ks(u){var f=ve.get(u.currentTarget),i=f.items,c=f.dropFromOthersDisabled;if(!(c&&u.currentTarget!==ce)){if(wr=!1,i=i.filter(function(x){return x[me]!==Wn[me]}),ce!==u.currentTarget){var v=ve.get(ce).items,p=v.filter(function(x){return!x[Ri]});kt(ce,p,{trigger:be.DRAGGED_ENTERED_ANOTHER,id:Ke[me],source:Fe.POINTER})}else{var E=bm(i);E!==-1&&i.splice(E,1)}var A=u.detail.indexObj,O=A.index,R=A.isProximityBased,D=R&&O===u.currentTarget.children.length-1?O+1:O;Ze=u.currentTarget,i.splice(D,0,Wn),kt(u.currentTarget,i,{trigger:be.DRAGGED_ENTERED,id:Ke[me],source:Fe.POINTER})}}function Js(u){if(Ln){var f=ve.get(u.currentTarget),i=f.items,c=f.dropFromOthersDisabled;if(!(c&&u.currentTarget!==ce&&u.currentTarget!==Ze)){var v=Ni(i),p=i.splice(v,1)[0];Ze=void 0;var E=u.detail,A=E.type,O=E.theOtherDz;if(A===Di.OUTSIDE_OF_ANY||A===Di.LEFT_FOR_ANOTHER&&O!==ce&&ve.get(O).dropFromOthersDisabled){wr=!0,Ze=ce;var R=ve.get(ce).items;R.splice(Li,0,p),kt(ce,R,{trigger:be.DRAGGED_LEFT_ALL,id:Ke[me],source:Fe.POINTER})}kt(u.currentTarget,i,{trigger:be.DRAGGED_LEFT,id:Ke[me],source:Fe.POINTER})}}}function Qs(u){var f=ve.get(u.currentTarget),i=f.items,c=f.dropFromOthersDisabled;if(!(c&&u.currentTarget!==ce)){wr=!1;var v=u.detail.indexObj.index,p=Ni(i);i.splice(p,1),i.splice(v,0,Wn),kt(u.currentTarget,i,{trigger:be.DRAGGED_OVER_INDEX,id:Ke[me],source:Fe.POINTER})}}function Oi(u){u.preventDefault();var f=u.touches?u.touches[0]:u;tt={x:f.clientX,y:f.clientY},Te.style.transform="translate3d(".concat(tt.x-Yt.x,"px, ").concat(tt.y-Yt.y,"px, 0)")}function Bn(){xa=!0,window.removeEventListener("mousemove",Oi),window.removeEventListener("touchmove",Oi),window.removeEventListener("mouseup",Bn),window.removeEventListener("touchend",Bn),Om(),vm(Te),Ze||(Ze=ce);var u=ve.get(Ze),f=u.items,i=u.type;xi(ct.get(i),function(p){return ve.get(p).dropTargetStyle},function(p){return ve.get(p).dropTargetClasses});var c=Ni(f);c===-1&&(c=Li),f=f.map(function(p){return p[Ri]?Ke:p});function v(){Oa(),Fn(Ze,f,{trigger:wr?be.DROPPED_OUTSIDE_OF_ANY:be.DROPPED_INTO_ZONE,id:Ke[me],source:Fe.POINTER}),Ze!==ce&&Fn(ce,ve.get(ce).items,{trigger:be.DROPPED_INTO_ANOTHER,id:Ke[me],source:Fe.POINTER}),wm(Ze.children[c]),Sm()}Im(c,v)}function Im(u,f){var i=Bs(Ze.children[u]),c={x:i.left-parseFloat(Te.style.left),y:i.top-parseFloat(Te.style.top)},v=ve.get(Ze),p=v.dropAnimationDurationMs,E="transform ".concat(p,"ms ease");Te.style.transition=Te.style.transition?Te.style.transition+","+E:E,Te.style.transform="translate3d(".concat(c.x,"px, ").concat(c.y,"px, 0)"),window.setTimeout(f,p)}function Sm(){Te.remove(),Ct.remove(),Te=void 0,Ct=void 0,Ke=void 0,Ci=void 0,ce=void 0,Li=void 0,Wn=void 0,Ze=void 0,Yt=void 0,tt=void 0,Ln=!1,xa=!1,Oa=void 0,wr=!1}function Rm(u,f){var i={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:_s,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1},c=new Map;function v(){window.addEventListener("mousemove",A,{passive:!1}),window.addEventListener("touchmove",A,{passive:!1,capture:!1}),window.addEventListener("mouseup",E,{passive:!1}),window.addEventListener("touchend",E,{passive:!1})}function p(){window.removeEventListener("mousemove",A),window.removeEventListener("touchmove",A),window.removeEventListener("mouseup",E),window.removeEventListener("touchend",E)}function E(){p(),Ct=void 0,Yt=void 0,tt=void 0}function A(x){x.preventDefault();var b=x.touches?x.touches[0]:x;tt={x:b.clientX,y:b.clientY},(Math.abs(tt.x-Yt.x)>=ps||Math.abs(tt.y-Yt.y)>=ps)&&(p(),R())}function O(x){if(!(x.target!==x.currentTarget&&(x.target.value!==void 0||x.target.isContentEditable))&&!x.button&&!Ln){x.stopPropagation();var b=x.touches?x.touches[0]:x;Yt={x:b.clientX,y:b.clientY},tt=fn({},Yt),Ct=x.currentTarget,v()}}function R(){Ln=!0;var x=c.get(Ct);Li=x,ce=Ct.parentElement;var b=ce.getRootNode(),W=b.body||b,Z=i.items,V=i.type,L=i.centreDraggedOnCursor;Ke=fn({},Z[x]),Ci=V,Wn=fn(fn({},Ke),{},vr({},Ri,!0));var B=fn(fn({},Wn),{},vr({},me,Da));Te=gm(Ct,L&&tt);function q(){Te.parentElement?window.requestAnimationFrame(q):(W.appendChild(Te),Te.focus(),xm(),mm(Ct),W.appendChild(Ct))}window.requestAnimationFrame(q),yi(Array.from(ct.get(i.type)).filter(function(P){return P===ce||!ve.get(P).dropFromOthersDisabled}),function(P){return ve.get(P).dropTargetStyle},function(P){return ve.get(P).dropTargetClasses}),Z.splice(x,1,B),Oa=Em(ce),kt(ce,Z,{trigger:be.DRAG_STARTED,id:Ke[me],source:Fe.POINTER}),window.addEventListener("mousemove",Oi,{passive:!1}),window.addEventListener("touchmove",Oi,{passive:!1,capture:!1}),window.addEventListener("mouseup",Bn,{passive:!1}),window.addEventListener("touchend",Bn,{passive:!1})}function D(x){var b=x.items,W=b===void 0?void 0:b,Z=x.flipDurationMs,V=Z===void 0?0:Z,L=x.type,B=L===void 0?Dm:L,q=x.dragDisabled,P=q===void 0?!1:q,pe=x.morphDisabled,j=pe===void 0?!1:pe,de=x.dropFromOthersDisabled,fe=de===void 0?!1:de,dt=x.dropTargetStyle,ht=dt===void 0?_s:dt,Lt=x.dropTargetClasses,Nt=Lt===void 0?[]:Lt,Pt=x.transformDraggedElement,Er=Pt===void 0?function(){}:Pt,Mt=x.centreDraggedOnCursor,ye=Mt===void 0?!1:Mt;i.dropAnimationDurationMs=V,i.type&&B!==i.type&&ms(u,i.type),i.type=B,Am(u,B),i.items=Ei(W),i.dragDisabled=P,i.morphDisabled=j,i.transformDraggedElement=Er,i.centreDraggedOnCursor=ye,Ln&&!xa&&(!tm(ht,i.dropTargetStyle)||!nm(Nt,i.dropTargetClasses))&&(xi([u],function(){return i.dropTargetStyle},function(){return Nt}),yi([u],function(){return ht},function(){return Nt})),i.dropTargetStyle=ht,i.dropTargetClasses=Ei(Nt);function dn(ae,wt){return ve.get(ae)?ve.get(ae)[wt]:i[wt]}Ln&&i.dropFromOthersDisabled!==fe&&(fe?xi([u],function(ae){return dn(ae,"dropTargetStyle")},function(ae){return dn(ae,"dropTargetClasses")}):yi([u],function(ae){return dn(ae,"dropTargetStyle")},function(ae){return dn(ae,"dropTargetClasses")})),i.dropFromOthersDisabled=fe,ve.set(u,i);for(var yt=Ni(i.items),gt=function(wt){var We=u.children[wt];if(_m(We,P),wt===yt)return j||pm(Te,We,tt.x,tt.y,function(){return i.transformDraggedElement(Te,Ke,wt)}),ym(We),"continue";We.removeEventListener("mousedown",oa.get(We)),We.removeEventListener("touchstart",oa.get(We)),P||(We.addEventListener("mousedown",O),We.addEventListener("touchstart",O),oa.set(We,O)),c.set(We,wt)},Un=0;Un<u.children.length;Un++)var hn=gt(Un)}return D(f),{update:function(b){D(b)},destroy:function(){ms(u,i.type),ve.delete(u)}}}var pi,ha={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Cm=(pi={},vr(pi,ha.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),vr(pi,ha.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),pi),Lm="dnd-action-aria-alert",Ce;function ys(){Ce=document.createElement("div"),function(){Ce.id=Lm,Ce.style.position="fixed",Ce.style.bottom="0",Ce.style.left="0",Ce.style.zIndex="-5",Ce.style.opacity="0",Ce.style.height="0",Ce.style.width="0",Ce.setAttribute("role","alert")}(),document.body.prepend(Ce),Object.entries(Cm).forEach(function(u){var f=N0(u,2),i=f[0],c=f[1];return document.body.prepend(Pm(i,c))})}function Nm(){return X0?null:(document.readyState==="complete"?ys():window.addEventListener("DOMContentLoaded",ys),fn({},ha))}function Pm(u,f){var i=document.createElement("div");return i.id=u,i.innerHTML="<p>".concat(f,"</p>"),i.style.display="none",i.style.position="fixed",i.style.zIndex="-5",i}function Pn(u){Ce.innerHTML="";var f=document.createTextNode(u);Ce.appendChild(f),Ce.style.display="none",Ce.style.display="inline"}var Mm="--any--",ws={outline:"rgba(255, 255, 102, 0.7) solid 2px"},nt=!1,ga,Oe,cn="",sn,mt,qt="",bi=new WeakSet,Es=new WeakMap,Ds=new WeakMap,va=new Map,De=new Map,lt=new Map,Ts=Nm();function Fm(u,f){lt.size===0&&(window.addEventListener("keydown",Vs),window.addEventListener("click",js)),lt.has(f)||lt.set(f,new Set),lt.get(f).has(u)||(lt.get(f).add(u),Fs())}function As(u,f){Oe===u&&_r(),lt.get(f).delete(u),Ws(),lt.get(f).size===0&&lt.delete(f),lt.size===0&&(window.removeEventListener("keydown",Vs),window.removeEventListener("click",js))}function Vs(u){if(nt)switch(u.key){case"Escape":{_r();break}}}function js(){nt&&(bi.has(document.activeElement)||_r())}function Wm(u){if(nt){var f=u.currentTarget;if(f!==Oe){cn=f.getAttribute("aria-label")||"";var i=De.get(Oe),c=i.items,v=c.find(function(x){return x[me]===mt}),p=c.indexOf(v),E=c.splice(p,1)[0],A=De.get(f),O=A.items,R=A.autoAriaDisabled;f.getBoundingClientRect().top<Oe.getBoundingClientRect().top||f.getBoundingClientRect().left<Oe.getBoundingClientRect().left?(O.push(E),R||Pn("Moved item ".concat(qt," to the end of the list ").concat(cn))):(O.unshift(E),R||Pn("Moved item ".concat(qt," to the beginning of the list ").concat(cn)));var D=Oe;Fn(D,c,{trigger:be.DROPPED_INTO_ANOTHER,id:mt,source:Fe.KEYBOARD}),Fn(f,O,{trigger:be.DROPPED_INTO_ZONE,id:mt,source:Fe.KEYBOARD}),Oe=f}}}function el(){va.forEach(function(u,f){var i=u.update;return i(De.get(f))})}function _r(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;De.get(Oe).autoAriaDisabled||Pn("Stopped dragging item ".concat(qt)),bi.has(document.activeElement)&&document.activeElement.blur(),u&&kt(Oe,De.get(Oe).items,{trigger:be.DRAG_STOPPED,id:mt,source:Fe.KEYBOARD}),xi(lt.get(ga),function(f){return De.get(f).dropTargetStyle},function(f){return De.get(f).dropTargetClasses}),sn=null,mt=null,qt="",ga=null,Oe=null,cn="",nt=!1,el()}function Bm(u,f){var i={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:ws,dropTargetClasses:[],autoAriaDisabled:!1};function c(D,x,b){D.length<=1||D.splice(b,1,D.splice(x,1,D[b])[0])}function v(D){switch(D.key){case"Enter":case" ":{if((D.target.disabled!==void 0||D.target.href||D.target.isContentEditable)&&!bi.has(D.target))return;D.preventDefault(),D.stopPropagation(),nt?_r():p(D);break}case"ArrowDown":case"ArrowRight":{if(!nt)return;D.preventDefault(),D.stopPropagation();var x=De.get(u),b=x.items,W=Array.from(u.children),Z=W.indexOf(D.currentTarget);Z<W.length-1&&(i.autoAriaDisabled||Pn("Moved item ".concat(qt," to position ").concat(Z+2," in the list ").concat(cn)),c(b,Z,Z+1),Fn(u,b,{trigger:be.DROPPED_INTO_ZONE,id:mt,source:Fe.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!nt)return;D.preventDefault(),D.stopPropagation();var V=De.get(u),L=V.items,B=Array.from(u.children),q=B.indexOf(D.currentTarget);q>0&&(i.autoAriaDisabled||Pn("Moved item ".concat(qt," to position ").concat(q," in the list ").concat(cn)),c(L,q,q-1),Fn(u,L,{trigger:be.DROPPED_INTO_ZONE,id:mt,source:Fe.KEYBOARD}));break}}}function p(D){A(D.currentTarget),Oe=u,ga=i.type,nt=!0;var x=Array.from(lt.get(i.type)).filter(function(W){return W===Oe||!De.get(W).dropFromOthersDisabled});if(yi(x,function(W){return De.get(W).dropTargetStyle},function(W){return De.get(W).dropTargetClasses}),!i.autoAriaDisabled){var b="Started dragging item ".concat(qt,". Use the arrow keys to move it within its list ").concat(cn);x.length>1&&(b+=", or tab to another list in order to move the item into it"),Pn(b)}kt(u,De.get(u).items,{trigger:be.DRAG_STARTED,id:mt,source:Fe.KEYBOARD}),el()}function E(D){nt&&D.currentTarget!==sn&&(D.stopPropagation(),_r(!1),p(D))}function A(D){var x=De.get(u),b=x.items,W=Array.from(u.children),Z=W.indexOf(D);sn=D,sn.tabIndex=0,mt=b[Z][me],qt=W[Z].getAttribute("aria-label")||""}function O(D){var x=D.items,b=x===void 0?[]:x,W=D.type,Z=W===void 0?Mm:W,V=D.dragDisabled,L=V===void 0?!1:V,B=D.zoneTabIndex,q=B===void 0?0:B,P=D.dropFromOthersDisabled,pe=P===void 0?!1:P,j=D.dropTargetStyle,de=j===void 0?ws:j,fe=D.dropTargetClasses,dt=fe===void 0?[]:fe,ht=D.autoAriaDisabled,Lt=ht===void 0?!1:ht;i.items=Ei(b),i.dragDisabled=L,i.dropFromOthersDisabled=pe,i.zoneTabIndex=q,i.dropTargetStyle=de,i.dropTargetClasses=dt,i.autoAriaDisabled=Lt,Lt||(u.setAttribute("aria-disabled",L),u.setAttribute("role","list"),u.setAttribute("aria-describedby",L?Ts.DND_ZONE_DRAG_DISABLED:Ts.DND_ZONE_ACTIVE)),i.type&&Z!==i.type&&As(u,i.type),i.type=Z,Fm(u,Z),De.set(u,i),nt?u.tabIndex=u===Oe||sn.contains(u)||i.dropFromOthersDisabled||Oe&&i.type!==De.get(Oe).type?-1:0:u.tabIndex=i.zoneTabIndex,u.addEventListener("focus",Wm);for(var Nt=function(Mt){var ye=u.children[Mt];bi.add(ye),ye.tabIndex=nt?-1:0,Lt||ye.setAttribute("role","listitem"),ye.removeEventListener("keydown",Es.get(ye)),ye.removeEventListener("click",Ds.get(ye)),L||(ye.addEventListener("keydown",v),Es.set(ye,v),ye.addEventListener("click",E),Ds.set(ye,E)),nt&&i.items[Mt][me]===mt&&(sn=ye,sn.tabIndex=0,ye.focus())},Pt=0;Pt<u.children.length;Pt++)Nt(Pt)}O(f);var R={update:function(x){O(x)},destroy:function(){As(u,i.type),De.delete(u),va.delete(u)}};return va.set(u,R),R}function Um(u,f){xs(f);var i=Rm(u,f),c=Bm(u,f);return{update:function(p){xs(p),i.update(p),c.update(p)},destroy:function(){i.destroy(),c.destroy()}}}function xs(u){var f=u.items;u.flipDurationMs,u.type,u.dragDisabled,u.morphDisabled,u.dropFromOthersDisabled;var i=u.zoneTabIndex;u.dropTargetStyle;var c=u.dropTargetClasses;u.transformDraggedElement,u.autoAriaDisabled,u.centreDraggedOnCursor;var v=L0(u,["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor"]);if(Object.keys(v).length>0&&console.warn("dndzone will ignore unknown options",v),!f)throw new Error("no 'items' key provided to dndzone");var p=f.find(function(E){return!{}.hasOwnProperty.call(E,me)});if(p)throw new Error("missing '".concat(me,"' property for item ").concat(aa(p)));if(c&&!Array.isArray(c))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(gr(c),", ").concat(aa(c)));if(i&&!$m(i))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(gr(i),", ").concat(aa(i)))}function $m(u){return!isNaN(u)&&function(f){return(f|0)===f}(parseFloat(u))}function Gm(u,f){let i=new Map,c=new Map;function v(E){i=new Map,Array.from(u.children).forEach((A,O)=>{i.set(E[O],A.getBoundingClientRect())})}function p(E){Array.from(u.children).forEach((A,O)=>{const R=E[O],D=A.getBoundingClientRect(),x=i.get(R);if(x){const b=x.left-D.left,W=x.top-D.top;if(b||W){const Z=[{transform:`translate3d(${b}px, ${W}px, 0)`},{transform:"translate3d(0, 0, 0)"}],V=A.animate(Z,{duration:f,easing:"ease-out"});c.set(R,V),V.onfinish=()=>c.delete(R),V.oncancel=()=>c.delete(R)}}})}return{read:v,flip:p}}const Hm=150;let fa="id";function zm(u,f){const i=f();Km(i);const c=qm(Ym(i)),{flipDurationMs:v}=c,p=c.items;let E;G_(()=>{const{update:A,destroy:O}=Um(u,Os(c));sa(O),Mn(function(){A(Os(c)),E?.flip(p().map(D=>D[fa]))})}),Mn(function(){E=Gm(u,v())}),Xt(function(){function O(){E?.read(p().map(D=>D[fa]))}function R(){E?.read(p().map(D=>D[fa]))}u.addEventListener("consider",O),u.addEventListener("finalize",R),sa(()=>{u.removeEventListener("consider",O),u.removeEventListener("finalize",R)})})}function Zm(u){return typeof u=="function"?u:()=>u}function Ym(u){return Object.keys(u).reduce((f,i)=>(f[i]=Zm(u[i]),f),{})}function Km(u){if(typeof u.items!="function")throw new Error(`dndzone didn't get an items getter, which is a mandatory option in ${JSON.stringify(u)}`)}function qm(u){return typeof u.flipDurationMs!="function"?{...u,flipDurationMs:()=>Hm}:u}function Os(u){return Object.keys(u).reduce((f,i)=>(f[i]=u[i](),f),{})}var mr=Jt("<div>"),Xm=Jt("<div>..."),km=Jt("<div><div></div><div>"),Jm=Jt("<div>Loading..."),Qm=Jt("<div up-hungry>"),Vm=Jt("<div>&nbsp;"),jm=Jt("<div class=activity-location>"),e1=Jt("<div><div>");const t1=new Date(2021,0,1);function pa(u){return Y_(u,t1)}function n1(u){const f=()=>Array.from({length:u.segmentWidth},(i,c)=>cr(u.startdate,c));return(()=>{var i=mr(),c=u.ref;return typeof c=="function"?wi(c,i):u.ref=i,rt(i,ie(ln,{get each(){return f()},children:v=>[(()=>{var p=mr();return rt(p,()=>v.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})),Xt(E=>Cs(p,{[Ye.columnHeader]:!0,[Ye.weekend]:v.getDay()===0||v.getDay()===6},E)),p})(),ie(mi,{get when(){return u.visible},get fallback(){return(()=>{var p=Xm();return p.style.setProperty("grid-row","2/-1"),p})()},get children(){return[ie(ln,{get each(){return u.y_axis},children:(p,E)=>ie(bs,{get staff_or_location(){return p.id},get y_axis_type(){return u.y_axis_type},get i(){return E()},date:v,get active(){return u.visible},get isScrolling(){return u.isScrolling}})}),ie(bs,{date:v,get i(){return u.y_axis?.length},get active(){return u.visible},get isScrolling(){return u.isScrolling},staff_or_location:void 0,get y_axis_type(){return u.y_axis_type}})]}})]})),Xt(v=>{var p=Ye.rotaSegment,E=pa(u.startdate),A=`span ${u.segmentWidth}`;return p!==v.e&&Kt(i,v.e=p),E!==v.t&&_i(i,"data-startdate",v.t=E),A!==v.a&&((v.a=A)!=null?i.style.setProperty("grid-column",A):i.style.removeProperty("grid-column")),v},{e:void 0,t:void 0,a:void 0}),i})()}const[lr,_a]=hr(null),Cn=30;function o1(){const u=Is(),f=ta(()=>na().locationOrStaff),i=Ss(()=>({queryKey:["rota-grid",f()],queryFn:L=>fetch(`/api/config/rota-grid/${f()}`).then(B=>B.json()).then(B=>(console.log(B),B))})),c=()=>i.data?.y_axis,v=()=>i.data?.date_range,[p,E]=hr(null),[A,O]=as([]),[R,D]=hr(!1);os(()=>{console.log(v()),O(Rn(L=>{const B=new Date(Math.min(ls(v().start),new Date)),q=new Date(Math.max(ls(v().finish),cr(new Date,30)));for(let P=B;P<q;P=cr(P,Cn))L.push({startdate:P,segmentWidth:Cn,ref:null,visible:void 0,isExtra:!1})}))})(()=>!!v());const[b,W]=hr(null);os(()=>{if(!b())return;const L=new IntersectionObserver(q=>{q.forEach(P=>{const{target:pe,isIntersecting:j}=P;O(Rn(de=>{(de.find(fe=>fe.ref===pe)??{}).visible=j}))})},{threshold:0,root:b(),rootMargin:"0px 200px"});E(L),A.forEach(q=>L.observe(q.ref)),sa(()=>L.disconnect());const B=Ms.debounce(()=>D(!1),200);b().addEventListener("scroll",()=>{D(!0),"onscrollend"in b()||B()}),b().addEventListener("scrollend",()=>{D(!1)})})(()=>b()),Mn(()=>{if(A.length==0)return;const L=A.at(0),B=A.at(-1);L.visible==!0&&(console.warn("first segment is visible - should prepend another"),b().scrollBy(L.ref.scrollWidth,0),O(Rn(q=>{q.unshift({startdate:cr(L.startdate,-Cn),segmentWidth:Cn,ref:null,visible:void 0,isExtra:!0})}))),B.visible==!0&&(console.warn("last segment is visible - should append another"),O(Rn(q=>{q.push({startdate:cr(B.startdate,Cn),segmentWidth:Cn,ref:null,visible:void 0,isExtra:!0})}))),A.length>2&&A.at(0).isExtra&&A.at(0).visible==!1&&A.at(1).visible==!1&&(console.warn("removing redundant lead segment"),b().scrollBy(-L.ref.scrollWidth,0),O(Rn(q=>{q.shift()}))),A.length>2&&A.at(-1).isExtra&&A.at(-1).visible==!1&&A.at(-2).visible==!1&&(console.warn("removing redundant tail segment"),O(Rn(q=>{q.pop()})))}),Mn(()=>{console.log(lr())});const V=L=>{fetch("/api/activities/reallocate_activity",{method:"POST",body:JSON.stringify({new_row:lr().staff_or_location,activity_id:L}),headers:{"Content-Type":"application/json"}}).then(B=>B.json()).then(B=>{console.log(B),B.error&&alert(B.error),B.data.forEach(q=>u.setQueryData(["activities",q.date],q.activities))}).catch(B=>{console.error(B),alert("Server error")}).finally(()=>_a(null))};return ie(Rs,{get fallback(){return Jm()},get children(){return[ie(H_,{get open(){return!!lr()},get anchorEl(){return lr()?.ref},onClose:()=>_a(null),get children(){return[ie(ra,{children:"Create Activity"}),ie(ln,{get each(){return lr()?.items},children:L=>ie(z_,{get children(){return[ie(fs,{get when(){return na().locationOrStaff=="staff"},get children(){return ie(ra,{onClick:()=>{V(L.id)},get children(){return["Allocate to ",ta(()=>L.name)]}})}}),ie(fs,{get when(){return na().locationOrStaff=="location"},get children(){return ie(ra,{onClick:()=>{V(L.id)},get children(){return["Move ",ta(()=>L.name)," here"]}})}})]}})})]}}),(()=>{var L=km(),B=L.firstChild,q=B.nextSibling;return wi(P=>W(P),L),rt(L,ie(ln,{get each(){return c()},children:(P,pe)=>(()=>{var j=mr();return rt(j,()=>P.name),Xt(()=>Kt(j,Ye.rowHeader)),j})()}),q),rt(L,ie(ln,{each:A,children:P=>{const[pe,j]=as(P);return ie(n1,{get startdate(){return P.startdate},get segmentWidth(){return P.segmentWidth},ref:de=>{j("ref",de),p()?.observe(de)},get y_axis(){return c()},get y_axis_type(){return f()},get visible(){return P.visible},get isScrolling(){return R()}})}}),null),Xt(P=>{var pe=Ye.rotaTable,j=`repeat(${c()?.length+2},auto)`,de=Ye.rowHeader,fe=Ye.rowHeader;return pe!==P.e&&Kt(L,P.e=pe),j!==P.t&&((P.t=j)!=null?L.style.setProperty("grid-template-rows",j):L.style.removeProperty("grid-template-rows")),de!==P.a&&Kt(B,P.a=de),fe!==P.o&&Kt(q,P.o=fe),P},{e:void 0,t:void 0,a:void 0,o:void 0}),L})()]}})}const r1=new R0({fetchFn:u=>fetch("/api/activities/by_date",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dates:u.map(f=>f[1])})}).then(f=>f.json()).then(f=>f),handleMissingData:u=>[],handleAdditionalData:(u,f)=>{console.log(`Additional data for ${u}: ${f}`)},processData:u=>{const f=u.map(i=>[["activities",i.date],i.activities]);return console.log(f),f},timeout:500});function bs(u){const f=()=>u.date.toISOString().slice(0,10),i=D=>{const x=D?.filter(b=>b.staff_assignments.some(W=>W.staff.id===u.staff_or_location)||b.location?.id===u.staff_or_location||!u.staff_or_location&&u.y_axis_type==="staff").map(b=>({...b,original_date:f(),original_row:u.staff_or_location||null,id:`${b.id}-${u.staff_or_location}`,activity_id:b.id}));return console.log(x,u.staff_or_location,u.y_axis_type),x},[c,v]=hr([]),p=Ss(()=>({queryKey:["activities",f()],queryFn:({queryKey:D})=>r1.fetch(D),enabled:u.active&&!u.isScrolling,staleTime:1e3*60*60}));Mn(()=>{p.data&&v(i(p.data))});const E=({detail:D})=>{v(D.items)},A=Is(),O=({detail:D})=>{if(console.log(D),v(D.items),D.info.trigger==be.DROPPED_INTO_ZONE){const x=c().find(b=>b.id==D.info.id);console.log(`attempted to move item from ${x.original_date} ${x.original_row} to ${f()} ${u.staff_or_location}`),fetch(`${BACKEND_URL}/activities/reallocate_activity`,{method:"POST",body:JSON.stringify({original_date:x.original_date,original_row:x.original_row,new_date:f(),new_row:u.staff_or_location,activity_id:x.activity_id}),headers:{"Content-Type":"application/json"}}).then(b=>b.json()).then(b=>{console.log(b),b.error&&alert(b.error),b.data.forEach(W=>A.setQueryData(["activities",W.date],W.activities))}).catch(b=>{console.error(b),alert("Server error")})}};Mn(()=>{p?.data?.length>0&&console.log(p.data)});let R;return ie(Rs,{get fallback(){return mr()},get children(){var D=Qm(),x=R;return typeof x=="function"?wi(x,D):R=D,ia(D,"contextmenu",b=>{console.log(b.target),_a({ref:b.target,date:f(),staff_or_location:u.staff_or_location,items:p.data}),b.preventDefault()}),ia(D,"finalize",O),ia(D,"consider",E),wi(zm,D,()=>({items:c})),rt(D,ie(ln,{get each(){return c()},get fallback(){return Vm()},children:b=>ie(i1,{activity_def:b,get staff_or_location(){return u.staff_or_location},show_staff:!0})})),Xt(b=>{var W={[Ye.activityCell]:!!u.staff_or_location,[Ye.unallocatedActivities]:!u.staff_or_location,[Ye.weekend]:u.date.getDay()===0||u.date.getDay()===6},Z=pa(u.date),V=u.i,L=`td-${pa(u.date)}-${u.i}`;return b.e=Cs(D,W,b.e),Z!==b.t&&_i(D,"data-date",b.t=Z),V!==b.a&&_i(D,"data-yaxis",b.a=V),L!==b.o&&_i(D,"id",b.o=L),b},{e:void 0,t:void 0,a:void 0,o:void 0}),D}})}function i1(u){return(()=>{var f=e1(),i=f.firstChild;return rt(i,()=>u.activity_def.name),rt(f,ie(mi,{get when(){return u.activity_def.location&&u.staff_or_location&&u.staff_or_location!==u.activity_def.location.id},get children(){var c=jm();return rt(c,()=>u.activity_def.location.name),c}}),null),rt(f,ie(ln,{get each(){return u.activity_def.staff_assignments},children:c=>ie(mi,{get when(){return c.staff.id!==u.staff_or_location},get children(){var v=mr();return rt(v,()=>c.staff.name,null),rt(v,ie(mi,{get when(){return c.times},get children(){return c.times}}),null),Xt(()=>Kt(v,Ye.assignment)),v}})}),null),Xt(c=>{var v=Ye.activity,p=Ye.activityName;return v!==c.e&&Kt(f,c.e=v),p!==c.t&&Kt(i,c.t=p),c},{e:void 0,t:void 0}),f})()}export{i1 as Activity,bs as ActivityCell,o1 as default,pa as toOrdinal};
